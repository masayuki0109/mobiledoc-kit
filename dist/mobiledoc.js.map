{"version":3,"file":"mobiledoc.js","sources":["../src/js/utils/array-utils.ts","../src/js/utils/dom-utils.ts","../src/js/views/view.js","../src/js/utils/string-utils.ts","../src/js/utils/element-utils.ts","../src/js/utils/markuperable.ts","../src/js/utils/mobiledoc-error.ts","../src/js/utils/assert.ts","../src/js/models/types.ts","../src/js/models/marker.ts","../src/js/utils/keycodes.ts","../src/js/utils/keys.ts","../src/js/utils/characters.ts","../src/js/utils/key.ts","../src/js/utils/selection-utils.ts","../src/js/utils/cursor/range.ts","../src/js/utils/cursor/position.ts","../src/js/editor/ui.js","../src/js/views/tooltip.js","../src/js/models/lifecycle-callbacks.js","../src/js/editor/post/post-inserter.js","../src/js/utils/deprecate.ts","../src/js/utils/to-range.ts","../src/js/editor/post.js","../src/js/utils/placeholder-image-src.ts","../src/js/cards/image.js","../src/js/utils/compiler.ts","../src/js/renderers/mobiledoc/0-2.js","../src/js/parsers/mobiledoc/0-2.js","../src/js/renderers/mobiledoc/0-3.js","../src/js/parsers/mobiledoc/0-3.js","../src/js/renderers/mobiledoc/0-3-1.js","../src/js/parsers/mobiledoc/0-3-1.js","../src/js/renderers/mobiledoc/0-3-2.js","../src/js/utils/object-utils.ts","../src/js/parsers/mobiledoc/0-3-2.js","../src/js/parsers/mobiledoc/index.js","../src/js/models/card-node.js","../src/js/models/atom-node.js","../src/js/utils/linked-item.ts","../src/js/models/_section.ts","../src/js/utils/copy.ts","../src/js/models/card.ts","../src/js/utils/cursor.ts","../src/js/utils/set.ts","../src/js/utils/linked-list.ts","../src/js/models/_markerable.ts","../src/js/models/_attributable.js","../src/js/models/markup-section.js","../src/js/renderers/editor-dom.js","../src/js/models/list-section.js","../src/js/models/list-item.js","../src/js/models/markup.js","../src/js/parsers/section.js","../src/js/parsers/dom.js","../src/js/parsers/html.js","../src/js/models/render-node.js","../src/js/utils/element-map.ts","../src/js/models/render-tree.ts","../src/js/renderers/mobiledoc/index.js","../src/js/utils/merge.ts","../src/js/utils/environment.ts","../src/js/utils/mixin.ts","../src/js/models/atom.js","../src/js/models/post.js","../src/js/models/image.js","../src/js/models/post-node-builder.js","../src/js/editor/text-input-handlers.js","../src/js/utils/browser.ts","../src/js/editor/key-commands.js","../src/js/editor/mutation-handler.js","../src/js/utils/fixed-queue.ts","../src/js/editor/edit-history.js","../src/js/parsers/text.js","../src/js/utils/parse-utils.js","../src/js/editor/text-input-handler.js","../src/js/editor/selection-change-observer.js","../src/js/editor/selection-manager.js","../src/js/editor/event-manager.js","../src/js/editor/edit-state.js","../node_modules/mobiledoc-dom-renderer/lib/utils/dom.js","../node_modules/mobiledoc-dom-renderer/lib/utils/render-type.js","../node_modules/mobiledoc-dom-renderer/lib/cards/image.js","../node_modules/mobiledoc-dom-renderer/lib/utils/section-types.js","../node_modules/mobiledoc-dom-renderer/lib/utils/tag-names.js","../node_modules/mobiledoc-dom-renderer/lib/utils/array-utils.js","../node_modules/mobiledoc-dom-renderer/lib/utils/sanitization-utils.js","../node_modules/mobiledoc-dom-renderer/lib/utils/render-utils.js","../node_modules/mobiledoc-dom-renderer/lib/renderers/0-2.js","../node_modules/mobiledoc-dom-renderer/lib/utils/marker-types.js","../node_modules/mobiledoc-dom-renderer/lib/renderers/0-3.js","../node_modules/mobiledoc-dom-renderer/lib/renderer-factory.js","../node_modules/mobiledoc-text-renderer/lib/cards/image.js","../node_modules/mobiledoc-text-renderer/lib/utils/render-type.js","../node_modules/mobiledoc-text-renderer/lib/utils/section-types.js","../node_modules/mobiledoc-text-renderer/lib/renderers/0-2.js","../node_modules/mobiledoc-text-renderer/lib/utils/marker-types.js","../node_modules/mobiledoc-text-renderer/lib/renderers/0-3.js","../node_modules/mobiledoc-text-renderer/lib/renderer-factory.js","../src/js/utils/log-manager.ts","../src/js/editor/editor.js","../src/js/version.js"],"sourcesContent":["interface Detectable<T> {\n  detect(cb: (val: T) => boolean): T\n}\n\ninterface HasLength<T> {\n  [key: number]: T\n  length: number\n}\n\nexport function detect<T>(enumerable: Detectable<T> | HasLength<T>, callback: (val: T) => boolean): T | undefined {\n  if ('detect' in enumerable) {\n    return enumerable.detect(callback)\n  } else {\n    for (let i = 0; i < enumerable.length; i++) {\n      if (callback(enumerable[i])) {\n        return enumerable[i]\n      }\n    }\n  }\n}\n\ninterface Anyable<T> {\n  any(cb: (val: T) => boolean): boolean\n}\n\nexport function any<T>(enumerable: Anyable<T> | HasLength<T>, callback: (val: T) => boolean): boolean {\n  if ('any' in enumerable) {\n    return enumerable.any(callback)\n  }\n\n  for (let i = 0; i < enumerable.length; i++) {\n    if (callback(enumerable[i])) {\n      return true\n    }\n  }\n\n  return false\n}\n\ninterface Everyable<T> {\n  every(cb: (val: T) => boolean): boolean\n}\n\nexport function every<T>(enumerable: Everyable<T> | HasLength<T>, callback: (val: T) => boolean): boolean {\n  if ('every' in enumerable) {\n    return enumerable.every(callback)\n  }\n\n  for (let i = 0; i < enumerable.length; i++) {\n    if (!callback(enumerable[i])) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport function toArray<T>(arrayLike: ArrayLike<T>): T[] {\n  return Array.prototype.slice.call(arrayLike)\n}\n\ninterface ForEachable<T> {\n  forEach(cb: (val: T, idx: number) => void): void\n}\n\n/**\n * Useful for array-like things that aren't\n * actually arrays, like NodeList\n * @private\n */\nexport function forEach<T>(enumerable: ForEachable<T> | HasLength<T>, callback: (val: T, idx: number) => void): void {\n  if ('forEach' in enumerable) {\n    enumerable.forEach(callback)\n  } else {\n    for (let i = 0; i < enumerable.length; i++) {\n      callback(enumerable[i], i)\n    }\n  }\n}\n\nexport function filter<T>(enumerable: ForEachable<T>, conditionFn: (val: T) => boolean) {\n  const filtered: T[] = []\n\n  forEach(enumerable, i => {\n    if (conditionFn(i)) {\n      filtered.push(i)\n    }\n  })\n\n  return filtered\n}\n\n/**\n * @return {Integer} the number of items that are the same, starting from the 0th index, in a and b\n * @private\n */\nexport function commonItemLength(listA: ArrayLike<unknown>, listB: ArrayLike<unknown>) {\n  let offset = 0\n\n  while (offset < listA.length && offset < listB.length) {\n    if (listA[offset] !== listB[offset]) {\n      break\n    }\n    offset++\n  }\n\n  return offset\n}\n\n/**\n * @return {Array} the items that are the same, starting from the 0th index, in a and b\n * @private\n */\nexport function commonItems<T>(listA: T[], listB: T[]): T[] {\n  let offset = 0\n\n  while (offset < listA.length && offset < listB.length) {\n    if (listA[offset] !== listB[offset]) {\n      break\n    }\n    offset++\n  }\n\n  return listA.slice(0, offset)\n}\n\n// return new array without falsy items like ruby's `compact`\nexport function compact<T>(enumerable: ForEachable<T>) {\n  return filter(enumerable, i => !!i)\n}\n\nexport function reduce<T, U>(\n  enumerable: ForEachable<T>,\n  callback: (prev: U, val: T, index: number) => U,\n  initialValue: U\n): U {\n  let previousValue = initialValue\n\n  forEach(enumerable, (val, index) => {\n    previousValue = callback(previousValue, val, index)\n  })\n\n  return previousValue\n}\n\n/**\n * @param {Array} array of key1,value1,key2,value2,...\n * @return {Object} {key1:value1, key2:value2, ...}\n * @private\n */\nexport function kvArrayToObject<T>(array: (T | string)[]): { [key: string]: T } {\n  const obj: { [key: string]: T } = {}\n\n  for (let i = 0; i < array.length; i += 2) {\n    let [key, value] = [array[i], array[i + 1]]\n    obj[key as string] = value as T\n  }\n\n  return obj\n}\n\nexport function objectToSortedKVArray<T extends {}>(obj: T): (keyof T | T[keyof T])[] {\n  const keys = Object.keys(obj).sort() as (keyof T)[]\n  const result: (keyof T | T[keyof T])[] = []\n\n  keys.forEach(k => {\n    result.push(k)\n    result.push(obj[k])\n  })\n\n  return result\n}\n\n// check shallow equality of two non-nested arrays\nexport function isArrayEqual<T>(arr1: ArrayLike<T>, arr2: ArrayLike<T>): boolean {\n  let l1 = arr1.length\n  let l2 = arr2.length\n\n  if (l1 !== l2) {\n    return false\n  }\n\n  for (let i = 0; i < l1; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n\n// return an object with only the valid keys\nexport function filterObject<T>(object: T, validKeys: string[] = []) {\n  let result: { [key: string]: unknown } = {}\n\n  forEach(\n    filter(Object.keys(object), key => validKeys.indexOf(key) !== -1),\n    key => (result[key] = (object as any)[key])\n  )\n\n  return result\n}\n\nexport function contains<T>(array: T[], item: T): boolean {\n  return array.indexOf(item) !== -1\n}\n\nexport function values<T extends {}>(object: T): T[keyof T][] {\n  return (Object.keys(object) as (keyof T)[]).map(key => object[key])\n}\n","import { forEach } from './array-utils'\n\nexport const NODE_TYPES = {\n  ELEMENT: 1,\n  TEXT: 3,\n  COMMENT: 8,\n}\n\nexport function isTextNode(node: Node): node is Text {\n  return node.nodeType === NODE_TYPES.TEXT\n}\n\nexport function isCommentNode(node: Node) {\n  return node.nodeType === NODE_TYPES.COMMENT\n}\n\nexport function isElementNode(node: Node): node is Element {\n  return node.nodeType === NODE_TYPES.ELEMENT\n}\n\n// perform a pre-order tree traversal of the dom, calling `callbackFn(node)`\n// for every node for which `conditionFn(node)` is true\nexport function walkDOM(\n  topNode: Node,\n  callbackFn: (node: Node) => void = () => {},\n  conditionFn: (node: Node) => boolean = () => true\n) {\n  let currentNode: Node | null = topNode\n\n  if (conditionFn(currentNode)) {\n    callbackFn(currentNode)\n  }\n\n  currentNode = currentNode.firstChild\n\n  while (currentNode) {\n    walkDOM(currentNode, callbackFn, conditionFn)\n    currentNode = currentNode.nextSibling\n  }\n}\n\nexport function walkTextNodes(topNode: Node, callbackFn = () => {}) {\n  const conditionFn = (node: Node) => isTextNode(node)\n  walkDOM(topNode, callbackFn, conditionFn)\n}\n\nexport function clearChildNodes(element: Element) {\n  while (element.childNodes.length) {\n    element.removeChild(element.childNodes[0])\n  }\n}\n\n/**\n * @return {Boolean} true when the child node is contained or the same as\n * (e.g., inclusive containment)  the parent node\n *  see https://github.com/webmodules/node-contains/blob/master/index.js\n *  Mimics the behavior of `Node.contains`, which is broken in IE 10\n *  @private\n */\nexport function containsNode(parentNode: Node, childNode: Node) {\n  if (parentNode === childNode) {\n    return true\n  }\n  const position = parentNode.compareDocumentPosition(childNode)\n  return !!(position & Node.DOCUMENT_POSITION_CONTAINED_BY)\n}\n\n/**\n * converts the element's NamedNodeMap of attrs into\n * an object with key-value pairs\n * @param {DOMNode} element\n * @return {Object} key-value pairs\n * @private\n */\nexport function getAttributes(element: Element) {\n  const result: { [key: string]: unknown } = {}\n  if (element.hasAttributes()) {\n    forEach(element.attributes, ({ name, value }) => {\n      result[name] = value\n    })\n  }\n  return result\n}\n\nexport function addClassName(element: Element, className: string) {\n  element.classList.add(className)\n}\n\nexport function removeClassName(element: Element, className: string) {\n  element.classList.remove(className)\n}\n\nexport function normalizeTagName(tagName: string) {\n  return tagName.toLowerCase()\n}\n\nexport function parseHTML(html: string) {\n  const div = document.createElement('div')\n  div.innerHTML = html\n  return div\n}\n\nexport function serializeHTML(node: Node) {\n  const div = document.createElement('div')\n  div.appendChild(node)\n  return div.innerHTML\n}\n","import { addClassName } from '../utils/dom-utils'\n\nclass View {\n  constructor(options = {}) {\n    options.tagName = options.tagName || 'div'\n    options.container = options.container || document.body\n\n    this.element = document.createElement(options.tagName)\n    this.container = options.container\n    this.isShowing = false\n\n    let classNames = options.classNames || []\n    classNames.forEach(name => addClassName(this.element, name))\n    this._eventListeners = []\n  }\n\n  addEventListener(element, type, listener) {\n    element.addEventListener(type, listener)\n    this._eventListeners.push([element, type, listener])\n  }\n\n  removeAllEventListeners() {\n    this._eventListeners.forEach(([element, type, listener]) => {\n      element.removeEventListener(type, listener)\n    })\n  }\n\n  show() {\n    if (!this.isShowing) {\n      this.container.appendChild(this.element)\n      this.isShowing = true\n      return true\n    }\n  }\n\n  hide() {\n    if (this.isShowing) {\n      this.container.removeChild(this.element)\n      this.isShowing = false\n      return true\n    }\n  }\n\n  destroy() {\n    this.removeAllEventListeners()\n    this.hide()\n    this.isDestroyed = true\n  }\n}\n\nexport default View\n","/*\n * @param {String} string\n * @return {String} a dasherized string. 'modelIndex' -> 'model-index', etc\n */\nexport function dasherize(string: string) {\n  return string.replace(/[A-Z]/g, (match, offset) => {\n    const lower = match.toLowerCase()\n\n    return offset === 0 ? lower : '-' + lower\n  })\n}\n\nexport function capitalize(string: string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport function startsWith(string: string, character: string) {\n  return string.charAt(0) === character\n}\n\nexport function endsWith(string: string, endString: string) {\n  let index = string.lastIndexOf(endString)\n  return index !== -1 && index === string.length - endString.length\n}\n","import { dasherize } from './string-utils'\nimport { normalizeTagName } from './dom-utils'\n\nexport function getEventTargetMatchingTag(tagName: string, target: HTMLElement | null, container: HTMLElement) {\n  tagName = normalizeTagName(tagName)\n  // Traverses up DOM from an event target to find the node matching specifed tag\n  while (target && target !== container) {\n    if (normalizeTagName(target.tagName) === tagName) {\n      return target\n    }\n    target = target.parentElement\n  }\n}\n\nexport function getElementRelativeOffset(element: HTMLElement) {\n  const offset = { left: 0, top: -window.pageYOffset }\n  const offsetParent = element.offsetParent!\n  const offsetParentPosition = window.getComputedStyle(offsetParent).position\n  let offsetParentRect\n\n  if (offsetParentPosition === 'relative') {\n    offsetParentRect = offsetParent.getBoundingClientRect()\n    offset.left = offsetParentRect.left\n    offset.top = offsetParentRect.top\n  }\n  return offset\n}\n\ntype StringPropertyNames<T> = { [K in keyof T]: T[K] extends string ? K : never }[keyof T]\n\nexport function getElementComputedStyleNumericProp(\n  element: HTMLElement,\n  prop: StringPropertyNames<CSSStyleDeclaration>\n) {\n  return parseFloat(window.getComputedStyle(element)[prop])\n}\n\nexport function positionElementToRect(element: HTMLElement, rect: ClientRect, topOffset: number, leftOffset: number) {\n  const relativeOffset = getElementRelativeOffset(element)\n  const style = element.style\n  const round = Math.round\n  let left, top\n\n  topOffset = topOffset || 0\n  leftOffset = leftOffset || 0\n  left = round(rect.left - relativeOffset.left - leftOffset)\n  top = round(rect.top + rect.height - relativeOffset.top - topOffset)\n  style.left = `${left}px`\n  style.top = `${top}px`\n  return { left: left, top: top }\n}\n\nexport function positionElementHorizontallyCenteredToRect(element: HTMLElement, rect: ClientRect, topOffset: number) {\n  const horizontalCenter = element.offsetWidth / 2 - rect.width / 2\n  return positionElementToRect(element, rect, topOffset, horizontalCenter)\n}\n\nexport function positionElementCenteredBelow(element: HTMLElement, belowElement: HTMLElement) {\n  const elementMargin = getElementComputedStyleNumericProp(element, 'marginTop')\n  return positionElementHorizontallyCenteredToRect(element, belowElement.getBoundingClientRect(), -elementMargin)\n}\n\nexport function setData(element: HTMLElement, name: string, value: string) {\n  if (element.dataset) {\n    element.dataset[name] = value\n  } else {\n    const dataName = dasherize(name)\n    return element.setAttribute(dataName, value)\n  }\n}\n\nexport function whenElementIsNotInDOM(element: HTMLElement, callback: () => void) {\n  let isCanceled = false\n  const observerFn = () => {\n    if (isCanceled) {\n      return\n    }\n    if (!element.parentNode) {\n      callback()\n    } else {\n      window.requestAnimationFrame(observerFn)\n    }\n  }\n  observerFn()\n  return { cancel: () => (isCanceled = true) }\n}\n","import { normalizeTagName } from './dom-utils'\nimport { detect, commonItemLength, forEach, filter } from './array-utils'\n\ninterface Markup {\n  tagName: string\n}\n\ntype MarkupCallback = (markup: Markup) => boolean\n\ntype MarkupOrMarkupCallback = Markup | MarkupCallback\n\nexport default class Markerupable {\n  markups: Markup[] = []\n\n  prev: this | null = null\n  next: this | null = null\n\n  clearMarkups() {\n    this.markups = []\n  }\n\n  addMarkup(markup: Markup) {\n    this.markups.push(markup)\n  }\n\n  addMarkupAtIndex(markup: Markup, index: number) {\n    this.markups.splice(index, 0, markup)\n  }\n\n  removeMarkup(markupOrMarkupCallback: MarkupOrMarkupCallback) {\n    let callback: MarkupCallback\n    if (typeof markupOrMarkupCallback === 'function') {\n      callback = markupOrMarkupCallback as MarkupCallback\n    } else {\n      let markup = markupOrMarkupCallback\n      callback = _markup => _markup === markup\n    }\n\n    forEach(filter(this.markups, callback), m => this._removeMarkup(m))\n  }\n\n  _removeMarkup(markup: Markup) {\n    const index = this.markups.indexOf(markup)\n    if (index !== -1) {\n      this.markups.splice(index, 1)\n    }\n  }\n\n  hasMarkup(tagNameOrMarkup: string | Markup) {\n    return !!this.getMarkup(tagNameOrMarkup)\n  }\n\n  getMarkup(tagNameOrMarkup: string | Markup) {\n    if (typeof tagNameOrMarkup === 'string') {\n      let tagName = normalizeTagName(tagNameOrMarkup)\n      return detect(this.markups, markup => markup.tagName === tagName)\n    } else {\n      let targetMarkup = tagNameOrMarkup\n      return detect(this.markups, markup => markup === targetMarkup)\n    }\n  }\n\n  get openedMarkups() {\n    let count = 0\n    if (this.prev) {\n      count = commonItemLength(this.markups, this.prev.markups)\n    }\n\n    return this.markups.slice(count)\n  }\n\n  get closedMarkups() {\n    let count = 0\n    if (this.next) {\n      count = commonItemLength(this.markups, this.next.markups)\n    }\n\n    return this.markups.slice(count)\n  }\n}\n","export default class MobiledocError extends Error {}\n","import MobiledocError from './mobiledoc-error'\n\nexport default function (message: string, conditional: unknown): asserts conditional {\n  if (!conditional) {\n    throw new MobiledocError(message)\n  }\n}\n\nexport function assertNotNull<T>(message: string, value: T | null): asserts value is T {\n  if (value === null) {\n    throw new MobiledocError(message)\n  }\n}\n\nexport function expect<T>(value: T | null | undefined, message: string): T {\n  if (value === null || value === undefined) {\n    throw new MobiledocError(message)\n  }\n  return value\n}\n\nexport function unwrap<T>(value: T | null | undefined): T {\n  return expect(value, 'expected value to not be null or undefined')\n}\n","export const MARKUP_SECTION_TYPE = 'markup-section'\nexport const LIST_SECTION_TYPE = 'list-section'\nexport const MARKUP_TYPE = 'markup'\nexport const MARKER_TYPE = 'marker'\nexport const POST_TYPE = 'post'\nexport const LIST_ITEM_TYPE = 'list-item'\nexport const CARD_TYPE = 'card-section'\nexport const IMAGE_SECTION_TYPE = 'image-section'\nexport const ATOM_TYPE = 'atom'\n","import { isArrayEqual } from '../utils/array-utils'\nimport Markuperable from '../utils/markuperable'\nimport assert from '../utils/assert'\nimport { MARKER_TYPE } from './types'\nimport Markup from './markup'\nimport Markerable from './_markerable'\nimport RenderNode from './render-node'\n\n// Unicode uses a pair of \"surrogate\" characters\" (a high- and low-surrogate)\n// to encode characters outside the basic multilingual plane (like emoji and\n// some languages).\n// These values are the unicode code points for the start and end of the\n// high- and low-surrogate characters.\n// See \"high surrogate\" and \"low surrogate\" on\n// https://en.wikipedia.org/wiki/Unicode_block\nexport const HIGH_SURROGATE_RANGE = [0xd800, 0xdbff]\nexport const LOW_SURROGATE_RANGE = [0xdc00, 0xdfff]\n\nexport default class Marker extends Markuperable {\n  value: string\n  type: string = MARKER_TYPE\n  isMarker: boolean = true\n  isAtom: boolean = false\n\n  builder: any\n  markups: Markup[] = []\n  section: Markerable | null = null\n  parent: Markerable | null = null\n  renderNode: RenderNode | null = null\n\n  constructor(value = '', markups = []) {\n    super()\n    this.value = value\n    assert('Marker must have value', value !== undefined && value !== null)\n    markups.forEach(m => this.addMarkup(m))\n  }\n\n  clone() {\n    const clonedMarkups = this.markups.slice()\n    return this.builder.createMarker(this.value, clonedMarkups)\n  }\n\n  get isEmpty() {\n    return this.isBlank\n  }\n\n  get isBlank() {\n    return this.length === 0\n  }\n\n  charAt(offset: number) {\n    return this.value.slice(offset, offset + 1)\n  }\n\n  /**\n   * A marker's text is equal to its value.\n   * Compare with an Atom which distinguishes between text and value\n   */\n  get text() {\n    return this.value\n  }\n\n  get length() {\n    return this.value.length\n  }\n\n  // delete the character at this offset,\n  // update the value with the new value\n  deleteValueAtOffset(offset: number) {\n    assert('Cannot delete value at offset outside bounds', offset >= 0 && offset <= this.length)\n\n    let width = 1\n    let code = this.value.charCodeAt(offset)\n    if (code >= HIGH_SURROGATE_RANGE[0] && code <= HIGH_SURROGATE_RANGE[1]) {\n      width = 2\n    } else if (code >= LOW_SURROGATE_RANGE[0] && code <= LOW_SURROGATE_RANGE[1]) {\n      width = 2\n      offset = offset - 1\n    }\n\n    const [left, right] = [this.value.slice(0, offset), this.value.slice(offset + width)]\n    this.value = left + right\n\n    return width\n  }\n\n  canJoin(other: Marker) {\n    return other && other.isMarker && isArrayEqual(this.markups, other.markups)\n  }\n\n  textUntil(offset: number) {\n    return this.value.slice(0, offset)\n  }\n\n  split(offset = 0, endOffset = this.length) {\n    let markers = [\n      this.builder.createMarker(this.value.substring(0, offset)),\n      this.builder.createMarker(this.value.substring(offset, endOffset)),\n      this.builder.createMarker(this.value.substring(endOffset)),\n    ]\n\n    this.markups.forEach(mu => markers.forEach(m => m.addMarkup(mu)))\n    return markers\n  }\n\n  /**\n   * @return {Array} 2 markers either or both of which could be blank\n   */\n  splitAtOffset(offset: number) {\n    assert('Cannot split a marker at an offset > its length', offset <= this.length)\n    let { value, builder } = this\n\n    let pre = builder.createMarker(value.substring(0, offset))\n    let post = builder.createMarker(value.substring(offset))\n\n    this.markups.forEach(markup => {\n      pre.addMarkup(markup)\n      post.addMarkup(markup)\n    })\n\n    return [pre, post]\n  }\n}\n","export default {\n  BACKSPACE: 8,\n  SPACE: 32,\n  ENTER: 13,\n  SHIFT: 16,\n  ESC: 27,\n  DELETE: 46,\n  '0': 48,\n  '9': 57,\n  A: 65,\n  Z: 90,\n  a: 97,\n  z: 122,\n  NUMPAD_0: 186,\n  NUMPAD_9: 111,\n  ';': 186,\n  '.': 190,\n  '`': 192,\n  '[': 219,\n  '\"': 222,\n\n  // Input Method Editor uses multiple keystrokes to display characters.\n  // Example on mac: press option-i then i. This fires 2 key events in Chrome\n  // with keyCode 229 and displays ˆ and then î.\n  // See http://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html#fixed-virtual-key-codes\n  IME: 229,\n\n  TAB: 9,\n  CLEAR: 12,\n  PAUSE: 19,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  END: 35,\n  HOME: 36,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  INS: 45,\n  META: 91,\n  ALT: 18,\n  CTRL: 17,\n}\n","export default {\n  BACKSPACE: 'Backspace',\n  SPACE: ' ',\n  ENTER: 'Enter',\n  SHIFT: 'Shift',\n  ESC: 'Escape',\n  DELETE: 'Delete',\n  INS: 'Insert',\n  HOME: 'Home',\n  END: 'End',\n  PAGEUP: 'PageUp',\n  PAGEDOWN: 'PageDown',\n  CLEAR: 'Clear',\n  PAUSE: 'Pause',\n  TAB: 'Tab',\n  ALT: 'Alt',\n  CTRL: 'Control',\n\n  LEFT: 'ArrowLeft',\n  RIGHT: 'ArrowRight',\n  UP: 'ArrowUp',\n  DOWN: 'ArrowDown',\n}\n","export const TAB = '\\t'\nexport const ENTER = '\\n'\nexport const SPACE = ' '\n","import Keycodes from './keycodes'\nimport Keys from './keys'\nimport assert from './assert'\nimport { TAB } from './characters'\n\nenum DIRECTION {\n  FORWARD = 1,\n  BACKWARD = -1,\n}\n\nexport { DIRECTION }\n\nexport const MODIFIERS = {\n  META: 1, // also called \"command\" on OS X\n  CTRL: 2,\n  SHIFT: 4,\n  ALT: 8, // also called \"option\" on OS X\n}\n\nexport function modifierMask(event: KeyboardEvent) {\n  let { metaKey, shiftKey, ctrlKey, altKey } = event\n  let modVal = (val: boolean, modifier: number) => {\n    return (val && modifier) || 0\n  }\n\n  return (\n    modVal(metaKey, MODIFIERS.META) +\n    modVal(shiftKey, MODIFIERS.SHIFT) +\n    modVal(ctrlKey, MODIFIERS.CTRL) +\n    modVal(altKey, MODIFIERS.ALT)\n  )\n}\n\nconst SPECIAL_KEYS = {\n  BACKSPACE: Keycodes.BACKSPACE,\n  TAB: Keycodes.TAB,\n  ENTER: Keycodes.ENTER,\n  ESC: Keycodes.ESC,\n  SPACE: Keycodes.SPACE,\n  PAGEUP: Keycodes.PAGEUP,\n  PAGEDOWN: Keycodes.PAGEDOWN,\n  END: Keycodes.END,\n  HOME: Keycodes.HOME,\n  LEFT: Keycodes.LEFT,\n  UP: Keycodes.UP,\n  RIGHT: Keycodes.RIGHT,\n  DOWN: Keycodes.DOWN,\n  INS: Keycodes.INS,\n  DEL: Keycodes.DELETE,\n}\n\nexport function specialCharacterToCode(specialCharacter: keyof typeof SPECIAL_KEYS) {\n  return SPECIAL_KEYS[specialCharacter]\n}\n\n// heuristic for determining if `event` is a key event\nfunction isKeyEvent(event: Event) {\n  return /^key/.test(event.type)\n}\n\n/**\n * An abstraction around a KeyEvent\n * that key listeners in the editor can use\n * to determine what sort of key was pressed\n */\nexport default class Key {\n  key: string\n  keyCode: number\n  charCode: number\n  event: KeyboardEvent\n  modifierMask: number\n\n  constructor(event: KeyboardEvent) {\n    this.key = event.key\n    this.keyCode = event.keyCode\n    this.charCode = event.charCode\n    this.event = event\n    this.modifierMask = modifierMask(event)\n  }\n\n  static fromEvent(event: KeyboardEvent) {\n    assert('Must pass a Key event to Key.fromEvent', event && isKeyEvent(event))\n    return new Key(event)\n  }\n\n  toString() {\n    if (this.isTab()) {\n      return TAB\n    }\n    return String.fromCharCode(this.charCode)\n  }\n\n  // See https://caniuse.com/#feat=keyboardevent-key for browser support.\n  isKeySupported() {\n    return this.key\n  }\n\n  isKey(identifier: keyof typeof Keys) {\n    if (this.isKeySupported()) {\n      assert(`Must define Keys.${identifier}.`, !!Keys[identifier])\n      return this.key === Keys[identifier]\n    } else {\n      assert(`Must define Keycodes.${identifier}.`, !!Keycodes[identifier])\n      return this.keyCode === Keycodes[identifier]\n    }\n  }\n\n  isEscape() {\n    return this.isKey('ESC')\n  }\n\n  isDelete() {\n    return this.isKey('BACKSPACE') || this.isForwardDelete()\n  }\n\n  isForwardDelete() {\n    return this.isKey('DELETE')\n  }\n\n  isArrow() {\n    return this.isHorizontalArrow() || this.isVerticalArrow()\n  }\n\n  isHorizontalArrow() {\n    return this.isLeftArrow() || this.isRightArrow()\n  }\n\n  isHorizontalArrowWithoutModifiersOtherThanShift() {\n    return this.isHorizontalArrow() && !(this.ctrlKey || this.metaKey || this.altKey)\n  }\n\n  isVerticalArrow() {\n    return this.isKey('UP') || this.isKey('DOWN')\n  }\n\n  isLeftArrow() {\n    return this.isKey('LEFT')\n  }\n\n  isRightArrow() {\n    return this.isKey('RIGHT')\n  }\n\n  isHome() {\n    return this.isKey('HOME')\n  }\n\n  isEnd() {\n    return this.isKey('END')\n  }\n\n  isPageUp() {\n    return this.isKey('PAGEUP')\n  }\n\n  isPageDown() {\n    return this.isKey('PAGEDOWN')\n  }\n\n  isInsert() {\n    return this.isKey('INS')\n  }\n\n  isClear() {\n    return this.isKey('CLEAR')\n  }\n\n  isPause() {\n    return this.isKey('PAUSE')\n  }\n\n  isSpace() {\n    return this.isKey('SPACE')\n  }\n\n  // In Firefox, pressing ctrl-TAB will switch to another open browser tab, but\n  // it will also fire a keydown event for the tab+modifier (ctrl). This causes\n  // Mobiledoc to erroneously insert a tab character before FF switches to the\n  // new browser tab.  Chrome doesn't fire this event so the issue doesn't\n  // arise there. Fix this by returning false when the TAB key event includes a\n  // modifier.\n  // See: https://github.com/bustle/mobiledoc-kit/issues/565\n  isTab() {\n    return !this.hasAnyModifier() && this.isKey('TAB')\n  }\n\n  isEnter() {\n    return this.isKey('ENTER')\n  }\n\n  /*\n   * If the key is the actual shift key. This is false when the shift key\n   * is held down and the source `event` is not the shift key.\n   * @see {isShift}\n   * @return {bool}\n   */\n  isShiftKey() {\n    return this.isKey('SHIFT')\n  }\n\n  /*\n   * If the key is the actual alt key (aka \"option\" on mac). This is false when the alt key\n   * is held down and the source `event` is not the alt key.\n   * @return {bool}\n   */\n  isAltKey() {\n    return this.isKey('ALT')\n  }\n\n  /*\n   * If the key is the actual ctrl key. This is false when the ctrl key\n   * is held down and the source `event` is not the ctrl key.\n   * @return {bool}\n   */\n  isCtrlKey() {\n    return this.isKey('CTRL')\n  }\n\n  isIME() {\n    // FIXME the IME action seems to get lost when we issue an\n    // `editor.deleteSelection` before it (in Chrome)\n    return this.keyCode === Keycodes.IME\n  }\n\n  get direction() {\n    switch (true) {\n      case this.isDelete():\n        return this.isForwardDelete() ? DIRECTION.FORWARD : DIRECTION.BACKWARD\n      case this.isHorizontalArrow():\n        return this.isRightArrow() ? DIRECTION.FORWARD : DIRECTION.BACKWARD\n      default:\n        return DIRECTION.FORWARD\n    }\n  }\n\n  /**\n   * If the shift key is depressed.\n   * For example, while holding down meta+shift, pressing the \"v\"\n   * key would result in an event whose `Key` had `isShift()` with a truthy value,\n   * because the shift key is down when pressing the \"v\".\n   * @see {isShiftKey} which checks if the key is actually the shift key itself.\n   * @return {bool}\n   */\n  isShift() {\n    return this.shiftKey\n  }\n\n  hasModifier(modifier: number) {\n    return modifier & this.modifierMask\n  }\n\n  hasAnyModifier() {\n    return !!this.modifierMask\n  }\n\n  get ctrlKey() {\n    return MODIFIERS.CTRL & this.modifierMask\n  }\n\n  get metaKey() {\n    return MODIFIERS.META & this.modifierMask\n  }\n\n  get shiftKey() {\n    return MODIFIERS.SHIFT & this.modifierMask\n  }\n\n  get altKey() {\n    return MODIFIERS.ALT & this.modifierMask\n  }\n\n  isPrintableKey() {\n    return !(\n      this.isArrow() ||\n      this.isHome() ||\n      this.isEnd() ||\n      this.isPageUp() ||\n      this.isPageDown() ||\n      this.isInsert() ||\n      this.isClear() ||\n      this.isPause() ||\n      this.isEscape()\n    )\n  }\n\n  isNumberKey() {\n    if (this.isKeySupported()) {\n      return this.key >= '0' && this.key <= '9'\n    } else {\n      const code = this.keyCode\n      return (\n        (code >= Keycodes['0'] && code <= Keycodes['9']) || (code >= Keycodes.NUMPAD_0 && code <= Keycodes.NUMPAD_9)\n      ) // numpad keys\n    }\n  }\n\n  isLetterKey() {\n    if (this.isKeySupported()) {\n      const key = this.key\n      return (key >= 'a' && key <= 'z') || (key >= 'A' && key <= 'Z')\n    } else {\n      const code = this.keyCode\n      return (code >= Keycodes.A && code <= Keycodes.Z) || (code >= Keycodes.a && code <= Keycodes.z)\n    }\n  }\n\n  isPunctuation() {\n    if (this.isKeySupported()) {\n      const key = this.key\n      return (key >= ';' && key <= '`') || (key >= '[' && key <= '\"')\n    } else {\n      const code = this.keyCode\n      return (code >= Keycodes[';'] && code <= Keycodes['`']) || (code >= Keycodes['['] && code <= Keycodes['\"'])\n    }\n  }\n\n  /**\n   * See https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode#Printable_keys_in_standard_position\n   *   and http://stackoverflow.com/a/12467610/137784\n   */\n  isPrintable() {\n    if (this.ctrlKey || this.metaKey) {\n      return false\n    }\n\n    // Firefox calls keypress events for some keys that should not be printable\n    if (!this.isPrintableKey()) {\n      return false\n    }\n\n    return (\n      this.keyCode !== 0 ||\n      this.toString().length > 0 ||\n      this.isNumberKey() ||\n      this.isSpace() ||\n      this.isTab() ||\n      this.isEnter() ||\n      this.isLetterKey() ||\n      this.isPunctuation() ||\n      this.isIME()\n    )\n  }\n}\n","import { DIRECTION } from './key'\nimport { isTextNode, isElementNode } from './dom-utils'\nimport { assertNotNull } from './assert'\n\nexport function clearSelection() {\n  const selection = window.getSelection()\n  selection && selection.removeAllRanges()\n}\n\nfunction textNodeRects(node: Text) {\n  let range = document.createRange()\n  range.setEnd(node, node.nodeValue!.length)\n  range.setStart(node, 0)\n  return range.getClientRects()\n}\n\ninterface PartialCoords {\n  top: number\n  left: number\n}\n\nfunction findOffsetInTextNode(node: Text, coords: PartialCoords) {\n  let len = node.nodeValue!.length\n  let range = document.createRange()\n  for (let i = 0; i < len; i++) {\n    range.setEnd(node, i + 1)\n    range.setStart(node, i)\n    let rect = range.getBoundingClientRect()\n    if (rect.top === rect.bottom) {\n      continue\n    }\n    if (rect.left <= coords.left && rect.right >= coords.left && rect.top <= coords.top && rect.bottom >= coords.top) {\n      return { node, offset: i + (coords.left >= (rect.left + rect.right) / 2 ? 1 : 0) }\n    }\n  }\n  return { node, offset: 0 }\n}\n\n/*\n * @param {Object} coords with `top` and `left`\n * @see https://github.com/ProseMirror/prosemirror/blob/4c22e3fe97d87a355a0534e25d65aaf0c0d83e57/src/edit/dompos.js\n * @return {Object} {node, offset}\n */\n/* eslint-disable complexity */\nexport function findOffsetInNode(node: Node, coords: PartialCoords): { node: Node; offset: number } {\n  let closest,\n    dyClosest = 1e8,\n    coordsClosest: PartialCoords,\n    offset = 0\n  for (let child = node.firstChild; child; child = child.nextSibling) {\n    let rects\n    if (isElementNode(child)) {\n      rects = child.getClientRects()\n    } else if (isTextNode(child)) {\n      rects = textNodeRects(child)\n    } else {\n      continue\n    }\n\n    for (let i = 0; i < rects.length; i++) {\n      let rect = rects[i]\n      if (rect.left <= coords.left && rect.right >= coords.left) {\n        let dy = rect.top > coords.top ? rect.top - coords.top : rect.bottom < coords.top ? coords.top - rect.bottom : 0\n        if (dy < dyClosest) {\n          closest = child\n          dyClosest = dy\n          coordsClosest = dy ? { left: coords.left, top: rect.top } : coords\n          if (isElementNode(child) && !child.firstChild) {\n            offset = i + (coords.left >= (rect.left + rect.right) / 2 ? 1 : 0)\n          }\n          continue\n        }\n      }\n      if (!closest && (coords.top >= rect.bottom || (coords.top >= rect.top && coords.left >= rect.right))) {\n        offset = i + 1\n      }\n    }\n  }\n  if (!closest) {\n    return { node, offset }\n  }\n  if (isTextNode(closest)) {\n    return findOffsetInTextNode(closest, coordsClosest!)\n  }\n  if (closest.firstChild) {\n    return findOffsetInNode(closest, coordsClosest!)\n  }\n  return { node, offset }\n}\n/* eslint-enable complexity */\n\nfunction constrainNodeTo(node: Node, parentNode: Node, existingOffset: number) {\n  let compare = parentNode.compareDocumentPosition(node)\n  if (compare & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    // the node is inside parentNode, do nothing\n    return { node, offset: existingOffset }\n  } else if (compare & Node.DOCUMENT_POSITION_CONTAINS) {\n    // the node contains parentNode. This shouldn't happen.\n    return { node, offset: existingOffset }\n  } else if (compare & Node.DOCUMENT_POSITION_PRECEDING) {\n    // node is before parentNode. return start of deepest first child\n    let child = parentNode.firstChild\n    while (child && child.firstChild) {\n      child = child.firstChild\n    }\n    return { node: child, offset: 0 }\n  } else if (compare & Node.DOCUMENT_POSITION_FOLLOWING) {\n    // node is after parentNode. return end of deepest last child\n    let child = parentNode.lastChild!\n    while (child.lastChild) {\n      child = child.lastChild\n    }\n\n    let offset = isTextNode(child) ? child.textContent!.length : 1\n    return { node: child, offset }\n  } else {\n    return { node, offset: existingOffset }\n  }\n}\n\n/*\n * Returns a new selection that is constrained within parentNode.\n * If the anchorNode or focusNode are outside the parentNode, they are replaced with the beginning\n * or end of the parentNode's children\n */\nexport function constrainSelectionTo(selection: PartialSelection, parentNode: Node): PartialSelection {\n  assertNotNull('selection anchorNode should not be null', selection.anchorNode)\n  assertNotNull('selection focusNode should not be null', selection.focusNode)\n\n  let { node: anchorNode, offset: anchorOffset } = constrainNodeTo(\n    selection.anchorNode,\n    parentNode,\n    selection.anchorOffset\n  )\n  let { node: focusNode, offset: focusOffset } = constrainNodeTo(selection.focusNode, parentNode, selection.focusOffset)\n\n  return { anchorNode, anchorOffset, focusNode, focusOffset }\n}\n\ninterface ComparePositionResult {\n  headNode: Node\n  headOffset: number\n  tailNode: Node\n  tailOffset: number\n  direction: number | null\n}\n\nexport interface PartialSelection {\n  focusNode: Node | null\n  focusOffset: number\n  anchorNode: Node | null\n  anchorOffset: number\n}\n\nexport function isFullSelection(selection: PartialSelection | Selection): selection is Selection {\n  return selection instanceof Selection\n}\n\nexport function comparePosition(selection: PartialSelection): ComparePositionResult {\n  assertNotNull('selection anchorNode should not be null', selection.anchorNode)\n  assertNotNull('selection focusNode should not be null', selection.focusNode)\n\n  let { anchorNode, focusNode, anchorOffset, focusOffset } = selection\n  let headNode, tailNode, headOffset, tailOffset, direction\n\n  const position = anchorNode.compareDocumentPosition(focusNode)\n\n  // IE may select return focus and anchor nodes far up the DOM tree instead of\n  // picking the deepest, most specific possible node. For example in\n  //\n  //     <div><span>abc</span><span>def</span></div>\n  //\n  // with a cursor between c and d, IE might say the focusNode is <div> with\n  // an offset of 1. However the anchorNode for a selection might still be\n  // <span> 2 if there was a selection.\n  //\n  // This code walks down the DOM tree until a good comparison of position can be\n  // made.\n  //\n  if (position & Node.DOCUMENT_POSITION_CONTAINS) {\n    if (focusOffset < focusNode.childNodes.length) {\n      focusNode = focusNode.childNodes[focusOffset]\n      focusOffset = 0\n    } else {\n      // This situation happens on IE when triple-clicking to select.\n      // Set the focus to the very last character inside the node.\n      while (focusNode.lastChild) {\n        focusNode = focusNode.lastChild\n      }\n      focusOffset = focusNode.textContent!.length\n    }\n\n    return comparePosition({\n      focusNode,\n      focusOffset,\n      anchorNode,\n      anchorOffset,\n    })\n  } else if (position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    let offset = anchorOffset - 1\n    if (offset < 0) {\n      offset = 0\n    }\n    return comparePosition({\n      anchorNode: anchorNode.childNodes[offset],\n      anchorOffset: 0,\n      focusNode,\n      focusOffset,\n    })\n    // The meat of translating anchor and focus nodes to head and tail nodes\n  } else if (position & Node.DOCUMENT_POSITION_FOLLOWING) {\n    headNode = anchorNode\n    tailNode = focusNode\n    headOffset = anchorOffset\n    tailOffset = focusOffset\n    direction = DIRECTION.FORWARD\n  } else if (position & Node.DOCUMENT_POSITION_PRECEDING) {\n    headNode = focusNode\n    tailNode = anchorNode\n    headOffset = focusOffset\n    tailOffset = anchorOffset\n    direction = DIRECTION.BACKWARD\n  } else {\n    // same node\n    headNode = tailNode = anchorNode\n    headOffset = anchorOffset\n    tailOffset = focusOffset\n    if (tailOffset < headOffset) {\n      // Swap the offset order\n      headOffset = focusOffset\n      tailOffset = anchorOffset\n      direction = DIRECTION.BACKWARD\n    } else if (headOffset < tailOffset) {\n      direction = DIRECTION.FORWARD\n    } else {\n      direction = null\n    }\n  }\n\n  return { headNode, headOffset, tailNode, tailOffset, direction }\n}\n","import Position from './position'\nimport { DIRECTION } from '../key'\nimport assert, { assertNotNull, unwrap } from '../assert'\nimport Markerable from '../../models/_markerable'\nimport Marker from '../../models/marker'\nimport MobiledocError from '../mobiledoc-error'\nimport Section from '../../models/_section'\n\nexport type Direction = DIRECTION | null\n/**\n * A logical range of a {@link Post}.\n * Usually an instance of Range will be read from the {@link Editor#range} property,\n * but it may be useful to instantiate a range directly when programmatically modifying a Post.\n */\nexport default class Range {\n  head: Position\n  tail: Position\n  direction: Direction\n\n  /**\n   * @param {Position} head\n   * @param {Position} [tail=head]\n   * @param {Direction} [direction=null]\n   * @return {Range}\n   * @private\n   */\n  constructor(head: Position, tail: Position = head, direction: Direction = null) {\n    /** @property {Position} head */\n    this.head = head\n\n    /** @property {Position} tail */\n    this.tail = tail\n\n    /** @property {Direction} direction */\n    this.direction = direction\n  }\n\n  /**\n   * Shorthand to create a new range from a section(s) and offset(s).\n   * When given only a head section and offset, creates a collapsed range.\n   * @param {Section} headSection\n   * @param {number} headOffset\n   * @param {Section} [tailSection=headSection]\n   * @param {number} [tailOffset=headOffset]\n   * @param {Direction} [direction=null]\n   * @return {Range}\n   */\n  static create(\n    headSection: Markerable,\n    headOffset: number,\n    tailSection: Markerable = headSection,\n    tailOffset = headOffset,\n    direction = null\n  ) {\n    return new Range(new Position(headSection, headOffset), new Position(tailSection, tailOffset), direction)\n  }\n\n  static blankRange(): Range {\n    return new Range(Position.blankPosition(), Position.blankPosition())\n  }\n\n  /**\n   * @param {Markerable} section\n   * @return {Range} A range that is constrained to only the part that\n   * includes the section.\n   * FIXME -- if the section isn't the head or tail, it's assumed to be\n   * wholly contained. It's possible to call `trimTo` with a selection that is\n   * outside of the range, though, which would invalidate that assumption.\n   * There's no efficient way to determine if a section is within a range, yet.\n   * @private\n   */\n  trimTo(section: Markerable) {\n    const length = section.length\n\n    let headOffset = section === this.head.section ? Math.min(this.head.offset, length) : 0\n    let tailOffset = section === this.tail.section ? Math.min(this.tail.offset, length) : length\n\n    return Range.create(section, headOffset, section, tailOffset)\n  }\n\n  /**\n   * Expands the range 1 unit in the given direction\n   * If the range is expandable in the given direction, always returns a\n   * non-collapsed range.\n   * @param {Number} units If units is > 0, the range is extended to the right,\n   *                 otherwise range is extended to the left.\n   * @return {Range}\n   * @public\n   */\n  extend(units: number): Range {\n    assert(`Must pass integer to Range#extend`, typeof units === 'number')\n\n    if (units === 0) {\n      return this\n    }\n\n    let { head, tail, direction: currentDirection } = this\n    switch (currentDirection) {\n      case DIRECTION.FORWARD:\n        return new Range(head, tail.move(units), currentDirection)\n      case DIRECTION.BACKWARD:\n        return new Range(head.move(units), tail, currentDirection)\n      default: {\n        let newDirection = units > 0 ? DIRECTION.FORWARD : DIRECTION.BACKWARD\n        return new Range(head, tail, newDirection).extend(units)\n      }\n    }\n  }\n\n  /**\n   * Moves this range 1 unit in the given direction.\n   * If the range is collapsed, returns a collapsed range shifted by 1 unit,\n   * otherwise collapses this range to the position at the `direction` end of the range.\n   * Always returns a collapsed range.\n   * @param {Direction} direction\n   * @return {Range}\n   * @public\n   */\n  move(direction: Direction) {\n    assert(\n      `Must pass DIRECTION.FORWARD (${DIRECTION.FORWARD}) or DIRECTION.BACKWARD (${DIRECTION.BACKWARD}) to Range#move`,\n      direction === DIRECTION.FORWARD || direction === DIRECTION.BACKWARD\n    )\n\n    let { focusedPosition, isCollapsed } = this\n\n    if (isCollapsed) {\n      return new Range(focusedPosition.move(direction))\n    } else {\n      return this._collapse(direction)\n    }\n  }\n\n  /**\n   * expand a range to all markers matching a given check\n   *\n   * @param {Function} detectMarker\n   * @return {Range} The expanded range\n   *\n   * @public\n   */\n  expandByMarker(detectMarker: (marker: Marker) => boolean) {\n    let { head, tail, direction } = this\n    let { section: headSection } = head\n\n    assertNotNull('expected range section to not be null', headSection)\n    assertMarkerable(headSection)\n\n    if (headSection !== tail.section) {\n      throw new Error(\n        '#expandByMarker does not work across sections. Perhaps you should confirm the range is collapsed'\n      )\n    }\n\n    let firstNotMatchingDetect = (i: Marker) => {\n      return !detectMarker(i)\n    }\n\n    let headMarker: Marker | null | undefined = headSection.markers.detect(firstNotMatchingDetect, head.marker, true)\n    if (!headMarker && detectMarker(headSection.markers.head!)) {\n      headMarker = headSection.markers.head\n    } else {\n      headMarker = unwrap(headMarker).next || head.marker\n    }\n    let headPosition = new Position(headSection, headSection.offsetOfMarker(unwrap(headMarker)))\n\n    assertMarkerable(tail.section)\n    let tailMarker = tail.section.markers.detect(firstNotMatchingDetect, tail.marker)\n    if (!tailMarker && detectMarker(unwrap(headSection.markers.tail))) {\n      tailMarker = unwrap(headSection.markers.tail)\n    } else {\n      tailMarker = unwrap(tailMarker).prev || unwrap(tail.marker)\n    }\n    let tailPosition = new Position(tail.section, tail.section.offsetOfMarker(tailMarker) + tailMarker.length)\n\n    return headPosition.toRange(tailPosition, direction)\n  }\n\n  _collapse(direction: Direction) {\n    return new Range(direction === DIRECTION.BACKWARD ? this.head : this.tail)\n  }\n\n  get focusedPosition() {\n    return this.direction === DIRECTION.BACKWARD ? this.head : this.tail\n  }\n\n  isEqual(other: Range) {\n    return other && this.head.isEqual(other.head) && this.tail.isEqual(other.tail)\n  }\n\n  get isBlank() {\n    return this.head.isBlank && this.tail.isBlank\n  }\n\n  // \"legacy\" APIs\n  get headSection() {\n    return this.head.section\n  }\n  get tailSection() {\n    return this.tail.section\n  }\n  get headSectionOffset() {\n    return this.head.offset\n  }\n  get tailSectionOffset() {\n    return this.tail.offset\n  }\n  get isCollapsed() {\n    return this.head.isEqual(this.tail)\n  }\n  get headMarker() {\n    return this.head.marker\n  }\n  get tailMarker() {\n    return this.tail.marker\n  }\n  get headMarkerOffset() {\n    return this.head.offsetInMarker\n  }\n  get tailMarkerOffset() {\n    return this.tail.offsetInMarker\n  }\n}\n\nfunction assertMarkerable(section: Section): asserts section is Markerable {\n  if (!('markers' in section)) {\n    throw new MobiledocError('Expected position section to be markerable')\n  }\n}\n","import Marker, { HIGH_SURROGATE_RANGE, LOW_SURROGATE_RANGE } from '../../models/marker'\nimport RenderTree from '../../models/render-tree'\nimport { isTextNode, containsNode, isElementNode } from '../dom-utils'\nimport { findOffsetInNode } from '../selection-utils'\nimport { DIRECTION } from '../key'\nimport assert from '../assert'\nimport Range from './range'\nimport Markerable from '../../models/_markerable'\nimport Section from '../../models/_section'\nimport RenderNode from '../../models/render-node'\nimport Card from '../../models/card'\n\nconst { FORWARD, BACKWARD } = DIRECTION\n\n// generated via http://xregexp.com/ to cover chars that \\w misses\n// (new XRegExp('\\\\p{Alphabetic}|[0-9]|_|:')).toString()\n// eslint-disable-next-line no-misleading-character-class\nconst WORD_CHAR_REGEX = /[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևְ-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࢠ-ࢴࣣ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౠ-ౣಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೞೠ-ೣೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൗൟ-ൣൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ၢၥ-ၨၮ-ႆႎႜႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፟ᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜓᜠ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᬀ-ᬳᬵ-ᭃᭅ-ᭋᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰵᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳳᳵᳶᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠧꡀ-ꡳꢀ-ꣃꣲ-ꣷꣻꣽꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺꩾ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]|[0-9]|_|:/\n\nfunction findParentSectionFromNode(renderTree: RenderTree, node: Node) {\n  let renderNode = renderTree.findRenderNodeFromElement(node, renderNode => renderNode.postNode.isSection)\n\n  return renderNode && renderNode.postNode\n}\n\nfunction findOffsetInMarkerable(markerable: Markerable, node: Node, offset: number) {\n  let offsetInSection = 0\n  let marker = markerable.markers.head\n  while (marker) {\n    assertHasRenderNode(marker.renderNode)\n    let markerNode = marker.renderNode.element\n    if (markerNode === node) {\n      return offsetInSection + offset\n    } else if (marker.isAtom) {\n      if (marker.renderNode.headTextNode === node) {\n        return offsetInSection\n      } else if (marker.renderNode.tailTextNode === node) {\n        return offsetInSection + 1\n      }\n    }\n\n    offsetInSection += marker.length\n    marker = marker.next\n  }\n\n  return offsetInSection\n}\n\nfunction assertHasRenderNode(renderNode: RenderNode | null): asserts renderNode is RenderNode {\n  if (!renderNode) {\n    throw new Error('expected marker to have render node')\n  }\n}\n\nfunction findOffsetInSection(section: Section, node: Node, offset: number) {\n  if (isMarkerable(section)) {\n    return findOffsetInMarkerable(section, node, offset)\n  } else {\n    assertIsCard(section)\n    assertHasRenderNode(section.renderNode)\n    let wrapperNode = section.renderNode.element\n    let endTextNode = wrapperNode.lastChild\n    if (node === endTextNode) {\n      return 1\n    }\n    return 0\n  }\n}\n\nfunction assertIsCard(section: any): asserts section is Card {\n  assert('findOffsetInSection must be called with markerable or card section', section && section.isCardSection)\n}\n\nfunction assertType<T>(message: string, _value: any, conditional: boolean): asserts _value is T {\n  assert(message, conditional)\n}\n\nfunction isMarkerable(section: Section): section is Markerable {\n  return section.isMarkerable\n}\n\ninterface Editor {\n  element: HTMLElement\n  _renderTree: RenderTree\n}\n\nexport default class Position {\n  section: Section | null\n  offset: number\n  isBlank: boolean\n\n  /**\n   * A position is a logical location (zero-width, or \"collapsed\") in a post,\n   * typically between two characters in a section.\n   * Two positions (a head and a tail) make up a {@link Range}.\n   * @constructor\n   */\n  constructor(section: Section | null, offset = 0, isBlank = false) {\n    if (!isBlank) {\n      assert('Position must have a section that is addressable by the cursor', section && section.isLeafSection)\n      assert('Position must have numeric offset', typeof offset === 'number')\n    }\n\n    this.section = section\n    this.offset = offset\n    this.isBlank = isBlank\n  }\n\n  /**\n   * @param {integer} x x-position in current viewport\n   * @param {integer} y y-position in current viewport\n   * @param {Editor} editor\n   * @return {Position|null}\n   */\n  static atPoint(x: number, y: number, editor: Editor) {\n    let { _renderTree, element: rootElement } = editor\n    let elementFromPoint = document.elementFromPoint(x, y)\n    if (!elementFromPoint || !containsNode(rootElement, elementFromPoint)) {\n      return\n    }\n\n    let { node, offset } = findOffsetInNode(elementFromPoint, { left: x, top: y })\n    return Position.fromNode(_renderTree, node, offset)\n  }\n\n  static blankPosition(): Position {\n    return new BlankPosition()\n  }\n\n  /**\n   * Returns a range from this position to the given tail. If no explicit\n   * tail is given this returns a collapsed range focused on this position.\n   * @param {Position} [tail=this] The ending position\n   * @return {Range}\n   * @public\n   */\n  toRange(tail = this, direction: number | null = null) {\n    return new Range(this, tail, direction)\n  }\n\n  get leafSectionIndex() {\n    let post = this.section!.post\n    let leafSectionIndex\n    post!.walkAllLeafSections((section: Section, index: number) => {\n      if (section === this.section) {\n        leafSectionIndex = index\n      }\n    })\n    return leafSectionIndex\n  }\n\n  get isMarkerable() {\n    return this.section && this.section.isMarkerable\n  }\n\n  /**\n   * Returns the marker at this position, in the backward direction\n   * (i.e., the marker to the left of the cursor if the cursor is on a marker boundary and text is left-to-right)\n   * @return {Marker|undefined}\n   */\n  get marker(): Marker | null {\n    return (this.isMarkerable && this.markerPosition.marker) || null\n  }\n\n  /**\n   * Returns the marker in `direction` from this position.\n   * If the position is in the middle of a marker, the direction is irrelevant.\n   * Otherwise, if the position is at a boundary between two markers, returns the\n   * marker to the left if `direction` === BACKWARD and the marker to the right\n   * if `direction` === FORWARD (assuming left-to-right text direction).\n   * @param {Direction}\n   * @return {Marker|undefined}\n   */\n  markerIn(direction: number) {\n    if (!this.isMarkerable) {\n      return\n    }\n\n    let { marker, offsetInMarker } = this\n    if (!marker) {\n      return\n    }\n\n    if (offsetInMarker > 0 && offsetInMarker < marker.length) {\n      return marker\n    } else if (offsetInMarker === 0) {\n      return direction === BACKWARD ? marker : marker.prev\n    } else if (offsetInMarker === marker.length) {\n      return direction === FORWARD ? marker.next : marker\n    }\n  }\n\n  get offsetInMarker() {\n    return this.markerPosition.offset\n  }\n\n  isEqual(position: Position) {\n    return this.section === position.section && this.offset === position.offset\n  }\n\n  /**\n   * @return {Boolean} If this position is at the head of the post\n   */\n  isHeadOfPost() {\n    return this.move(BACKWARD).isEqual(this)\n  }\n\n  /**\n   * @return {Boolean} If this position is at the tail of the post\n   */\n  isTailOfPost() {\n    return this.move(FORWARD).isEqual(this)\n  }\n\n  /**\n   * @return {Boolean} If this position is at the head of its section\n   */\n  isHead() {\n    return this.isEqual(this.section!.headPosition())\n  }\n\n  /**\n   * @return {Boolean} If this position is at the tail of its section\n   */\n  isTail() {\n    return this.isEqual(this.section!.tailPosition())\n  }\n\n  /**\n   * Move the position 1 unit in `direction`.\n   *\n   * @param {Number} units to move. > 0 moves right, < 0 moves left\n   * @return {Position} Return a new position one unit in the given\n   * direction. If the position is moving left and at the beginning of the post,\n   * the same position will be returned. Same if the position is moving right and\n   * at the end of the post.\n   */\n  move(units: number): Position {\n    assert('Must pass integer to Position#move', typeof units === 'number')\n\n    if (units < 0) {\n      return this.moveLeft().move(++units)\n    } else if (units > 0) {\n      return this.moveRight().move(--units)\n    } else {\n      return this\n    }\n  }\n\n  /**\n   * @param {Number} direction (FORWARD or BACKWARD)\n   * @return {Position} The result of moving 1 \"word\" unit in `direction`\n   */\n  moveWord(direction: number): Position {\n    let isPostBoundary = direction === BACKWARD ? this.isHeadOfPost() : this.isTailOfPost()\n    if (isPostBoundary) {\n      return this\n    }\n\n    if (!this.isMarkerable) {\n      return this.move(direction)\n    }\n\n    let pos: Position = this\n\n    // Helper fn to check if the pos is at the `dir` boundary of its section\n    let isBoundary = (pos: Position, dir: number) => {\n      return dir === BACKWARD ? pos.isHead() : pos.isTail()\n    }\n    // Get the char at this position (looking forward/right)\n    let getChar = (pos: Position) => {\n      let { marker, offsetInMarker } = pos\n      return marker!.charAt(offsetInMarker)\n    }\n    // Get the char in `dir` at this position\n    let peekChar = (pos: Position, dir: number) => {\n      return dir === BACKWARD ? getChar(pos.move(BACKWARD)) : getChar(pos)\n    }\n    // Whether there is an atom in `dir` from this position\n    let isAtom = (pos: Position, dir: number) => {\n      // Special case when position is at end, the marker associated with it is\n      // the marker to its left. Normally `pos#marker` is the marker to the right of the pos's offset.\n      if (dir === BACKWARD && pos.isTail() && pos.marker!.isAtom) {\n        return true\n      }\n      return dir === BACKWARD ? pos.move(BACKWARD).marker!.isAtom : pos.marker!.isAtom\n    }\n\n    if (isBoundary(pos, direction)) {\n      // extend movement into prev/next section\n      return pos.move(direction).moveWord(direction)\n    }\n\n    let seekWord = (pos: Position) => {\n      return !isBoundary(pos, direction) && !isAtom(pos, direction) && !WORD_CHAR_REGEX.test(peekChar(pos, direction))\n    }\n\n    // move(dir) while we are seeking the first word char\n    while (seekWord(pos)) {\n      pos = pos.move(direction)\n    }\n\n    if (isAtom(pos, direction)) {\n      return pos.move(direction)\n    }\n\n    let seekBoundary = (pos: Position) => {\n      return !isBoundary(pos, direction) && !isAtom(pos, direction) && WORD_CHAR_REGEX.test(peekChar(pos, direction))\n    }\n\n    // move(dir) while we are seeking the first boundary position\n    while (seekBoundary(pos)) {\n      pos = pos.move(direction)\n    }\n\n    return pos\n  }\n\n  /**\n   * The position to the left of this position.\n   * If this position is the post's headPosition it returns itself.\n   * @return {Position}\n   * @private\n   */\n  moveLeft() {\n    if (this.isHead()) {\n      let prev = this.section!.previousLeafSection()\n      return prev ? prev.tailPosition() : this\n    } else {\n      let offset = this.offset - 1\n      if (this.isMarkerable && this.marker) {\n        let code = this.marker.value.charCodeAt(offset)\n        if (code >= LOW_SURROGATE_RANGE[0] && code <= LOW_SURROGATE_RANGE[1]) {\n          offset = offset - 1\n        }\n      }\n      return new Position(this.section, offset)\n    }\n  }\n\n  /**\n   * The position to the right of this position.\n   * If this position is the post's tailPosition it returns itself.\n   * @return {Position}\n   * @private\n   */\n  moveRight() {\n    if (this.isTail()) {\n      let next = this.section!.nextLeafSection()\n      return next ? next.headPosition() : this\n    } else {\n      let offset = this.offset + 1\n      if (this.isMarkerable && this.marker) {\n        let code = this.marker.value.charCodeAt(offset - 1)\n        if (code >= HIGH_SURROGATE_RANGE[0] && code <= HIGH_SURROGATE_RANGE[1]) {\n          offset = offset + 1\n        }\n      }\n      return new Position(this.section, offset)\n    }\n  }\n\n  static fromNode(renderTree: RenderTree, node: Node, offset: number) {\n    if (isTextNode(node)) {\n      return Position.fromTextNode(renderTree, node, offset)\n    } else if (isElementNode(node)) {\n      return Position.fromElementNode(renderTree, node, offset)\n    }\n\n    assert('Positions can only be created from text nodes or elements', false)\n  }\n\n  static fromTextNode(renderTree: RenderTree, textNode: Text, offsetInNode: number) {\n    const renderNode = renderTree.getElementRenderNode(textNode)\n    let section, offsetInSection\n\n    if (renderNode) {\n      const marker = renderNode.postNode\n      section = marker.section\n\n      assert(`Could not find parent section for mapped text node \"${textNode.textContent}\"`, !!section)\n      offsetInSection = section.offsetOfMarker(marker, offsetInNode)\n    } else {\n      // all text nodes should be rendered by markers except:\n      //   * text nodes inside cards\n      //   * text nodes created by the browser during text input\n      // both of these should have rendered parent sections, though\n      section = findParentSectionFromNode(renderTree, textNode)\n      assert(`Could not find parent section for un-mapped text node \"${textNode.textContent}\"`, !!section)\n\n      offsetInSection = findOffsetInSection(section, textNode, offsetInNode)\n    }\n\n    return new Position(section, offsetInSection)\n  }\n\n  static fromElementNode(renderTree: RenderTree, elementNode: Element, offset: number) {\n    let position\n\n    // The browser may change the reported selection to equal the editor's root\n    // element if the user clicks an element that is immediately removed,\n    // which can happen when clicking to remove a card.\n    if (elementNode === renderTree.rootElement) {\n      let post = renderTree.rootNode.postNode\n      position = offset === 0 ? post.headPosition() : post.tailPosition()\n    } else {\n      let section = findParentSectionFromNode(renderTree, elementNode)\n      assert('Could not find parent section from element node', !!section)\n\n      if (section.isCardSection) {\n        // Selections in cards are usually made on a text node\n        // containing a &zwnj;  on one side or the other of the card but\n        // some scenarios (Firefox) will result in selecting the\n        // card's wrapper div. If the offset is 2 we've selected\n        // the final zwnj and should consider the cursor at the\n        // end of the card (offset 1). Otherwise,  the cursor is at\n        // the start of the card\n        position = offset < 2 ? section.headPosition() : section.tailPosition()\n      } else {\n        // In Firefox it is possible for the cursor to be on an atom's wrapper\n        // element. (In Chrome/Safari, the browser corrects this to be on\n        // one of the text nodes surrounding the wrapper).\n        // This code corrects for when the browser reports the cursor position\n        // to be on the wrapper element itself\n        let renderNode = renderTree.getElementRenderNode(elementNode)\n        let postNode = renderNode && renderNode.postNode\n        if (postNode && postNode.isAtom) {\n          let sectionOffset = section.offsetOfMarker(postNode)\n          if (offset > 1) {\n            // we are on the tail side of the atom\n            sectionOffset += postNode.length\n          }\n          position = new Position(section, sectionOffset)\n        } else if (offset >= elementNode.childNodes.length) {\n          // This is to deal with how Firefox handles triple-click selections.\n          // See https://stackoverflow.com/a/21234837/1269194 for an\n          // explanation.\n          position = section.tailPosition()\n        } else {\n          // The offset is 0 if the cursor is on a non-atom-wrapper element node\n          // (e.g., a <br> tag in a blank markup section)\n          position = section.headPosition()\n        }\n      }\n    }\n\n    return position\n  }\n\n  /**\n   * @private\n   */\n  get markerPosition() {\n    assert('Cannot get markerPosition without a section', !!this.section)\n    assertType<Markerable>('cannot get markerPosition of a non-markerable', this.section, !!this.section.isMarkerable)\n    return this.section.markerPositionAtOffset(this.offset)\n  }\n}\n\nclass BlankPosition extends Position {\n  constructor() {\n    super(null, 0, true)\n  }\n\n  isEqual(other: Position) {\n    return other && other.isBlank\n  }\n\n  toRange() {\n    return Range.blankRange()\n  }\n\n  get leafSectionIndex(): never {\n    throw new Error('must implement get leafSectionIndex')\n  }\n\n  get isMarkerable() {\n    return false\n  }\n\n  get marker() {\n    return null\n  }\n\n  isHeadOfPost() {\n    return false\n  }\n\n  isTailOfPost() {\n    return false\n  }\n\n  isHead() {\n    return false\n  }\n\n  isTail() {\n    return false\n  }\n\n  move(): Position {\n    return (this as unknown) as Position\n  }\n\n  moveWord(): Position {\n    return (this as unknown) as Position\n  }\n\n  get markerPosition() {\n    return {} as any\n  }\n}\n","/**\n * @module UI\n */\n\nimport Position from '../utils/cursor/position'\nimport Range from '../utils/cursor/range'\n\nlet defaultShowPrompt = (message, defaultValue, callback) => callback(window.prompt(message, defaultValue))\n\n/**\n * @callback promptCallback\n * @param {String} url The URL to pass back to the editor for linking\n *        to the selected text.\n */\n\n/**\n * @callback showPrompt\n * @param {String} message The text of the prompt.\n * @param {String} defaultValue The initial URL to display in the prompt.\n * @param {module:UI~promptCallback} callback Once your handler has accepted a URL,\n *        it should pass it to `callback` so that the editor may link the\n *        selected text.\n */\n\n/**\n * Exposes the core behavior for linking and unlinking text, and allows for\n * customization of the URL input handler.\n * @param {Editor} editor An editor instance to operate on. If a range is selected,\n *        either prompt for a URL and add a link or un-link the\n *        currently linked text.\n * @param {module:UI~showPrompt} [showPrompt] An optional custom input handler. Defaults\n *        to using `window.prompt`.\n * @example\n * let myPrompt = (message, defaultURL, promptCallback) => {\n *   let url = window.prompt(\"Overriding the defaults\", \"http://placekitten.com\");\n *   promptCallback(url);\n * };\n *\n * editor.registerKeyCommand({\n *   str: \"META+K\",\n *   run(editor) {\n *     toggleLink(editor, myPrompt);\n *   }\n * });\n * @public\n */\nexport function toggleLink(editor, showPrompt = defaultShowPrompt) {\n  if (editor.range.isCollapsed) {\n    return\n  }\n\n  let selectedText = editor.cursor.selectedText()\n  let defaultUrl = ''\n  if (selectedText.indexOf('http') !== -1) {\n    defaultUrl = selectedText\n  }\n\n  let { range } = editor\n  let hasLink = editor.detectMarkupInRange(range, 'a')\n\n  if (hasLink) {\n    editor.toggleMarkup('a')\n  } else {\n    showPrompt('Enter a URL', defaultUrl, url => {\n      if (!url) {\n        return\n      }\n\n      editor.toggleMarkup('a', { href: url })\n    })\n  }\n}\n\n/**\n * Exposes the core behavior for editing an existing link, and allows for\n * customization of the URL input handler.\n * @param {HTMLAnchorElement} target The anchor (<a>) DOM element whose URL should be edited.\n * @param {Editor} editor An editor instance to operate on. If a range is selected,\n *        either prompt for a URL and add a link or un-link the\n *        currently linked text.\n * @param {module:UI~showPrompt} [showPrompt] An optional custom input handler. Defaults\n *        to using `window.prompt`.\n *\n * @public\n */\nexport function editLink(target, editor, showPrompt = defaultShowPrompt) {\n  showPrompt('Enter a URL', target.href, url => {\n    if (!url) {\n      return\n    }\n\n    const position = Position.fromNode(editor._renderTree, target.firstChild)\n    const range = new Range(position, new Position(position.section, position.offset + target.textContent.length))\n\n    editor.run(post => {\n      let markup = editor.builder.createMarkup('a', { href: url })\n\n      // This is the only way to \"update\" a markup with new attributes in the\n      // current API.\n      post.toggleMarkup(markup, range)\n      post.toggleMarkup(markup, range)\n    })\n  })\n}\n\nexport default {\n  toggleLink,\n  editLink,\n}\n","import View from './view'\nimport { positionElementCenteredBelow, getEventTargetMatchingTag, whenElementIsNotInDOM } from '../utils/element-utils'\nimport { editLink } from '../editor/ui'\n\nconst SHOW_DELAY = 200\nconst HIDE_DELAY = 600\n\nexport default class Tooltip extends View {\n  constructor(options) {\n    options.classNames = ['__mobiledoc-tooltip']\n    super(options)\n\n    this.rootElement = options.rootElement\n    this.editor = options.editor\n\n    this.addListeners(options)\n  }\n\n  showLink(linkEl) {\n    const { editor, element: tooltipEl } = this\n    const { tooltipPlugin } = editor\n\n    tooltipPlugin.renderLink(tooltipEl, linkEl, {\n      editLink: () => {\n        editLink(linkEl, editor)\n        this.hide()\n      },\n    })\n\n    this.show()\n    positionElementCenteredBelow(this.element, linkEl)\n\n    this.elementObserver = whenElementIsNotInDOM(linkEl, () => this.hide())\n  }\n\n  addListeners(options) {\n    const { rootElement, element: tooltipElement } = this\n    let showTimeout, hideTimeout\n\n    const scheduleHide = () => {\n      clearTimeout(hideTimeout)\n      hideTimeout = setTimeout(() => {\n        this.hide()\n      }, HIDE_DELAY)\n    }\n\n    this.addEventListener(tooltipElement, 'mouseenter', () => {\n      clearTimeout(hideTimeout)\n    })\n\n    this.addEventListener(tooltipElement, 'mouseleave', () => {\n      scheduleHide()\n    })\n\n    this.addEventListener(rootElement, 'mouseover', event => {\n      let target = getEventTargetMatchingTag(options.showForTag, event.target, rootElement)\n\n      if (target && target.isContentEditable) {\n        clearTimeout(hideTimeout)\n        showTimeout = setTimeout(() => {\n          this.showLink(target)\n        }, SHOW_DELAY)\n      }\n    })\n\n    this.addEventListener(rootElement, 'mouseout', () => {\n      clearTimeout(showTimeout)\n      if (this.elementObserver) {\n        this.elementObserver.cancel()\n      }\n      scheduleHide()\n    })\n  }\n}\n\nexport const DEFAULT_TOOLTIP_PLUGIN = {\n  renderLink(tooltipEl, linkEl, { editLink }) {\n    const { href } = linkEl\n    tooltipEl.innerHTML = `<a href=\"${href}\" target=\"_blank\">${href}</a>`\n    const button = document.createElement('button')\n    button.classList.add('__mobiledoc-tooltip__edit-link')\n    button.innerText = 'Edit Link'\n    button.addEventListener('click', editLink)\n    tooltipEl.append(button)\n  },\n}\n","import assert from 'mobiledoc-kit/utils/assert'\n\nexport default class LifecycleCallbacks {\n  constructor(queueNames = []) {\n    this.callbackQueues = {}\n    this.removalQueues = {}\n\n    queueNames.forEach(name => {\n      this.callbackQueues[name] = []\n      this.removalQueues[name] = []\n    })\n  }\n\n  runCallbacks(queueName, args = []) {\n    let queue = this._getQueue(queueName)\n    queue.forEach(cb => cb(...args))\n\n    let toRemove = this.removalQueues[queueName]\n    toRemove.forEach(cb => {\n      let index = queue.indexOf(cb)\n      if (index !== -1) {\n        queue.splice(index, 1)\n      }\n    })\n\n    this.removalQueues[queueName] = []\n  }\n\n  addCallback(queueName, callback) {\n    this._getQueue(queueName).push(callback)\n  }\n\n  _scheduleCallbackForRemoval(queueName, callback) {\n    this.removalQueues[queueName].push(callback)\n  }\n\n  addCallbackOnce(queueName, callback) {\n    let queue = this._getQueue(queueName)\n    if (queue.indexOf(callback) === -1) {\n      queue.push(callback)\n      this._scheduleCallbackForRemoval(queueName, callback)\n    }\n  }\n\n  _getQueue(queueName) {\n    let queue = this.callbackQueues[queueName]\n    assert(`No queue found for \"${queueName}\"`, !!queue)\n    return queue\n  }\n}\n","import assert from 'mobiledoc-kit/utils/assert'\nimport {\n  MARKUP_SECTION_TYPE,\n  LIST_SECTION_TYPE,\n  POST_TYPE,\n  CARD_TYPE,\n  IMAGE_SECTION_TYPE,\n  LIST_ITEM_TYPE,\n} from 'mobiledoc-kit/models/types'\n\nconst MARKERABLE = 'markerable',\n  NESTED_MARKERABLE = 'nested_markerable',\n  NON_MARKERABLE = 'non_markerable'\n\nclass Visitor {\n  constructor(inserter, cursorPosition) {\n    let { postEditor, post } = inserter\n    this.postEditor = postEditor\n    this._post = post\n    this.cursorPosition = cursorPosition\n    this.builder = this.postEditor.builder\n\n    this._hasInsertedFirstLeafSection = false\n  }\n\n  get cursorPosition() {\n    return this._cursorPosition\n  }\n\n  set cursorPosition(position) {\n    this._cursorPosition = position\n    this.postEditor.setRange(position)\n  }\n\n  visit(node) {\n    let method = node.type\n    assert(`Cannot visit node of type ${node.type}`, !!this[method])\n    this[method](node)\n  }\n\n  _canMergeSection(section) {\n    if (this._hasInsertedFirstLeafSection) {\n      return false\n    } else {\n      return this._isMarkerable && section.isMarkerable\n    }\n  }\n\n  get _isMarkerable() {\n    return this.cursorSection.isMarkerable\n  }\n\n  get cursorSection() {\n    return this.cursorPosition.section\n  }\n\n  get cursorOffset() {\n    return this.cursorPosition.offset\n  }\n\n  get _isNested() {\n    return this.cursorSection.isNested\n  }\n\n  [POST_TYPE](node) {\n    if (this.cursorSection.isBlank && !this._isNested) {\n      // replace blank section with entire post\n      let newSections = node.sections.map(s => s.clone())\n      this._replaceSection(this.cursorSection, newSections)\n    } else {\n      node.sections.forEach(section => this.visit(section))\n    }\n  }\n\n  [MARKUP_SECTION_TYPE](node) {\n    this[MARKERABLE](node)\n  }\n\n  [LIST_SECTION_TYPE](node) {\n    let hasNext = !!node.next\n    node.items.forEach(item => this.visit(item))\n\n    if (this._isNested && hasNext) {\n      this._breakNestedAtCursor()\n    }\n  }\n\n  [LIST_ITEM_TYPE](node) {\n    this[NESTED_MARKERABLE](node)\n  }\n\n  [CARD_TYPE](node) {\n    this[NON_MARKERABLE](node)\n  }\n\n  [IMAGE_SECTION_TYPE](node) {\n    this[NON_MARKERABLE](node)\n  }\n\n  [NON_MARKERABLE](section) {\n    if (this._isNested) {\n      this._breakNestedAtCursor()\n    } else if (!this.cursorSection.isBlank) {\n      this._breakAtCursor()\n    }\n\n    this._insertLeafSection(section)\n  }\n\n  [MARKERABLE](section) {\n    if (this._canMergeSection(section)) {\n      this._mergeSection(section)\n    } else if (this._isNested && this._isMarkerable) {\n      // If we are attaching a markerable section to a list item,\n      // insert a linebreak then merge the section onto the resulting blank list item\n      this._breakAtCursor()\n\n      // Advance the cursor to the head of the blank list item\n      let nextPosition = this.cursorSection.next.headPosition()\n      this.cursorPosition = nextPosition\n\n      // Merge this section onto the list item\n      this._mergeSection(section)\n    } else {\n      this._breakAtCursor()\n      this._insertLeafSection(section)\n    }\n  }\n\n  [NESTED_MARKERABLE](section) {\n    if (this._canMergeSection(section)) {\n      this._mergeSection(section)\n      return\n    }\n\n    section = this._isNested ? section : this._wrapNestedSection(section)\n    this._breakAtCursor()\n    this._insertLeafSection(section)\n  }\n\n  // break out of a nested cursor position\n  _breakNestedAtCursor() {\n    assert('Cannot call _breakNestedAtCursor if not nested', this._isNested)\n\n    let parent = this.cursorSection.parent\n    let cursorAtEndOfList = this.cursorPosition.isEqual(parent.tailPosition())\n\n    if (cursorAtEndOfList) {\n      let blank = this.builder.createMarkupSection()\n      this._insertSectionAfter(blank, parent)\n    } else {\n      let [, blank] = this._breakListAtCursor()\n      this.cursorPosition = blank.tailPosition()\n    }\n  }\n\n  _breakListAtCursor() {\n    assert('Cannot _splitParentSection if cursor position is not nested', this._isNested)\n\n    let list = this.cursorSection.parent,\n      position = this.cursorPosition,\n      blank = this.builder.createMarkupSection()\n    let [pre, post] = this.postEditor._splitListAtPosition(list, position)\n\n    let collection = this._post.sections,\n      reference = post\n    this.postEditor.insertSectionBefore(collection, blank, reference)\n    return [pre, blank, post]\n  }\n\n  _wrapNestedSection(section) {\n    let tagName = section.parent.tagName\n    let parent = this.builder.createListSection(tagName)\n    parent.items.append(section.clone())\n    return parent\n  }\n\n  _mergeSection(section) {\n    assert('Can only merge markerable sections', this._isMarkerable && section.isMarkerable)\n    this._hasInsertedFirstLeafSection = true\n\n    let markers = section.markers.map(m => m.clone())\n    let position = this.postEditor.insertMarkers(this.cursorPosition, markers)\n\n    this.cursorPosition = position\n  }\n\n  // Can be called to add a line break when in a nested section or a parent\n  // section.\n  _breakAtCursor() {\n    if (this.cursorSection.isBlank) {\n      return\n    } else if (this._isMarkerable) {\n      this._breakMarkerableAtCursor()\n    } else {\n      this._breakNonMarkerableAtCursor()\n    }\n  }\n\n  // Inserts a blank section before/after the cursor,\n  // depending on cursor position.\n  _breakNonMarkerableAtCursor() {\n    let collection = this._post.sections,\n      blank = this.builder.createMarkupSection(),\n      reference = this.cursorPosition.isHead() ? this.cursorSection : this.cursorSection.next\n    this.postEditor.insertSectionBefore(collection, blank, reference)\n    this.cursorPosition = blank.tailPosition()\n  }\n\n  _breakMarkerableAtCursor() {\n    let [pre] = this.postEditor.splitSection(this.cursorPosition)\n\n    this.cursorPosition = pre.tailPosition()\n  }\n\n  _replaceSection(section, newSections) {\n    assert('Cannot replace section that does not have parent.sections', section.parent && section.parent.sections)\n    assert('Must pass enumerable to _replaceSection', !!newSections.forEach)\n\n    let collection = section.parent.sections\n    let reference = section.next\n    this.postEditor.removeSection(section)\n    newSections.forEach(section => {\n      this.postEditor.insertSectionBefore(collection, section, reference)\n    })\n    let lastSection = newSections[newSections.length - 1]\n\n    this.cursorPosition = lastSection.tailPosition()\n  }\n\n  _insertSectionBefore(section, reference) {\n    let collection = this.cursorSection.parent.sections\n    this.postEditor.insertSectionBefore(collection, section, reference)\n\n    this.cursorPosition = section.tailPosition()\n  }\n\n  // Insert a section after the parent section.\n  // E.g., add a markup section after a list section\n  _insertSectionAfter(section, parent) {\n    assert('Cannot _insertSectionAfter nested section', !parent.isNested)\n    let reference = parent.next\n    let collection = this._post.sections\n    this.postEditor.insertSectionBefore(collection, section, reference)\n    this.cursorPosition = section.tailPosition()\n  }\n\n  _insertLeafSection(section) {\n    assert('Can only _insertLeafSection when cursor is at end of section', this.cursorPosition.isTail())\n\n    this._hasInsertedFirstLeafSection = true\n    section = section.clone()\n\n    if (this.cursorSection.isBlank) {\n      assert(\n        'Cannot insert leaf non-markerable section when cursor is nested',\n        !(section.isMarkerable && this._isNested)\n      )\n      this._replaceSection(this.cursorSection, [section])\n    } else if (this.cursorSection.next && this.cursorSection.next.isBlank) {\n      this._replaceSection(this.cursorSection.next, [section])\n    } else {\n      let reference = this.cursorSection.next\n      this._insertSectionBefore(section, reference)\n    }\n  }\n}\n\nexport default class Inserter {\n  constructor(postEditor, post) {\n    this.postEditor = postEditor\n    this.post = post\n  }\n\n  insert(cursorPosition, newPost) {\n    let visitor = new Visitor(this, cursorPosition)\n    if (!newPost.isBlank) {\n      visitor.visit(newPost)\n    }\n    return visitor.cursorPosition\n  }\n}\n","/**\n * Usage:\n * Without a conditional, always prints deprecate message:\n *   `deprecate('This is deprecated')`\n *\n * Conditional deprecation, works similarly to `assert`, prints deprecation if\n * conditional is false:\n *   `deprecate('Deprecated only if foo !== bar', foo === bar)`\n */\nexport default function deprecate(message: string, conditional = false) {\n  if (!conditional) {\n    // eslint-disable-next-line no-console\n    console.log(`[mobiledoc-kit] [DEPRECATED]: ${message}`)\n  }\n}\n","import Range from './cursor/range'\nimport Position from './cursor/position'\nimport assert from './assert'\n\nexport default function toRange(rangeLike: Range | Position) {\n  assert(`Must pass non-blank object to \"toRange\"`, !!rangeLike)\n\n  if (rangeLike instanceof Range) {\n    return rangeLike\n  } else if (rangeLike instanceof Position) {\n    return rangeLike.toRange()\n  }\n\n  assert(`Incorrect structure for rangeLike: ${rangeLike}`, false)\n}\n","import Position from '../utils/cursor/position'\nimport Range from 'mobiledoc-kit/utils/cursor/range'\nimport { detect, forEach, reduce, filter, values, commonItems } from '../utils/array-utils'\nimport { DIRECTION } from '../utils/key'\nimport LifecycleCallbacks from '../models/lifecycle-callbacks'\nimport assert from '../utils/assert'\nimport { normalizeTagName } from '../utils/dom-utils'\nimport PostInserter from './post/post-inserter'\nimport deprecate from 'mobiledoc-kit/utils/deprecate'\nimport toRange from 'mobiledoc-kit/utils/to-range'\n\nconst { FORWARD, BACKWARD } = DIRECTION\n\nfunction isListSectionTagName(tagName) {\n  return tagName === 'ul' || tagName === 'ol'\n}\n\nfunction shrinkRange(range) {\n  const { head, tail } = range\n\n  if (tail.offset === 0 && head.section !== tail.section) {\n    range.tail = new Position(tail.section.prev, tail.section.prev.length)\n  }\n\n  return range\n}\n\nconst CALLBACK_QUEUES = {\n  BEFORE_COMPLETE: 'beforeComplete',\n  COMPLETE: 'complete',\n  AFTER_COMPLETE: 'afterComplete',\n}\n\n// There are only two events that we're concerned about for Undo, that is inserting text and deleting content.\n// These are the only two states that go on a \"run\" and create a combined undo, everything else has it's own\n// deadicated undo.\nconst EDIT_ACTIONS = {\n  INSERT_TEXT: 1,\n  DELETE: 2,\n}\n\n/**\n * The PostEditor is used to modify a post. It should not be instantiated directly.\n * Instead, a new instance of a PostEditor is created by the editor and passed\n * as the argument to the callback in {@link Editor#run}.\n *\n * Usage:\n * ```\n * editor.run((postEditor) => {\n *   // postEditor is an instance of PostEditor that can operate on the\n *   // editor's post\n * });\n * ```\n */\nclass PostEditor {\n  /**\n   * @private\n   */\n  constructor(editor) {\n    this.editor = editor\n    this.builder = this.editor.builder\n    this._callbacks = new LifecycleCallbacks(values(CALLBACK_QUEUES))\n\n    this._didComplete = false\n    this.editActionTaken = null\n\n    this._renderRange = () => this.editor.selectRange(this._range)\n    this._postDidChange = () => this.editor._postDidChange()\n    this._rerender = () => this.editor.rerender()\n  }\n\n  addCallback(...args) {\n    this._callbacks.addCallback(...args)\n  }\n\n  addCallbackOnce(...args) {\n    this._callbacks.addCallbackOnce(...args)\n  }\n\n  runCallbacks(...args) {\n    this._callbacks.runCallbacks(...args)\n  }\n\n  begin() {\n    // cache the editor's range\n    this._range = this.editor.range\n  }\n\n  /**\n   * Schedules to select the given range on the editor after the postEditor\n   * has completed its work. This also updates the postEditor's active range\n   * (so that multiple calls to range-changing methods on the postEditor will\n   * update the correct range).\n   *\n   * Usage:\n   *   let range = editor.range;\n   *   editor.run(postEditor => {\n   *     let nextPosition = postEditor.deleteRange(range);\n   *\n   *     // Will position the editor's cursor at `nextPosition` after\n   *     // the postEditor finishes work and the editor rerenders.\n   *     postEditor.setRange(nextPosition);\n   *   });\n   * @param {Range|Position} range\n   * @public\n   */\n  setRange(range) {\n    range = toRange(range)\n\n    // TODO validate that the range is valid\n    // (does not contain marked-for-removal head or tail sections?)\n    this._range = range\n    this.scheduleAfterRender(this._renderRange, true)\n  }\n\n  /**\n   * Delete a range from the post\n   *\n   * Usage:\n   * ```\n   *     let { range } = editor;\n   *     editor.run((postEditor) => {\n   *       let nextPosition = postEditor.deleteRange(range);\n   *       postEditor.setRange(nextPosition);\n   *     });\n   * ```\n   * @param {Range} range Cursor Range object with head and tail Positions\n   * @return {Position} The position where the cursor would go after deletion\n   * @public\n   */\n  deleteRange(range) {\n    assert('Must pass MobiledocKit Range to `deleteRange`', range instanceof Range)\n\n    this.editActionTaken = EDIT_ACTIONS.DELETE\n\n    let {\n      head,\n      head: { section: headSection },\n      tail,\n      tail: { section: tailSection },\n    } = range\n\n    let {\n      editor: { post },\n    } = this\n\n    if (headSection === tailSection) {\n      return this.cutSection(headSection, head, tail)\n    }\n\n    let nextSection = headSection.nextLeafSection()\n\n    let nextPos = this.cutSection(headSection, head, headSection.tailPosition())\n    // cutSection can replace the section, so re-read headSection here\n    headSection = nextPos.section\n\n    // Remove sections in the middle of the range\n    while (nextSection !== tailSection) {\n      let tmp = nextSection\n      nextSection = nextSection.nextLeafSection()\n      this.removeSection(tmp)\n    }\n\n    let tailPos = this.cutSection(tailSection, tailSection.headPosition(), tail)\n    // cutSection can replace the section, so re-read tailSection here\n    tailSection = tailPos.section\n\n    if (tailSection.isBlank) {\n      this.removeSection(tailSection)\n    } else {\n      // If head and tail sections are markerable, join them\n      // Note: They may not be the same section type. E.g. this may join\n      // a tail section that was a list item onto a markup section, or vice versa.\n      // (This is the desired behavior.)\n      if (headSection.isMarkerable && tailSection.isMarkerable) {\n        headSection.join(tailSection)\n        this._markDirty(headSection)\n        this.removeSection(tailSection)\n      } else if (headSection.isBlank) {\n        this.removeSection(headSection)\n        nextPos = tailPos\n      }\n    }\n\n    if (post.isBlank) {\n      post.sections.append(this.builder.createMarkupSection('p'))\n      nextPos = post.headPosition()\n    }\n\n    return nextPos\n  }\n\n  /**\n   * Note: This method may replace `section` with a different section.\n   *\n   * \"Cut\" out the part of the section inside `headOffset` and `tailOffset`.\n   * If section is markerable this splits markers that straddle the head or tail (if necessary),\n   * and removes markers that are wholly inside the offsets.\n   * If section is a card, this may replace it with a blank markup section if the\n   * positions contain the entire card.\n   *\n   * @param {Section} section\n   * @param {Position} head\n   * @param {Position} tail\n   * @return {Position}\n   * @private\n   */\n  cutSection(section, head, tail) {\n    assert(\n      'Must pass head position and tail position to `cutSection`',\n      head instanceof Position && tail instanceof Position\n    )\n    assert('Must pass positions within same section to `cutSection`', head.section === tail.section)\n\n    if (section.isBlank || head.isEqual(tail)) {\n      return head\n    }\n    if (section.isCardSection) {\n      if (head.isHead() && tail.isTail()) {\n        let newSection = this.builder.createMarkupSection()\n        this.replaceSection(section, newSection)\n        return newSection.headPosition()\n      } else {\n        return tail\n      }\n    }\n\n    let range = head.toRange(tail)\n    this.splitMarkers(range).forEach(m => this.removeMarker(m))\n\n    return head\n  }\n\n  _coalesceMarkers(section) {\n    if (section.isMarkerable) {\n      this._removeBlankMarkers(section)\n      this._joinSimilarMarkers(section)\n    }\n  }\n\n  _removeBlankMarkers(section) {\n    forEach(\n      filter(section.markers, m => m.isBlank),\n      m => this.removeMarker(m)\n    )\n  }\n\n  // joins markers that have identical markups\n  _joinSimilarMarkers(section) {\n    let marker = section.markers.head\n    let nextMarker\n    while (marker && marker.next) {\n      nextMarker = marker.next\n\n      if (marker.canJoin(nextMarker)) {\n        nextMarker.value = marker.value + nextMarker.value\n        this._markDirty(nextMarker)\n        this.removeMarker(marker)\n      }\n\n      marker = nextMarker\n    }\n  }\n\n  removeMarker(marker) {\n    this._scheduleForRemoval(marker)\n    if (marker.section) {\n      this._markDirty(marker.section)\n      marker.section.markers.remove(marker)\n    }\n  }\n\n  _scheduleForRemoval(postNode) {\n    if (postNode.renderNode) {\n      postNode.renderNode.scheduleForRemoval()\n\n      this.scheduleRerender()\n      this.scheduleDidUpdate()\n    }\n    let removedAdjacentToList =\n      (postNode.prev && postNode.prev.isListSection) || (postNode.next && postNode.next.isListSection)\n    if (removedAdjacentToList) {\n      this.addCallback(CALLBACK_QUEUES.BEFORE_COMPLETE, () => this._joinContiguousListSections())\n    }\n  }\n\n  _joinContiguousListSections() {\n    let { post } = this.editor\n    let range = this._range\n    let prev\n    let groups = []\n    let currentGroup\n\n    // FIXME do we need to force a re-render of the range if changed sections\n    // are contained within the range?\n    let updatedHead = null\n    forEach(post.sections, section => {\n      if (prev && prev.isListSection && section.isListSection && prev.tagName === section.tagName) {\n        currentGroup = currentGroup || [prev]\n        currentGroup.push(section)\n      } else {\n        if (currentGroup) {\n          groups.push(currentGroup)\n        }\n        currentGroup = null\n      }\n      prev = section\n    })\n\n    if (currentGroup) {\n      groups.push(currentGroup)\n    }\n\n    forEach(groups, group => {\n      let list = group[0]\n      forEach(group, listSection => {\n        if (listSection === list) {\n          return\n        }\n\n        let currentHead = range.head\n        let prevPosition\n\n        // FIXME is there a currentHead if there is no range?\n        // is the current head a list item in the section\n        if (!range.isBlank && currentHead.section.isListItem && currentHead.section.parent === listSection) {\n          prevPosition = list.tailPosition()\n        }\n        this._joinListSections(list, listSection)\n        if (prevPosition) {\n          updatedHead = prevPosition.move(FORWARD)\n        }\n      })\n    })\n\n    if (updatedHead) {\n      this.setRange(updatedHead)\n    }\n  }\n\n  _joinListSections(baseList, nextList) {\n    baseList.join(nextList)\n    this._markDirty(baseList)\n    this.removeSection(nextList)\n  }\n\n  _markDirty(postNode) {\n    if (postNode.renderNode) {\n      postNode.renderNode.markDirty()\n\n      this.scheduleRerender()\n      this.scheduleDidUpdate()\n    }\n    if (postNode.section) {\n      this._markDirty(postNode.section)\n    }\n    if (postNode.isMarkerable) {\n      this.addCallback(CALLBACK_QUEUES.BEFORE_COMPLETE, () => this._coalesceMarkers(postNode))\n    }\n  }\n\n  /**\n   * @param {Position} position object with {section, offset} the marker and offset to delete from\n   * @param {Number} direction The direction to delete in (default is BACKWARD)\n   * @return {Position} for positioning the cursor\n   * @public\n   * @deprecated after v0.10.3\n   */\n  deleteFrom(position, direction = DIRECTION.BACKWARD) {\n    deprecate(\n      \"`postEditor#deleteFrom is deprecated. Use `deleteAtPosition(position, direction=BACKWARD, {unit}={unit: 'char'})` instead\"\n    )\n    return this.deleteAtPosition(position, direction, { unit: 'char' })\n  }\n\n  /**\n   * Delete 1 `unit` (can be 'char' or 'word') in the given `direction` at the given\n   * `position`. In almost all cases this will be equivalent to deleting the range formed\n   * by expanding the position 1 unit in the given direction. The exception is when deleting\n   * backward from the beginning of a list item, which reverts the list item into a markup section\n   * instead of joining it with its previous list item (if any).\n   *\n   * Usage:\n   *\n   *     let position = section.tailPosition();\n   *     // Section has text of \"Howdy!\"\n   *     editor.run((postEditor) => {\n   *       postEditor.deleteAtPosition(position);\n   *     });\n   *     // section has text of \"Howdy\"\n   *\n   * @param {Position} position The position to delete at\n   * @param {Direction} [direction=DIRECTION.BACKWARD] direction The direction to delete in\n   * @param {Object} [options]\n   * @param {String} [options.unit=\"char\"] The unit of deletion (\"word\" or \"char\")\n   * @return {Position}\n   */\n  deleteAtPosition(position, direction = DIRECTION.BACKWARD, { unit } = { unit: 'char' }) {\n    if (direction === DIRECTION.BACKWARD) {\n      return this._deleteAtPositionBackward(position, unit)\n    } else {\n      return this._deleteAtPositionForward(position, unit)\n    }\n  }\n\n  _deleteAtPositionBackward(position, unit) {\n    if (position.isHead() && position.section.isListItem) {\n      this.toggleSection('p', position)\n      return this._range.head\n    } else {\n      let prevPosition = unit === 'word' ? position.moveWord(BACKWARD) : position.move(BACKWARD)\n      let range = prevPosition.toRange(position)\n      return this.deleteRange(range)\n    }\n  }\n\n  _deleteAtPositionForward(position, unit) {\n    let nextPosition = unit === 'word' ? position.moveWord(FORWARD) : position.move(FORWARD)\n    let range = position.toRange(nextPosition)\n    return this.deleteRange(range)\n  }\n\n  /**\n   * Split markers at two positions, once at the head, and if necessary once\n   * at the tail.\n   *\n   * Usage:\n   * ```\n   *     let range = editor.range;\n   *     editor.run((postEditor) => {\n   *       postEditor.splitMarkers(range);\n   *     });\n   * ```\n   * The return value will be marker object completely inside the offsets\n   * provided. Markers outside of the split may also have been modified.\n   *\n   * @param {Range} markerRange\n   * @return {Array} of markers that are inside the split\n   * @private\n   */\n  splitMarkers(range) {\n    const { post } = this.editor\n    const { head, tail } = range\n\n    this.splitSectionMarkerAtOffset(head.section, head.offset)\n    this.splitSectionMarkerAtOffset(tail.section, tail.offset)\n\n    return post.markersContainedByRange(range)\n  }\n\n  splitSectionMarkerAtOffset(section, offset) {\n    const edit = section.splitMarkerAtOffset(offset)\n    edit.removed.forEach(m => this.removeMarker(m))\n  }\n\n  /**\n   * Split the section at the position.\n   *\n   * Usage:\n   * ```\n   *     let position = editor.cursor.offsets.head;\n   *     editor.run((postEditor) => {\n   *       postEditor.splitSection(position);\n   *     });\n   *     // Will result in the creation of two new sections\n   *     // replacing the old one at the cursor position\n   * ```\n   * The return value will be the two new sections. One or both of these\n   * sections can be blank (contain only a blank marker), for example if the\n   * headMarkerOffset is 0.\n   *\n   * @param {Position} position\n   * @return {Array} new sections, one for the first half and one for the second (either one can be null)\n   * @public\n   */\n  splitSection(position) {\n    const { section } = position\n\n    if (section.isCardSection) {\n      return this._splitCardSection(section, position)\n    } else if (section.isListItem) {\n      let isLastAndBlank = section.isBlank && !section.next\n      if (isLastAndBlank) {\n        // if is last, replace the item with a blank markup section\n        let parent = section.parent\n        let collection = this.editor.post.sections\n        let blank = this.builder.createMarkupSection()\n        this.removeSection(section)\n        this.insertSectionBefore(collection, blank, parent.next)\n\n        return [null, blank]\n      } else {\n        let [pre, post] = this._splitListItem(section, position)\n        return [pre, post]\n      }\n    } else {\n      let splitSections = section.splitAtPosition(position)\n      splitSections.forEach(s => this._coalesceMarkers(s))\n      this._replaceSection(section, splitSections)\n\n      return splitSections\n    }\n  }\n\n  /**\n   * @param {Section} cardSection\n   * @param {Position} position to split at\n   * @return {Section[]} 2-item array of pre and post-split sections\n   * @private\n   */\n  _splitCardSection(cardSection, position) {\n    let { offset } = position\n    assert('Cards section must be split at offset 0 or 1', offset === 0 || offset === 1)\n\n    let newSection = this.builder.createMarkupSection()\n    let nextSection\n    let surroundingSections\n\n    if (offset === 0) {\n      nextSection = cardSection\n      surroundingSections = [newSection, cardSection]\n    } else {\n      nextSection = cardSection.next\n      surroundingSections = [cardSection, newSection]\n    }\n\n    let collection = this.editor.post.sections\n    this.insertSectionBefore(collection, newSection, nextSection)\n\n    return surroundingSections\n  }\n\n  /**\n   * @param {Section} section\n   * @param {Section} newSection\n   * @return null\n   * @public\n   */\n  replaceSection(section, newSection) {\n    if (!section) {\n      // FIXME should a falsy section be a valid argument?\n      this.insertSectionBefore(this.editor.post.sections, newSection, null)\n    } else {\n      this._replaceSection(section, [newSection])\n    }\n  }\n\n  moveSectionBefore(collection, renderedSection, beforeSection) {\n    const newSection = renderedSection.clone()\n    this.removeSection(renderedSection)\n    this.insertSectionBefore(collection, newSection, beforeSection)\n    return newSection\n  }\n\n  /**\n   * @param {Section} section A section that is already in DOM\n   * @public\n   */\n  moveSectionUp(renderedSection) {\n    const isFirst = !renderedSection.prev\n    if (isFirst) {\n      return renderedSection\n    }\n\n    const collection = renderedSection.parent.sections\n    const beforeSection = renderedSection.prev\n    return this.moveSectionBefore(collection, renderedSection, beforeSection)\n  }\n\n  /**\n   * @param {Section} section A section that is already in DOM\n   * @public\n   */\n  moveSectionDown(renderedSection) {\n    const isLast = !renderedSection.next\n    if (isLast) {\n      return renderedSection\n    }\n\n    const beforeSection = renderedSection.next.next\n    const collection = renderedSection.parent.sections\n    return this.moveSectionBefore(collection, renderedSection, beforeSection)\n  }\n\n  /**\n   * Insert an array of markers at the given position. If the position is in\n   * a non-markerable section (like a card section), this method throws an error.\n   *\n   * @param {Position} position\n   * @param {Marker[]} markers\n   * @return {Position} The position that represents the end of the inserted markers.\n   * @public\n   */\n  insertMarkers(position, markers) {\n    let { section, offset } = position\n    assert('Cannot insert markers at non-markerable position', section.isMarkerable)\n\n    this.editActionTaken = EDIT_ACTIONS.INSERT_TEXT\n\n    let edit = section.splitMarkerAtOffset(offset)\n    edit.removed.forEach(marker => this._scheduleForRemoval(marker))\n\n    let prevMarker = section.markerBeforeOffset(offset)\n    markers.forEach(marker => {\n      section.markers.insertAfter(marker, prevMarker)\n      offset += marker.length\n      prevMarker = marker\n    })\n\n    this._coalesceMarkers(section)\n    this._markDirty(section)\n\n    let nextPosition = section.toPosition(offset)\n    this.setRange(nextPosition)\n    return nextPosition\n  }\n\n  /**\n   * Inserts text with the given markups, ignoring the existing markups at\n   * the position, if any.\n   *\n   * @param {Position} position\n   * @param {String} text\n   * @param {Markup[]} markups\n   * @return {Position} position at the end of the inserted text\n   */\n  insertTextWithMarkup(position, text, markups = []) {\n    let { section } = position\n    if (!section.isMarkerable) {\n      return\n    }\n    let marker = this.builder.createMarker(text, markups)\n    return this.insertMarkers(position, [marker])\n  }\n\n  /**\n   * Insert the text at the given position\n   * Inherits the markups already at that position, if any.\n   *\n   * @param {Position} position\n   * @param {String} text\n   * @return {Position} position at the end of the inserted text.\n   */\n  insertText(position, text) {\n    let { section } = position\n    if (!section.isMarkerable) {\n      return\n    }\n    let markups = position.marker && position.marker.markups\n    markups = markups || []\n    return this.insertTextWithMarkup(position, text, markups)\n  }\n\n  _replaceSection(section, newSections) {\n    let nextSection = section.next\n    let collection = section.parent.sections\n\n    let nextNewSection = newSections[0]\n    if (nextNewSection.isMarkupSection && section.isListItem) {\n      // put the new section after the ListSection (section.parent)\n      // instead of after the ListItem\n      collection = section.parent.parent.sections\n      nextSection = section.parent.next\n    }\n\n    newSections.forEach(s => this.insertSectionBefore(collection, s, nextSection))\n    this.removeSection(section)\n  }\n\n  /**\n   * Given a markerRange (for example `editor.range`) mark all markers\n   * inside it as a given markup. The markup must be provided as a post\n   * abstract node.\n   *\n   * Usage:\n   *\n   *     let range = editor.range;\n   *     let strongMarkup = editor.builder.createMarkup('strong');\n   *     editor.run((postEditor) => {\n   *       postEditor.addMarkupToRange(range, strongMarkup);\n   *     });\n   *     // Will result some markers possibly being split, and the markup\n   *     // being applied to all markers between the split.\n   *\n   * @param {Range} range\n   * @param {Markup} markup A markup post abstract node\n   * @public\n   */\n  addMarkupToRange(range, markup) {\n    if (range.isCollapsed) {\n      return\n    }\n\n    let markers = this.splitMarkers(range)\n    if (markers.length) {\n      // We insert the new markup at a consistent index across the range.\n      // If we just push on the end of the list, it can end up in different positions\n      // of the markup stack. This results in unnecessary closing and re-opening of\n      // the markup each time it changes position.\n      // If we just push it at the beginning of the list, this causes unnecessary closing\n      // and re-opening of surrounding tags.\n      // So, we look for any tags open across the whole range, and push into the stack\n      // at the end of those.\n      // Prompted by https://github.com/bustle/mobiledoc-kit/issues/360\n\n      let markupsOpenAcrossRange = reduce(\n        markers,\n        function (soFar, marker) {\n          return commonItems(soFar, marker.markups)\n        },\n        markers[0].markups\n      )\n      let indexToInsert = markupsOpenAcrossRange.length\n\n      markers.forEach(marker => {\n        marker.addMarkupAtIndex(markup, indexToInsert)\n        this._markDirty(marker)\n      })\n    }\n  }\n\n  /**\n   * Given a markerRange (for example `editor.range`) remove the given\n   * markup from all contained markers.\n   *\n   * Usage:\n   * ```\n   *     let { range } = editor;\n   *     let markup = markerRange.headMarker.markups[0];\n   *     editor.run(postEditor => {\n   *       postEditor.removeMarkupFromRange(range, markup);\n   *     });\n   *     // Will result in some markers possibly being split, and the markup\n   *     // being removed from all markers between the split.\n   * ```\n   * @param {Range} range Object with offsets\n   * @param {Markup|Function} markupOrCallback A markup post abstract node or\n   * a function that returns true when passed a markup that should be removed\n   * @private\n   */\n  removeMarkupFromRange(range, markupOrMarkupCallback) {\n    if (range.isCollapsed) {\n      return\n    }\n\n    this.splitMarkers(range).forEach(marker => {\n      marker.removeMarkup(markupOrMarkupCallback)\n      this._markDirty(marker)\n    })\n  }\n\n  /**\n   * Toggle the given markup in the given range (or at the position given). If the range/position\n   * has the markup, the markup will be removed. If nothing in the range/position\n   * has the markup, the markup will be added to everything in the range/position.\n   *\n   * Usage:\n   * ```\n   * // Remove any 'strong' markup if it exists in the selection, otherwise\n   * // make it all 'strong'\n   * editor.run(postEditor => postEditor.toggleMarkup('strong'));\n   *\n   * // add/remove a link to 'bustle.com' to the selection\n   * editor.run(postEditor => {\n   *   const linkMarkup = postEditor.builder.createMarkup('a', {href: 'http://bustle.com'});\n   *   postEditor.toggleMarkup(linkMarkup);\n   * });\n   * ```\n   * @param {Markup|String} markupOrString Either a markup object created using\n   * the builder (useful when adding a markup with attributes, like an 'a' markup),\n   * or, if a string, the tag name of the markup (e.g. 'strong', 'em') to toggle.\n   * @param {Range|Position} range in which to toggle. Defaults to current editor range.\n   * @public\n   */\n  toggleMarkup(markupOrMarkupString, range = this._range) {\n    range = toRange(range)\n    const markup =\n      typeof markupOrMarkupString === 'string' ? this.builder.createMarkup(markupOrMarkupString) : markupOrMarkupString\n\n    const hasMarkup = this.editor.detectMarkupInRange(range, markup.tagName)\n    // FIXME: This implies only a single markup in a range. This may not be\n    // true for links (which are not the same object instance like multiple\n    // strong tags would be).\n    if (hasMarkup) {\n      this.removeMarkupFromRange(range, hasMarkup)\n    } else {\n      this.addMarkupToRange(range, markup)\n    }\n\n    this.setRange(range)\n  }\n\n  /**\n   * Toggles the tagName of the active section or sections in the given range/position.\n   * If every section has the tag name, they will all be reset to default sections.\n   * Otherwise, every section will be changed to the requested type\n   *\n   * @param {String} sectionTagName A valid markup section or\n   *        list section tag name (e.g. 'blockquote', 'h2', 'ul')\n   * @param {Range|Position} range The range over which to toggle.\n   *        Defaults to the current editor range.\n   * @public\n   */\n  toggleSection(sectionTagName, range = this._range) {\n    range = shrinkRange(toRange(range))\n\n    sectionTagName = normalizeTagName(sectionTagName)\n    let { post } = this.editor\n\n    let everySectionHasTagName = true\n    post.walkMarkerableSections(range, section => {\n      if (!this._isSameSectionType(section, sectionTagName)) {\n        everySectionHasTagName = false\n      }\n    })\n\n    let tagName = everySectionHasTagName ? 'p' : sectionTagName\n    let sectionTransformations = []\n    post.walkMarkerableSections(range, section => {\n      let changedSection = this.changeSectionTagName(section, tagName)\n\n      sectionTransformations.push({\n        from: section,\n        to: changedSection,\n      })\n    })\n\n    let nextRange = this._determineNextRangeAfterToggleSection(range, sectionTransformations)\n    this.setRange(nextRange)\n  }\n\n  _determineNextRangeAfterToggleSection(range, sectionTransformations) {\n    if (sectionTransformations.length) {\n      let changedHeadSection = detect(sectionTransformations, ({ from }) => {\n        return from === range.headSection\n      }).to\n      let changedTailSection = detect(sectionTransformations, ({ from }) => {\n        return from === range.tailSection\n      }).to\n\n      if (changedHeadSection.isListSection || changedTailSection.isListSection) {\n        // We don't know to which ListItem's the original sections point at, so\n        // we don't have enough information to reconstruct the range when\n        // dealing with lists.\n        return sectionTransformations[0].to.headPosition().toRange()\n      } else {\n        return Range.create(\n          changedHeadSection,\n          range.headSectionOffset,\n          changedTailSection,\n          range.tailSectionOffset,\n          range.direction\n        )\n      }\n    } else {\n      return range\n    }\n  }\n\n  setAttribute(key, value, range = this._range) {\n    this._mutateAttribute(key, range, (section, attribute) => {\n      if (section.getAttribute(attribute) !== value) {\n        section.setAttribute(attribute, value)\n        return true\n      }\n    })\n  }\n\n  removeAttribute(key, range = this._range) {\n    this._mutateAttribute(key, range, (section, attribute) => {\n      if (section.hasAttribute(attribute)) {\n        section.removeAttribute(attribute)\n        return true\n      }\n    })\n  }\n\n  _mutateAttribute(key, range, cb) {\n    range = toRange(range)\n    let { post } = this.editor\n    let attribute = `data-md-${key}`\n\n    post.walkMarkerableSections(range, section => {\n      if (section.isListItem) {\n        section = section.parent\n      }\n\n      if (cb(section, attribute) === true) {\n        this._markDirty(section)\n      }\n    })\n\n    this.setRange(range)\n  }\n\n  _isSameSectionType(section, sectionTagName) {\n    return section.isListItem ? section.parent.tagName === sectionTagName : section.tagName === sectionTagName\n  }\n\n  /**\n   * @param {Markerable} section\n   * @private\n   */\n  changeSectionTagName(section, newTagName) {\n    assert('Cannot pass non-markerable section to `changeSectionTagName`', section.isMarkerable)\n\n    if (isListSectionTagName(newTagName)) {\n      return this._changeSectionToListItem(section, newTagName)\n    } else if (section.isListItem) {\n      return this._changeSectionFromListItem(section, newTagName)\n    } else {\n      section.tagName = newTagName\n      this._markDirty(section)\n      return section\n    }\n  }\n\n  /**\n   * Splits the item at the position given.\n   * If the position is at the start or end of the item, the pre- or post-item\n   * will contain a single empty (\"\") marker.\n   * @param {ListItem} item\n   * @param {Position} position\n   * @return {Array} the pre-item and post-item on either side of the split\n   * @private\n   */\n  _splitListItem(item, position) {\n    let { section, offset } = position\n    assert('Cannot split list item at position that does not include item', item === section)\n\n    item.splitMarkerAtOffset(offset)\n    let prevMarker = item.markerBeforeOffset(offset)\n    let preItem = this.builder.createListItem(),\n      postItem = this.builder.createListItem()\n\n    let currentItem = preItem\n    item.markers.forEach(marker => {\n      currentItem.markers.append(marker.clone())\n      if (marker === prevMarker) {\n        currentItem = postItem\n      }\n    })\n    this._replaceSection(item, [preItem, postItem])\n    return [preItem, postItem]\n  }\n\n  /**\n   * Splits the list at the position given.\n   * @return {Array} pre-split list and post-split list, either of which could\n   * be blank (0-item list) if the position is at the start or end of the list.\n   *\n   * Note: Contiguous list sections will be joined in the before_complete queue\n   * of the postEditor.\n   *\n   * @private\n   */\n  _splitListAtPosition(list, position) {\n    assert('Cannot split list at position not in list', position.section.parent === list)\n\n    let positionIsMiddle = !position.isHead() && !position.isTail()\n    if (positionIsMiddle) {\n      let item = position.section\n      let [pre] = this._splitListItem(item, position)\n      position = pre.tailPosition()\n    }\n\n    let preList = this.builder.createListSection(list.tagName)\n    let postList = this.builder.createListSection(list.tagName)\n\n    let preItem = position.section\n    let currentList = preList\n    list.items.forEach(item => {\n      // If this item matches the start item and the position is at its start,\n      // it should be appended to the postList instead of the preList\n      if (item === preItem && position.isEqual(item.headPosition())) {\n        currentList = postList\n      }\n      currentList.items.append(item.clone())\n      // If we just appended the preItem, append the remaining items to the postList\n      if (item === preItem) {\n        currentList = postList\n      }\n    })\n\n    this._replaceSection(list, [preList, postList])\n    return [preList, postList]\n  }\n\n  /**\n   * @return Array of [prev, mid, next] lists. `prev` and `next` can\n   *         be blank, depending on the position of `item`. `mid` will always\n   *         be a 1-item list containing `item`. `prev` and `next` will be\n   *         removed in the before_complete queue if they are blank\n   *         (and still attached).\n   *\n   * @private\n   */\n  _splitListAtItem(list, item) {\n    let next = list\n    let prev = this.builder.createListSection(next.tagName, [], next.attributes)\n    let mid = this.builder.createListSection(next.tagName)\n\n    let addToPrev = true\n    // must turn the LinkedList into an array so that we can remove items\n    // as we iterate through it\n    let items = next.items.toArray()\n    items.forEach(i => {\n      let listToAppend\n      if (i === item) {\n        addToPrev = false\n        listToAppend = mid\n      } else if (addToPrev) {\n        listToAppend = prev\n      } else {\n        return // break after iterating prev and mid parts of the list\n      }\n      listToAppend.join(i)\n      this.removeSection(i)\n    })\n    let found = !addToPrev\n    assert('Cannot split list at item that is not present in the list', found)\n\n    let collection = this.editor.post.sections\n    this.insertSectionBefore(collection, mid, next)\n    this.insertSectionBefore(collection, prev, mid)\n\n    // Remove possibly blank prev/next lists\n    this.addCallback(CALLBACK_QUEUES.BEFORE_COMPLETE, () => {\n      ;[prev, next].forEach(_list => {\n        let isAttached = !!_list.parent\n        if (_list.isBlank && isAttached) {\n          this.removeSection(_list)\n        }\n      })\n    })\n\n    return [prev, mid, next]\n  }\n\n  _changeSectionFromListItem(section, newTagName) {\n    assert('Must pass list item to `_changeSectionFromListItem`', section.isListItem)\n\n    let listSection = section.parent\n    let markupSection = this.builder.createMarkupSection(newTagName)\n    markupSection.join(section)\n\n    let [, mid] = this._splitListAtItem(listSection, section)\n    this.replaceSection(mid, markupSection)\n    return markupSection\n  }\n\n  _changeSectionToListItem(section, newTagName) {\n    let isAlreadyCorrectListItem = section.isListItem && section.parent.tagName === newTagName\n\n    if (isAlreadyCorrectListItem) {\n      return section\n    }\n\n    let listSection = this.builder.createListSection(newTagName)\n    listSection.join(section)\n\n    let sectionToReplace\n    if (section.isListItem) {\n      let [, mid] = this._splitListAtItem(section.parent, section)\n      sectionToReplace = mid\n    } else {\n      sectionToReplace = section\n    }\n    this.replaceSection(sectionToReplace, listSection)\n    return listSection\n  }\n\n  /**\n   * Insert a given section before another one, updating the post abstract\n   * and the rendered UI.\n   *\n   * Usage:\n   * ```\n   *     let markerRange = editor.range;\n   *     let sectionWithCursor = markerRange.headMarker.section;\n   *     let section = editor.builder.createCardSection('my-image');\n   *     let collection = sectionWithCursor.parent.sections;\n   *     editor.run((postEditor) => {\n   *       postEditor.insertSectionBefore(collection, section, sectionWithCursor);\n   *     });\n   * ```\n   * @param {LinkedList} collection The list of sections to insert into\n   * @param {Object} section The new section\n   * @param {Object} beforeSection Optional The section \"before\" is relative to,\n   *        if falsy the new section will be appended to the collection\n   * @public\n   */\n  insertSectionBefore(collection, section, beforeSection) {\n    collection.insertBefore(section, beforeSection)\n    this._markDirty(section.parent)\n  }\n\n  /**\n   * Insert the given section after the current active section, or, if no\n   * section is active, at the end of the document.\n   * @param {Section} section\n   * @public\n   */\n  insertSection(section) {\n    const activeSection = this.editor.activeSection\n    const nextSection = activeSection && activeSection.next\n\n    const collection = this.editor.post.sections\n    this.insertSectionBefore(collection, section, nextSection)\n  }\n\n  /**\n   * Insert the given section at the end of the document.\n   * @param {Section} section\n   * @public\n   */\n  insertSectionAtEnd(section) {\n    this.insertSectionBefore(this.editor.post.sections, section, null)\n  }\n\n  /**\n   * Insert the `post` at the given position in the editor's post.\n   * @param {Position} position\n   * @param {Post} post\n   * @private\n   */\n  insertPost(position, newPost) {\n    let post = this.editor.post\n    let inserter = new PostInserter(this, post)\n    let nextPosition = inserter.insert(position, newPost)\n    return nextPosition\n  }\n\n  /**\n   * Remove a given section from the post abstract and the rendered UI.\n   *\n   * Usage:\n   * ```\n   *     let { range } = editor;\n   *     let sectionWithCursor = range.head.section;\n   *     editor.run((postEditor) => {\n   *       postEditor.removeSection(sectionWithCursor);\n   *     });\n   * ```\n   * @param {Object} section The section to remove\n   * @public\n   */\n  removeSection(section) {\n    let parent = section.parent\n    this._scheduleForRemoval(section)\n    parent.sections.remove(section)\n\n    if (parent.isListSection) {\n      this._scheduleListRemovalIfEmpty(parent)\n    }\n  }\n\n  removeAllSections() {\n    this.editor.post.sections.toArray().forEach(section => {\n      this.removeSection(section)\n    })\n  }\n\n  migrateSectionsFromPost(post) {\n    post.sections.toArray().forEach(section => {\n      post.sections.remove(section)\n      this.insertSectionBefore(this.editor.post.sections, section, null)\n    })\n  }\n\n  _scheduleListRemovalIfEmpty(listSection) {\n    this.addCallback(CALLBACK_QUEUES.BEFORE_COMPLETE, () => {\n      // if the list is attached and blank after we do other rendering stuff,\n      // remove it\n      let isAttached = !!listSection.parent\n      if (isAttached && listSection.isBlank) {\n        this.removeSection(listSection)\n      }\n    })\n  }\n\n  /**\n   * A method for adding work the deferred queue\n   *\n   * @param {Function} callback to run during completion\n   * @param {Boolean} [once=false] Whether to only schedule the callback once.\n   * @public\n   */\n  schedule(callback, once = false) {\n    assert('Work can only be scheduled before a post edit has completed', !this._didComplete)\n    if (once) {\n      this.addCallbackOnce(CALLBACK_QUEUES.COMPLETE, callback)\n    } else {\n      this.addCallback(CALLBACK_QUEUES.COMPLETE, callback)\n    }\n  }\n\n  /**\n   * A method for adding work the deferred queue. The callback will only\n   * be added to the queue once, even if `scheduleOnce` is called multiple times.\n   * The function cannot be an anonymous function.\n   *\n   * @param {Function} callback to run during completion\n   * @public\n   */\n  scheduleOnce(callback) {\n    this.schedule(callback, true)\n  }\n\n  /**\n   * Add a rerender job to the queue\n   *\n   * @public\n   */\n  scheduleRerender() {\n    this.scheduleOnce(this._rerender)\n  }\n\n  /**\n   * Schedule a notification that the post has been changed.\n   * The notification will result in the editor firing its `postDidChange`\n   * hook after the postEditor completes its work (at the end of {@link Editor#run}).\n   *\n   * @public\n   */\n  scheduleDidUpdate() {\n    this.scheduleOnce(this._postDidChange)\n  }\n\n  scheduleAfterRender(callback, once = false) {\n    if (once) {\n      this.addCallbackOnce(CALLBACK_QUEUES.AFTER_COMPLETE, callback)\n    } else {\n      this.addCallback(CALLBACK_QUEUES.AFTER_COMPLETE, callback)\n    }\n  }\n\n  /**\n   * Flush any work on the queue. {@link Editor#run} calls this method; it\n   * should not be called directly.\n   *\n   * @private\n   */\n  complete() {\n    assert('Post editing can only be completed once', !this._didComplete)\n\n    this.runCallbacks(CALLBACK_QUEUES.BEFORE_COMPLETE)\n    this._didComplete = true\n    this.runCallbacks(CALLBACK_QUEUES.COMPLETE)\n    this.runCallbacks(CALLBACK_QUEUES.AFTER_COMPLETE)\n  }\n\n  undoLastChange() {\n    this.editor._editHistory.stepBackward(this)\n  }\n\n  redoLastChange() {\n    this.editor._editHistory.stepForward(this)\n  }\n\n  cancelSnapshot() {\n    this._shouldCancelSnapshot = true\n  }\n}\n\nexport default PostEditor\n","const placeholderImageSrc =\n  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEXp7vG6vsHm6+63u77Hy868wMPe4+bO09bh5unr8fTR1djAxMfM0NPX3N/c4eTBxcjXRf5TAAACh0lEQVR4nO3b6ZKqMBSFUSQMYZL3f9tbBq/NEEDiqUqOfusn1ZXKbjcQlGQZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACC6RkbsGHuabChEtHmiGYfS3EQYM+Sxw/gMQvmcNnYaj6oTDHi73WPn2eqnj9B8zo3TJXcq5uNjXmVff86VwSR3JtryMa1BYqi7S1hJDCVpSigyLcGhJJEwzlCSNtPKrbVhVwsdCfOhH7uuaG3ARV9DwsaOzxt3N1yPqCHhvXytTUz92VDpmE/LLhZwl++R6Sds6sUa/PL6K/2E2fIhw1xdRKefsFolrPc+xNx/N0k/4fpBsdhL2HfeiN+TsDCms8dDpeRyS3P3QDl6Iqaf8L0rTf+80m6Lmn7Ct+4Wxf+/2RY1/YRv3PHz/u+fsCmqgoTnq7Z+8SGviqoh4dnKu1ieqauiakh4/PQ0r6ivqDoSHj0B97eNRVG1JNxV+L4bnxdVecJtRTdFVZ7QU9F1UXUn9FZ0VVRlCav5ob2KLouqKmFjy676u2HsVnRRVFUJq3J+8KCi86IqSthMvyl209Hjijqm3RsqAZ5pNfa5PJ2KelJRjQmr1/r7cfy0ouoSNvOfvbvhvKLaEr4qOin9kTQnrN7LpDZhE/Zmhp6Eq4p+YcKgiipKGFhRRQkDK6ooYfgLbiSMioQkJGF8P5XwHv4O+7AaKiXzaeXh1kMl5AffTUxiKEm/krD94BR8Gdxl1fceSlR58ZhXKbEpyD2amNiBtmrJLTMHL1LF8/rpXkSZXEmz8K8uvAFFNm6Iq0aBLUFOmeCuJ6exrcCmoLpN7kYx891bSAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgh/wDdr8peyRHLogAAAAASUVORK5CYII='\n\nexport default placeholderImageSrc\n","import placeholderImageSrc from 'mobiledoc-kit/utils/placeholder-image-src'\n\nexport default {\n  name: 'image',\n  type: 'dom',\n\n  render({ payload }) {\n    let img = document.createElement('img')\n    img.src = payload.src || placeholderImageSrc\n    return img\n  },\n}\n","import { forEach } from './array-utils'\nimport assert from './assert'\n\ntype Opcode = [string] | [string, unknown] | [string, unknown, unknown]\ntype Opcodes = Opcode[]\n\ninterface Visitor {\n  [key: string]: (node: CompileNode, opcodes: Opcodes) => void\n}\n\ninterface CompileNode {\n  type: string\n}\n\nexport function visit(visitor: Visitor, node: CompileNode, opcodes: Opcodes) {\n  const method = node.type\n  assert(`Cannot visit unknown type ${method}`, !!visitor[method])\n  visitor[method](node, opcodes)\n}\n\ninterface Compiler {\n  [key: string]: (...args: unknown[]) => void\n}\n\nexport function compile(compiler: Compiler, opcodes: Opcodes) {\n  for (var i = 0, l = opcodes.length; i < l; i++) {\n    let [method, ...params] = opcodes[i]\n    let length = params.length\n    if (length === 0) {\n      compiler[method].call(compiler)\n    } else if (length === 1) {\n      compiler[method].call(compiler, params[0])\n    } else if (length === 2) {\n      compiler[method].call(compiler, params[0], params[1])\n    } else {\n      compiler[method].apply(compiler, params)\n    }\n  }\n}\n\nexport function visitArray(visitor: Visitor, nodes: CompileNode[], opcodes: Opcodes) {\n  if (!nodes || nodes.length === 0) {\n    return\n  }\n  forEach(nodes, node => {\n    visit(visitor, node, opcodes)\n  })\n}\n","import { visit, visitArray, compile } from '../../utils/compiler'\nimport { objectToSortedKVArray } from '../../utils/array-utils'\nimport {\n  POST_TYPE,\n  MARKUP_SECTION_TYPE,\n  LIST_SECTION_TYPE,\n  LIST_ITEM_TYPE,\n  MARKER_TYPE,\n  MARKUP_TYPE,\n  IMAGE_SECTION_TYPE,\n  CARD_TYPE,\n} from '../../models/types'\n\nexport const MOBILEDOC_VERSION = '0.2.0'\nexport const MOBILEDOC_MARKUP_SECTION_TYPE = 1\nexport const MOBILEDOC_IMAGE_SECTION_TYPE = 2\nexport const MOBILEDOC_LIST_SECTION_TYPE = 3\nexport const MOBILEDOC_CARD_SECTION_TYPE = 10\n\nconst visitor = {\n  [POST_TYPE](node, opcodes) {\n    opcodes.push(['openPost'])\n    visitArray(visitor, node.sections, opcodes)\n  },\n  [MARKUP_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openMarkupSection', node.tagName])\n    visitArray(visitor, node.markers, opcodes)\n  },\n  [LIST_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openListSection', node.tagName])\n    visitArray(visitor, node.items, opcodes)\n  },\n  [LIST_ITEM_TYPE](node, opcodes) {\n    opcodes.push(['openListItem'])\n    visitArray(visitor, node.markers, opcodes)\n  },\n  [IMAGE_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openImageSection', node.src])\n  },\n  [CARD_TYPE](node, opcodes) {\n    opcodes.push(['openCardSection', node.name, node.payload])\n  },\n  [MARKER_TYPE](node, opcodes) {\n    opcodes.push(['openMarker', node.closedMarkups.length, node.value])\n    visitArray(visitor, node.openedMarkups, opcodes)\n  },\n  [MARKUP_TYPE](node, opcodes) {\n    opcodes.push(['openMarkup', node.tagName, objectToSortedKVArray(node.attributes)])\n  },\n}\n\nconst postOpcodeCompiler = {\n  openMarker(closeCount, value) {\n    this.markupMarkerIds = []\n    this.markers.push([this.markupMarkerIds, closeCount, value || ''])\n  },\n  openMarkupSection(tagName) {\n    this.markers = []\n    this.sections.push([MOBILEDOC_MARKUP_SECTION_TYPE, tagName, this.markers])\n  },\n  openListSection(tagName) {\n    this.items = []\n    this.sections.push([MOBILEDOC_LIST_SECTION_TYPE, tagName, this.items])\n  },\n  openListItem() {\n    this.markers = []\n    this.items.push(this.markers)\n  },\n  openImageSection(url) {\n    this.sections.push([MOBILEDOC_IMAGE_SECTION_TYPE, url])\n  },\n  openCardSection(name, payload) {\n    this.sections.push([MOBILEDOC_CARD_SECTION_TYPE, name, payload])\n  },\n  openPost() {\n    this.markerTypes = []\n    this.sections = []\n    this.result = {\n      version: MOBILEDOC_VERSION,\n      sections: [this.markerTypes, this.sections],\n    }\n  },\n  openMarkup(tagName, attributes) {\n    const index = this._findOrAddMarkerTypeIndex(tagName, attributes)\n    this.markupMarkerIds.push(index)\n  },\n  _findOrAddMarkerTypeIndex(tagName, attributesArray) {\n    if (!this._markerTypeCache) {\n      this._markerTypeCache = {}\n    }\n    const key = `${tagName}-${attributesArray.join('-')}`\n\n    let index = this._markerTypeCache[key]\n    if (index === undefined) {\n      let markerType = [tagName]\n      if (attributesArray.length) {\n        markerType.push(attributesArray)\n      }\n      this.markerTypes.push(markerType)\n\n      index = this.markerTypes.length - 1\n      this._markerTypeCache[key] = index\n    }\n\n    return index\n  },\n}\n\n/**\n * Render from post -> mobiledoc\n */\nexport default {\n  /**\n   * @param {Post}\n   * @return {Mobiledoc}\n   */\n  render(post) {\n    let opcodes = []\n    visit(visitor, post, opcodes)\n    let compiler = Object.create(postOpcodeCompiler)\n    compile(compiler, opcodes)\n    return compiler.result\n  },\n}\n","import {\n  MOBILEDOC_MARKUP_SECTION_TYPE,\n  MOBILEDOC_IMAGE_SECTION_TYPE,\n  MOBILEDOC_LIST_SECTION_TYPE,\n  MOBILEDOC_CARD_SECTION_TYPE,\n} from 'mobiledoc-kit/renderers/mobiledoc/0-2'\nimport { kvArrayToObject, filter } from '../../utils/array-utils'\nimport assert from 'mobiledoc-kit/utils/assert'\n\n/*\n * Parses from mobiledoc -> post\n */\nexport default class MobiledocParser {\n  constructor(builder) {\n    this.builder = builder\n  }\n\n  /**\n   * @param {Mobiledoc}\n   * @return {Post}\n   */\n  parse({ sections: sectionData }) {\n    try {\n      const markerTypes = sectionData[0]\n      const sections = sectionData[1]\n\n      const post = this.builder.createPost()\n\n      this.markups = []\n      this.markerTypes = this.parseMarkerTypes(markerTypes)\n      this.parseSections(sections, post)\n\n      return post\n    } catch (e) {\n      assert(`Unable to parse mobiledoc: ${e.message}`, false)\n    }\n  }\n\n  parseMarkerTypes(markerTypes) {\n    return markerTypes.map(markerType => this.parseMarkerType(markerType))\n  }\n\n  parseMarkerType([tagName, attributesArray]) {\n    const attributesObject = kvArrayToObject(attributesArray || [])\n    return this.builder.createMarkup(tagName, attributesObject)\n  }\n\n  parseSections(sections, post) {\n    sections.forEach(section => this.parseSection(section, post))\n  }\n\n  parseSection(section, post) {\n    let [type] = section\n    switch (type) {\n      case MOBILEDOC_MARKUP_SECTION_TYPE:\n        this.parseMarkupSection(section, post)\n        break\n      case MOBILEDOC_IMAGE_SECTION_TYPE:\n        this.parseImageSection(section, post)\n        break\n      case MOBILEDOC_CARD_SECTION_TYPE:\n        this.parseCardSection(section, post)\n        break\n      case MOBILEDOC_LIST_SECTION_TYPE:\n        this.parseListSection(section, post)\n        break\n      default:\n        assert(`Unexpected section type ${type}`, false)\n    }\n  }\n\n  parseCardSection([, name, payload], post) {\n    const section = this.builder.createCardSection(name, payload)\n    post.sections.append(section)\n  }\n\n  parseImageSection([, src], post) {\n    const section = this.builder.createImageSection(src)\n    post.sections.append(section)\n  }\n\n  parseMarkupSection([, tagName, markers], post) {\n    const section = this.builder.createMarkupSection(tagName.toLowerCase() === 'pull-quote' ? 'aside' : tagName)\n    post.sections.append(section)\n    this.parseMarkers(markers, section)\n    // Strip blank markers after they have been created. This ensures any\n    // markup they include has been correctly populated.\n    filter(section.markers, m => m.isBlank).forEach(m => {\n      section.markers.remove(m)\n    })\n  }\n\n  parseListSection([, tagName, items], post) {\n    const section = this.builder.createListSection(tagName)\n    post.sections.append(section)\n    this.parseListItems(items, section)\n  }\n\n  parseListItems(items, section) {\n    items.forEach(i => this.parseListItem(i, section))\n  }\n\n  parseListItem(markers, section) {\n    const item = this.builder.createListItem()\n    this.parseMarkers(markers, item)\n    section.items.append(item)\n  }\n\n  parseMarkers(markers, parent) {\n    markers.forEach(m => this.parseMarker(m, parent))\n  }\n\n  parseMarker([markerTypeIndexes, closeCount, value], parent) {\n    markerTypeIndexes.forEach(index => {\n      this.markups.push(this.markerTypes[index])\n    })\n    const marker = this.builder.createMarker(value, this.markups.slice())\n    parent.markers.append(marker)\n    this.markups = this.markups.slice(0, this.markups.length - closeCount)\n  }\n}\n","import { visit, visitArray, compile } from '../../utils/compiler'\nimport { objectToSortedKVArray } from '../../utils/array-utils'\nimport {\n  POST_TYPE,\n  MARKUP_SECTION_TYPE,\n  LIST_SECTION_TYPE,\n  LIST_ITEM_TYPE,\n  MARKER_TYPE,\n  MARKUP_TYPE,\n  IMAGE_SECTION_TYPE,\n  CARD_TYPE,\n  ATOM_TYPE,\n} from '../../models/types'\n\nexport const MOBILEDOC_VERSION = '0.3.0'\nexport const MOBILEDOC_MARKUP_SECTION_TYPE = 1\nexport const MOBILEDOC_IMAGE_SECTION_TYPE = 2\nexport const MOBILEDOC_LIST_SECTION_TYPE = 3\nexport const MOBILEDOC_CARD_SECTION_TYPE = 10\n\nexport const MOBILEDOC_MARKUP_MARKER_TYPE = 0\nexport const MOBILEDOC_ATOM_MARKER_TYPE = 1\n\nconst visitor = {\n  [POST_TYPE](node, opcodes) {\n    opcodes.push(['openPost'])\n    visitArray(visitor, node.sections, opcodes)\n  },\n  [MARKUP_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openMarkupSection', node.tagName])\n    visitArray(visitor, node.markers, opcodes)\n  },\n  [LIST_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openListSection', node.tagName])\n    visitArray(visitor, node.items, opcodes)\n  },\n  [LIST_ITEM_TYPE](node, opcodes) {\n    opcodes.push(['openListItem'])\n    visitArray(visitor, node.markers, opcodes)\n  },\n  [IMAGE_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openImageSection', node.src])\n  },\n  [CARD_TYPE](node, opcodes) {\n    opcodes.push(['openCardSection', node.name, node.payload])\n  },\n  [MARKER_TYPE](node, opcodes) {\n    opcodes.push(['openMarker', node.closedMarkups.length, node.value])\n    visitArray(visitor, node.openedMarkups, opcodes)\n  },\n  [MARKUP_TYPE](node, opcodes) {\n    opcodes.push(['openMarkup', node.tagName, objectToSortedKVArray(node.attributes)])\n  },\n  [ATOM_TYPE](node, opcodes) {\n    opcodes.push(['openAtom', node.closedMarkups.length, node.name, node.value, node.payload])\n    visitArray(visitor, node.openedMarkups, opcodes)\n  },\n}\n\nconst postOpcodeCompiler = {\n  openMarker(closeCount, value) {\n    this.markupMarkerIds = []\n    this.markers.push([MOBILEDOC_MARKUP_MARKER_TYPE, this.markupMarkerIds, closeCount, value || ''])\n  },\n  openMarkupSection(tagName) {\n    this.markers = []\n    this.sections.push([MOBILEDOC_MARKUP_SECTION_TYPE, tagName, this.markers])\n  },\n  openListSection(tagName) {\n    this.items = []\n    this.sections.push([MOBILEDOC_LIST_SECTION_TYPE, tagName, this.items])\n  },\n  openListItem() {\n    this.markers = []\n    this.items.push(this.markers)\n  },\n  openImageSection(url) {\n    this.sections.push([MOBILEDOC_IMAGE_SECTION_TYPE, url])\n  },\n  openCardSection(name, payload) {\n    const index = this._addCardTypeIndex(name, payload)\n    this.sections.push([MOBILEDOC_CARD_SECTION_TYPE, index])\n  },\n  openAtom(closeCount, name, value, payload) {\n    const index = this._addAtomTypeIndex(name, value, payload)\n    this.markupMarkerIds = []\n    this.markers.push([MOBILEDOC_ATOM_MARKER_TYPE, this.markupMarkerIds, closeCount, index])\n  },\n  openPost() {\n    this.atomTypes = []\n    this.cardTypes = []\n    this.markerTypes = []\n    this.sections = []\n    this.result = {\n      version: MOBILEDOC_VERSION,\n      atoms: this.atomTypes,\n      cards: this.cardTypes,\n      markups: this.markerTypes,\n      sections: this.sections,\n    }\n  },\n  openMarkup(tagName, attributes) {\n    const index = this._findOrAddMarkerTypeIndex(tagName, attributes)\n    this.markupMarkerIds.push(index)\n  },\n  _addCardTypeIndex(cardName, payload) {\n    let cardType = [cardName, payload]\n    this.cardTypes.push(cardType)\n    return this.cardTypes.length - 1\n  },\n  _addAtomTypeIndex(atomName, atomValue, payload) {\n    let atomType = [atomName, atomValue, payload]\n    this.atomTypes.push(atomType)\n    return this.atomTypes.length - 1\n  },\n  _findOrAddMarkerTypeIndex(tagName, attributesArray) {\n    if (!this._markerTypeCache) {\n      this._markerTypeCache = {}\n    }\n    const key = `${tagName}-${attributesArray.join('-')}`\n\n    let index = this._markerTypeCache[key]\n    if (index === undefined) {\n      let markerType = [tagName]\n      if (attributesArray.length) {\n        markerType.push(attributesArray)\n      }\n      this.markerTypes.push(markerType)\n\n      index = this.markerTypes.length - 1\n      this._markerTypeCache[key] = index\n    }\n\n    return index\n  },\n}\n\n/**\n * Render from post -> mobiledoc\n */\nexport default {\n  /**\n   * @param {Post}\n   * @return {Mobiledoc}\n   */\n  render(post) {\n    let opcodes = []\n    visit(visitor, post, opcodes)\n    let compiler = Object.create(postOpcodeCompiler)\n    compile(compiler, opcodes)\n    return compiler.result\n  },\n}\n","import {\n  MOBILEDOC_MARKUP_SECTION_TYPE,\n  MOBILEDOC_IMAGE_SECTION_TYPE,\n  MOBILEDOC_LIST_SECTION_TYPE,\n  MOBILEDOC_CARD_SECTION_TYPE,\n  MOBILEDOC_MARKUP_MARKER_TYPE,\n  MOBILEDOC_ATOM_MARKER_TYPE,\n} from 'mobiledoc-kit/renderers/mobiledoc/0-3'\nimport { kvArrayToObject, filter } from '../../utils/array-utils'\nimport assert from 'mobiledoc-kit/utils/assert'\n\n/*\n * Parses from mobiledoc -> post\n */\nexport default class MobiledocParser {\n  constructor(builder) {\n    this.builder = builder\n  }\n\n  /**\n   * @param {Mobiledoc}\n   * @return {Post}\n   */\n  parse({ sections, markups: markerTypes, cards: cardTypes, atoms: atomTypes }) {\n    try {\n      const post = this.builder.createPost()\n\n      this.markups = []\n      this.markerTypes = this.parseMarkerTypes(markerTypes)\n      this.cardTypes = this.parseCardTypes(cardTypes)\n      this.atomTypes = this.parseAtomTypes(atomTypes)\n      this.parseSections(sections, post)\n\n      return post\n    } catch (e) {\n      assert(`Unable to parse mobiledoc: ${e.message}`, false)\n    }\n  }\n\n  parseMarkerTypes(markerTypes) {\n    return markerTypes.map(markerType => this.parseMarkerType(markerType))\n  }\n\n  parseMarkerType([tagName, attributesArray]) {\n    const attributesObject = kvArrayToObject(attributesArray || [])\n    return this.builder.createMarkup(tagName, attributesObject)\n  }\n\n  parseCardTypes(cardTypes) {\n    return cardTypes.map(cardType => this.parseCardType(cardType))\n  }\n\n  parseCardType([cardName, cardPayload]) {\n    return [cardName, cardPayload]\n  }\n\n  parseAtomTypes(atomTypes) {\n    return atomTypes.map(atomType => this.parseAtomType(atomType))\n  }\n\n  parseAtomType([atomName, atomValue, atomPayload]) {\n    return [atomName, atomValue, atomPayload]\n  }\n\n  parseSections(sections, post) {\n    sections.forEach(section => this.parseSection(section, post))\n  }\n\n  parseSection(section, post) {\n    let [type] = section\n    switch (type) {\n      case MOBILEDOC_MARKUP_SECTION_TYPE:\n        this.parseMarkupSection(section, post)\n        break\n      case MOBILEDOC_IMAGE_SECTION_TYPE:\n        this.parseImageSection(section, post)\n        break\n      case MOBILEDOC_CARD_SECTION_TYPE:\n        this.parseCardSection(section, post)\n        break\n      case MOBILEDOC_LIST_SECTION_TYPE:\n        this.parseListSection(section, post)\n        break\n      default:\n        assert('Unexpected section type ${type}', false)\n    }\n  }\n\n  getAtomTypeFromIndex(index) {\n    const atomType = this.atomTypes[index]\n    assert(`No atom definition found at index ${index}`, !!atomType)\n    return atomType\n  }\n\n  getCardTypeFromIndex(index) {\n    const cardType = this.cardTypes[index]\n    assert(`No card definition found at index ${index}`, !!cardType)\n    return cardType\n  }\n\n  parseCardSection([, cardIndex], post) {\n    const [name, payload] = this.getCardTypeFromIndex(cardIndex)\n    const section = this.builder.createCardSection(name, payload)\n    post.sections.append(section)\n  }\n\n  parseImageSection([, src], post) {\n    const section = this.builder.createImageSection(src)\n    post.sections.append(section)\n  }\n\n  parseMarkupSection([, tagName, markers], post) {\n    const section = this.builder.createMarkupSection(tagName.toLowerCase() === 'pull-quote' ? 'aside' : tagName)\n    post.sections.append(section)\n    this.parseMarkers(markers, section)\n    // Strip blank markers after they have been created. This ensures any\n    // markup they include has been correctly populated.\n    filter(section.markers, m => m.isBlank).forEach(m => {\n      section.markers.remove(m)\n    })\n  }\n\n  parseListSection([, tagName, items], post) {\n    const section = this.builder.createListSection(tagName)\n    post.sections.append(section)\n    this.parseListItems(items, section)\n  }\n\n  parseListItems(items, section) {\n    items.forEach(i => this.parseListItem(i, section))\n  }\n\n  parseListItem(markers, section) {\n    const item = this.builder.createListItem()\n    this.parseMarkers(markers, item)\n    section.items.append(item)\n  }\n\n  parseMarkers(markers, parent) {\n    markers.forEach(m => this.parseMarker(m, parent))\n  }\n\n  parseMarker([type, markerTypeIndexes, closeCount, value], parent) {\n    markerTypeIndexes.forEach(index => {\n      this.markups.push(this.markerTypes[index])\n    })\n\n    const marker = this.buildMarkerType(type, value)\n    parent.markers.append(marker)\n\n    this.markups = this.markups.slice(0, this.markups.length - closeCount)\n  }\n\n  buildMarkerType(type, value) {\n    switch (type) {\n      case MOBILEDOC_MARKUP_MARKER_TYPE:\n        return this.builder.createMarker(value, this.markups.slice())\n      case MOBILEDOC_ATOM_MARKER_TYPE: {\n        const [atomName, atomValue, atomPayload] = this.getAtomTypeFromIndex(value)\n        return this.builder.createAtom(atomName, atomValue, atomPayload, this.markups.slice())\n      }\n      default:\n        assert(`Unexpected marker type ${type}`, false)\n    }\n  }\n}\n","import { visit, visitArray, compile } from '../../utils/compiler'\nimport { objectToSortedKVArray } from '../../utils/array-utils'\nimport {\n  POST_TYPE,\n  MARKUP_SECTION_TYPE,\n  LIST_SECTION_TYPE,\n  LIST_ITEM_TYPE,\n  MARKER_TYPE,\n  MARKUP_TYPE,\n  IMAGE_SECTION_TYPE,\n  CARD_TYPE,\n  ATOM_TYPE,\n} from '../../models/types'\n\nexport const MOBILEDOC_VERSION = '0.3.1'\nexport const MOBILEDOC_MARKUP_SECTION_TYPE = 1\nexport const MOBILEDOC_IMAGE_SECTION_TYPE = 2\nexport const MOBILEDOC_LIST_SECTION_TYPE = 3\nexport const MOBILEDOC_CARD_SECTION_TYPE = 10\n\nexport const MOBILEDOC_MARKUP_MARKER_TYPE = 0\nexport const MOBILEDOC_ATOM_MARKER_TYPE = 1\n\nconst visitor = {\n  [POST_TYPE](node, opcodes) {\n    opcodes.push(['openPost'])\n    visitArray(visitor, node.sections, opcodes)\n  },\n  [MARKUP_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openMarkupSection', node.tagName])\n    visitArray(visitor, node.markers, opcodes)\n  },\n  [LIST_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openListSection', node.tagName])\n    visitArray(visitor, node.items, opcodes)\n  },\n  [LIST_ITEM_TYPE](node, opcodes) {\n    opcodes.push(['openListItem'])\n    visitArray(visitor, node.markers, opcodes)\n  },\n  [IMAGE_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openImageSection', node.src])\n  },\n  [CARD_TYPE](node, opcodes) {\n    opcodes.push(['openCardSection', node.name, node.payload])\n  },\n  [MARKER_TYPE](node, opcodes) {\n    opcodes.push(['openMarker', node.closedMarkups.length, node.value])\n    visitArray(visitor, node.openedMarkups, opcodes)\n  },\n  [MARKUP_TYPE](node, opcodes) {\n    opcodes.push(['openMarkup', node.tagName, objectToSortedKVArray(node.attributes)])\n  },\n  [ATOM_TYPE](node, opcodes) {\n    opcodes.push(['openAtom', node.closedMarkups.length, node.name, node.value, node.payload])\n    visitArray(visitor, node.openedMarkups, opcodes)\n  },\n}\n\nconst postOpcodeCompiler = {\n  openMarker(closeCount, value) {\n    this.markupMarkerIds = []\n    this.markers.push([MOBILEDOC_MARKUP_MARKER_TYPE, this.markupMarkerIds, closeCount, value || ''])\n  },\n  openMarkupSection(tagName) {\n    this.markers = []\n    this.sections.push([MOBILEDOC_MARKUP_SECTION_TYPE, tagName, this.markers])\n  },\n  openListSection(tagName) {\n    this.items = []\n    this.sections.push([MOBILEDOC_LIST_SECTION_TYPE, tagName, this.items])\n  },\n  openListItem() {\n    this.markers = []\n    this.items.push(this.markers)\n  },\n  openImageSection(url) {\n    this.sections.push([MOBILEDOC_IMAGE_SECTION_TYPE, url])\n  },\n  openCardSection(name, payload) {\n    const index = this._addCardTypeIndex(name, payload)\n    this.sections.push([MOBILEDOC_CARD_SECTION_TYPE, index])\n  },\n  openAtom(closeCount, name, value, payload) {\n    const index = this._addAtomTypeIndex(name, value, payload)\n    this.markupMarkerIds = []\n    this.markers.push([MOBILEDOC_ATOM_MARKER_TYPE, this.markupMarkerIds, closeCount, index])\n  },\n  openPost() {\n    this.atomTypes = []\n    this.cardTypes = []\n    this.markerTypes = []\n    this.sections = []\n    this.result = {\n      version: MOBILEDOC_VERSION,\n      atoms: this.atomTypes,\n      cards: this.cardTypes,\n      markups: this.markerTypes,\n      sections: this.sections,\n    }\n  },\n  openMarkup(tagName, attributes) {\n    const index = this._findOrAddMarkerTypeIndex(tagName, attributes)\n    this.markupMarkerIds.push(index)\n  },\n  _addCardTypeIndex(cardName, payload) {\n    let cardType = [cardName, payload]\n    this.cardTypes.push(cardType)\n    return this.cardTypes.length - 1\n  },\n  _addAtomTypeIndex(atomName, atomValue, payload) {\n    let atomType = [atomName, atomValue, payload]\n    this.atomTypes.push(atomType)\n    return this.atomTypes.length - 1\n  },\n  _findOrAddMarkerTypeIndex(tagName, attributesArray) {\n    if (!this._markerTypeCache) {\n      this._markerTypeCache = {}\n    }\n    const key = `${tagName}-${attributesArray.join('-')}`\n\n    let index = this._markerTypeCache[key]\n    if (index === undefined) {\n      let markerType = [tagName]\n      if (attributesArray.length) {\n        markerType.push(attributesArray)\n      }\n      this.markerTypes.push(markerType)\n\n      index = this.markerTypes.length - 1\n      this._markerTypeCache[key] = index\n    }\n\n    return index\n  },\n}\n\n/**\n * Render from post -> mobiledoc\n */\nexport default {\n  /**\n   * @param {Post}\n   * @return {Mobiledoc}\n   */\n  render(post) {\n    let opcodes = []\n    visit(visitor, post, opcodes)\n    let compiler = Object.create(postOpcodeCompiler)\n    compile(compiler, opcodes)\n    return compiler.result\n  },\n}\n","import {\n  MOBILEDOC_MARKUP_SECTION_TYPE,\n  MOBILEDOC_IMAGE_SECTION_TYPE,\n  MOBILEDOC_LIST_SECTION_TYPE,\n  MOBILEDOC_CARD_SECTION_TYPE,\n  MOBILEDOC_MARKUP_MARKER_TYPE,\n  MOBILEDOC_ATOM_MARKER_TYPE,\n} from 'mobiledoc-kit/renderers/mobiledoc/0-3-1'\nimport { kvArrayToObject, filter } from '../../utils/array-utils'\nimport assert from 'mobiledoc-kit/utils/assert'\n\n/*\n * Parses from mobiledoc -> post\n */\nexport default class MobiledocParser {\n  constructor(builder) {\n    this.builder = builder\n  }\n\n  /**\n   * @param {Mobiledoc}\n   * @return {Post}\n   */\n  parse({ sections, markups: markerTypes, cards: cardTypes, atoms: atomTypes }) {\n    try {\n      const post = this.builder.createPost()\n\n      this.markups = []\n      this.markerTypes = this.parseMarkerTypes(markerTypes)\n      this.cardTypes = this.parseCardTypes(cardTypes)\n      this.atomTypes = this.parseAtomTypes(atomTypes)\n      this.parseSections(sections, post)\n\n      return post\n    } catch (e) {\n      assert(`Unable to parse mobiledoc: ${e.message}`, false)\n    }\n  }\n\n  parseMarkerTypes(markerTypes) {\n    return markerTypes.map(markerType => this.parseMarkerType(markerType))\n  }\n\n  parseMarkerType([tagName, attributesArray]) {\n    const attributesObject = kvArrayToObject(attributesArray || [])\n    return this.builder.createMarkup(tagName, attributesObject)\n  }\n\n  parseCardTypes(cardTypes) {\n    return cardTypes.map(cardType => this.parseCardType(cardType))\n  }\n\n  parseCardType([cardName, cardPayload]) {\n    return [cardName, cardPayload]\n  }\n\n  parseAtomTypes(atomTypes) {\n    return atomTypes.map(atomType => this.parseAtomType(atomType))\n  }\n\n  parseAtomType([atomName, atomValue, atomPayload]) {\n    return [atomName, atomValue, atomPayload]\n  }\n\n  parseSections(sections, post) {\n    sections.forEach(section => this.parseSection(section, post))\n  }\n\n  parseSection(section, post) {\n    let [type] = section\n    switch (type) {\n      case MOBILEDOC_MARKUP_SECTION_TYPE:\n        this.parseMarkupSection(section, post)\n        break\n      case MOBILEDOC_IMAGE_SECTION_TYPE:\n        this.parseImageSection(section, post)\n        break\n      case MOBILEDOC_CARD_SECTION_TYPE:\n        this.parseCardSection(section, post)\n        break\n      case MOBILEDOC_LIST_SECTION_TYPE:\n        this.parseListSection(section, post)\n        break\n      default:\n        assert('Unexpected section type ${type}', false)\n    }\n  }\n\n  getAtomTypeFromIndex(index) {\n    const atomType = this.atomTypes[index]\n    assert(`No atom definition found at index ${index}`, !!atomType)\n    return atomType\n  }\n\n  getCardTypeFromIndex(index) {\n    const cardType = this.cardTypes[index]\n    assert(`No card definition found at index ${index}`, !!cardType)\n    return cardType\n  }\n\n  parseCardSection([, cardIndex], post) {\n    const [name, payload] = this.getCardTypeFromIndex(cardIndex)\n    const section = this.builder.createCardSection(name, payload)\n    post.sections.append(section)\n  }\n\n  parseImageSection([, src], post) {\n    const section = this.builder.createImageSection(src)\n    post.sections.append(section)\n  }\n\n  parseMarkupSection([, tagName, markers], post) {\n    const section = this.builder.createMarkupSection(tagName)\n    post.sections.append(section)\n    this.parseMarkers(markers, section)\n    // Strip blank markers after they have been created. This ensures any\n    // markup they include has been correctly populated.\n    filter(section.markers, m => m.isBlank).forEach(m => {\n      section.markers.remove(m)\n    })\n  }\n\n  parseListSection([, tagName, items], post) {\n    const section = this.builder.createListSection(tagName)\n    post.sections.append(section)\n    this.parseListItems(items, section)\n  }\n\n  parseListItems(items, section) {\n    items.forEach(i => this.parseListItem(i, section))\n  }\n\n  parseListItem(markers, section) {\n    const item = this.builder.createListItem()\n    this.parseMarkers(markers, item)\n    section.items.append(item)\n  }\n\n  parseMarkers(markers, parent) {\n    markers.forEach(m => this.parseMarker(m, parent))\n  }\n\n  parseMarker([type, markerTypeIndexes, closeCount, value], parent) {\n    markerTypeIndexes.forEach(index => {\n      this.markups.push(this.markerTypes[index])\n    })\n\n    const marker = this.buildMarkerType(type, value)\n    parent.markers.append(marker)\n\n    this.markups = this.markups.slice(0, this.markups.length - closeCount)\n  }\n\n  buildMarkerType(type, value) {\n    switch (type) {\n      case MOBILEDOC_MARKUP_MARKER_TYPE:\n        return this.builder.createMarker(value, this.markups.slice())\n      case MOBILEDOC_ATOM_MARKER_TYPE: {\n        const [atomName, atomValue, atomPayload] = this.getAtomTypeFromIndex(value)\n        return this.builder.createAtom(atomName, atomValue, atomPayload, this.markups.slice())\n      }\n      default:\n        assert(`Unexpected marker type ${type}`, false)\n    }\n  }\n}\n","import { visit, visitArray, compile } from '../../utils/compiler'\nimport { objectToSortedKVArray } from '../../utils/array-utils'\nimport {\n  POST_TYPE,\n  MARKUP_SECTION_TYPE,\n  LIST_SECTION_TYPE,\n  LIST_ITEM_TYPE,\n  MARKER_TYPE,\n  MARKUP_TYPE,\n  IMAGE_SECTION_TYPE,\n  CARD_TYPE,\n  ATOM_TYPE,\n} from '../../models/types'\n\nexport const MOBILEDOC_VERSION = '0.3.2'\nexport const MOBILEDOC_MARKUP_SECTION_TYPE = 1\nexport const MOBILEDOC_IMAGE_SECTION_TYPE = 2\nexport const MOBILEDOC_LIST_SECTION_TYPE = 3\nexport const MOBILEDOC_CARD_SECTION_TYPE = 10\n\nexport const MOBILEDOC_MARKUP_MARKER_TYPE = 0\nexport const MOBILEDOC_ATOM_MARKER_TYPE = 1\n\nconst visitor = {\n  [POST_TYPE](node, opcodes) {\n    opcodes.push(['openPost'])\n    visitArray(visitor, node.sections, opcodes)\n  },\n  [MARKUP_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openMarkupSection', node.tagName, objectToSortedKVArray(node.attributes)])\n    visitArray(visitor, node.markers, opcodes)\n  },\n  [LIST_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openListSection', node.tagName, objectToSortedKVArray(node.attributes)])\n    visitArray(visitor, node.items, opcodes)\n  },\n  [LIST_ITEM_TYPE](node, opcodes) {\n    opcodes.push(['openListItem'])\n    visitArray(visitor, node.markers, opcodes)\n  },\n  [IMAGE_SECTION_TYPE](node, opcodes) {\n    opcodes.push(['openImageSection', node.src])\n  },\n  [CARD_TYPE](node, opcodes) {\n    opcodes.push(['openCardSection', node.name, node.payload])\n  },\n  [MARKER_TYPE](node, opcodes) {\n    opcodes.push(['openMarker', node.closedMarkups.length, node.value])\n    visitArray(visitor, node.openedMarkups, opcodes)\n  },\n  [MARKUP_TYPE](node, opcodes) {\n    opcodes.push(['openMarkup', node.tagName, objectToSortedKVArray(node.attributes)])\n  },\n  [ATOM_TYPE](node, opcodes) {\n    opcodes.push(['openAtom', node.closedMarkups.length, node.name, node.value, node.payload])\n    visitArray(visitor, node.openedMarkups, opcodes)\n  },\n}\n\nconst postOpcodeCompiler = {\n  openMarker(closeCount, value) {\n    this.markupMarkerIds = []\n    this.markers.push([MOBILEDOC_MARKUP_MARKER_TYPE, this.markupMarkerIds, closeCount, value || ''])\n  },\n  openMarkupSection(tagName, attributes) {\n    this.markers = []\n    if (attributes && attributes.length !== 0) {\n      this.sections.push([MOBILEDOC_MARKUP_SECTION_TYPE, tagName, this.markers, attributes])\n    } else {\n      this.sections.push([MOBILEDOC_MARKUP_SECTION_TYPE, tagName, this.markers])\n    }\n  },\n  openListSection(tagName, attributes) {\n    this.items = []\n    if (attributes && attributes.length !== 0) {\n      this.sections.push([MOBILEDOC_LIST_SECTION_TYPE, tagName, this.items, attributes])\n    } else {\n      this.sections.push([MOBILEDOC_LIST_SECTION_TYPE, tagName, this.items])\n    }\n  },\n  openListItem() {\n    this.markers = []\n    this.items.push(this.markers)\n  },\n  openImageSection(url) {\n    this.sections.push([MOBILEDOC_IMAGE_SECTION_TYPE, url])\n  },\n  openCardSection(name, payload) {\n    const index = this._addCardTypeIndex(name, payload)\n    this.sections.push([MOBILEDOC_CARD_SECTION_TYPE, index])\n  },\n  openAtom(closeCount, name, value, payload) {\n    const index = this._addAtomTypeIndex(name, value, payload)\n    this.markupMarkerIds = []\n    this.markers.push([MOBILEDOC_ATOM_MARKER_TYPE, this.markupMarkerIds, closeCount, index])\n  },\n  openPost() {\n    this.atomTypes = []\n    this.cardTypes = []\n    this.markerTypes = []\n    this.sections = []\n    this.result = {\n      version: MOBILEDOC_VERSION,\n      atoms: this.atomTypes,\n      cards: this.cardTypes,\n      markups: this.markerTypes,\n      sections: this.sections,\n    }\n  },\n  openMarkup(tagName, attributes) {\n    const index = this._findOrAddMarkerTypeIndex(tagName, attributes)\n    this.markupMarkerIds.push(index)\n  },\n  _addCardTypeIndex(cardName, payload) {\n    let cardType = [cardName, payload]\n    this.cardTypes.push(cardType)\n    return this.cardTypes.length - 1\n  },\n  _addAtomTypeIndex(atomName, atomValue, payload) {\n    let atomType = [atomName, atomValue, payload]\n    this.atomTypes.push(atomType)\n    return this.atomTypes.length - 1\n  },\n  _findOrAddMarkerTypeIndex(tagName, attributesArray) {\n    if (!this._markerTypeCache) {\n      this._markerTypeCache = {}\n    }\n    const key = `${tagName}-${attributesArray.join('-')}`\n\n    let index = this._markerTypeCache[key]\n    if (index === undefined) {\n      let markerType = [tagName]\n      if (attributesArray.length) {\n        markerType.push(attributesArray)\n      }\n      this.markerTypes.push(markerType)\n\n      index = this.markerTypes.length - 1\n      this._markerTypeCache[key] = index\n    }\n\n    return index\n  },\n}\n\n/**\n * Render from post -> mobiledoc\n */\nexport default {\n  /**\n   * @param {Post}\n   * @return {Mobiledoc}\n   */\n  render(post) {\n    let opcodes = []\n    visit(visitor, post, opcodes)\n    let compiler = Object.create(postOpcodeCompiler)\n    compile(compiler, opcodes)\n    return compiler.result\n  },\n}\n","export function entries<T extends { [key: string]: unknown }, K extends keyof T>(obj: T): [keyof T, T[K]][] {\n  const ownProps = Object.keys(obj) as K[]\n  let i = ownProps.length\n  const resArray = new Array<[keyof T, T[K]]>(i)\n\n  while (i--) {\n    resArray[i] = [ownProps[i], obj[ownProps[i]]]\n  }\n\n  return resArray\n}\n","import {\n  MOBILEDOC_MARKUP_SECTION_TYPE,\n  MOBILEDOC_IMAGE_SECTION_TYPE,\n  MOBILEDOC_LIST_SECTION_TYPE,\n  MOBILEDOC_CARD_SECTION_TYPE,\n  MOBILEDOC_MARKUP_MARKER_TYPE,\n  MOBILEDOC_ATOM_MARKER_TYPE,\n} from '../../renderers/mobiledoc/0-3-2'\n\nimport { kvArrayToObject, filter } from '../../utils/array-utils'\nimport assert from '../../utils/assert'\nimport { entries } from '../../utils/object-utils'\n\n/*\n * Parses from mobiledoc -> post\n */\nexport default class MobiledocParser {\n  constructor(builder) {\n    this.builder = builder\n  }\n\n  /**\n   * @param {Mobiledoc}\n   * @return {Post}\n   */\n  parse({ sections, markups: markerTypes, cards: cardTypes, atoms: atomTypes }) {\n    try {\n      const post = this.builder.createPost()\n\n      this.markups = []\n      this.markerTypes = this.parseMarkerTypes(markerTypes)\n      this.cardTypes = this.parseCardTypes(cardTypes)\n      this.atomTypes = this.parseAtomTypes(atomTypes)\n      this.parseSections(sections, post)\n\n      return post\n    } catch (e) {\n      assert(`Unable to parse mobiledoc: ${e.message}`, false)\n    }\n  }\n\n  parseMarkerTypes(markerTypes) {\n    return markerTypes.map(markerType => this.parseMarkerType(markerType))\n  }\n\n  parseMarkerType([tagName, attributesArray]) {\n    const attributesObject = kvArrayToObject(attributesArray || [])\n    return this.builder.createMarkup(tagName, attributesObject)\n  }\n\n  parseCardTypes(cardTypes) {\n    return cardTypes.map(cardType => this.parseCardType(cardType))\n  }\n\n  parseCardType([cardName, cardPayload]) {\n    return [cardName, cardPayload]\n  }\n\n  parseAtomTypes(atomTypes) {\n    return atomTypes.map(atomType => this.parseAtomType(atomType))\n  }\n\n  parseAtomType([atomName, atomValue, atomPayload]) {\n    return [atomName, atomValue, atomPayload]\n  }\n\n  parseSections(sections, post) {\n    sections.forEach(section => this.parseSection(section, post))\n  }\n\n  parseSection(section, post) {\n    let [type] = section\n    switch (type) {\n      case MOBILEDOC_MARKUP_SECTION_TYPE:\n        this.parseMarkupSection(section, post)\n        break\n      case MOBILEDOC_IMAGE_SECTION_TYPE:\n        this.parseImageSection(section, post)\n        break\n      case MOBILEDOC_CARD_SECTION_TYPE:\n        this.parseCardSection(section, post)\n        break\n      case MOBILEDOC_LIST_SECTION_TYPE:\n        this.parseListSection(section, post)\n        break\n      default:\n        assert('Unexpected section type ${type}', false)\n    }\n  }\n\n  getAtomTypeFromIndex(index) {\n    const atomType = this.atomTypes[index]\n    assert(`No atom definition found at index ${index}`, !!atomType)\n    return atomType\n  }\n\n  getCardTypeFromIndex(index) {\n    const cardType = this.cardTypes[index]\n    assert(`No card definition found at index ${index}`, !!cardType)\n    return cardType\n  }\n\n  parseCardSection([, cardIndex], post) {\n    const [name, payload] = this.getCardTypeFromIndex(cardIndex)\n    const section = this.builder.createCardSection(name, payload)\n    post.sections.append(section)\n  }\n\n  parseImageSection([, src], post) {\n    const section = this.builder.createImageSection(src)\n    post.sections.append(section)\n  }\n\n  parseMarkupSection([, tagName, markers, attributesArray], post) {\n    const section = this.builder.createMarkupSection(tagName)\n    post.sections.append(section)\n    if (attributesArray) {\n      entries(kvArrayToObject(attributesArray)).forEach(([key, value]) => {\n        section.setAttribute(key, value)\n      })\n    }\n    this.parseMarkers(markers, section)\n    // Strip blank markers after they have been created. This ensures any\n    // markup they include has been correctly populated.\n    filter(section.markers, m => m.isBlank).forEach(m => {\n      section.markers.remove(m)\n    })\n  }\n\n  parseListSection([, tagName, items, attributesArray], post) {\n    const section = this.builder.createListSection(tagName)\n    post.sections.append(section)\n    if (attributesArray) {\n      entries(kvArrayToObject(attributesArray)).forEach(([key, value]) => {\n        section.setAttribute(key, value)\n      })\n    }\n    this.parseListItems(items, section)\n  }\n\n  parseListItems(items, section) {\n    items.forEach(i => this.parseListItem(i, section))\n  }\n\n  parseListItem(markers, section) {\n    const item = this.builder.createListItem()\n    this.parseMarkers(markers, item)\n    section.items.append(item)\n  }\n\n  parseMarkers(markers, parent) {\n    markers.forEach(m => this.parseMarker(m, parent))\n  }\n\n  parseMarker([type, markerTypeIndexes, closeCount, value], parent) {\n    markerTypeIndexes.forEach(index => {\n      this.markups.push(this.markerTypes[index])\n    })\n\n    const marker = this.buildMarkerType(type, value)\n    parent.markers.append(marker)\n\n    this.markups = this.markups.slice(0, this.markups.length - closeCount)\n  }\n\n  buildMarkerType(type, value) {\n    switch (type) {\n      case MOBILEDOC_MARKUP_MARKER_TYPE:\n        return this.builder.createMarker(value, this.markups.slice())\n      case MOBILEDOC_ATOM_MARKER_TYPE: {\n        const [atomName, atomValue, atomPayload] = this.getAtomTypeFromIndex(value)\n        return this.builder.createAtom(atomName, atomValue, atomPayload, this.markups.slice())\n      }\n      default:\n        assert(`Unexpected marker type ${type}`, false)\n    }\n  }\n}\n","import MobiledocParser_0_2 from './0-2'\nimport MobiledocParser_0_3 from './0-3'\nimport MobiledocParser_0_3_1 from './0-3-1'\nimport MobiledocParser_0_3_2 from './0-3-2'\n\nimport { MOBILEDOC_VERSION as MOBILEDOC_VERSION_0_2 } from 'mobiledoc-kit/renderers/mobiledoc/0-2'\nimport { MOBILEDOC_VERSION as MOBILEDOC_VERSION_0_3 } from 'mobiledoc-kit/renderers/mobiledoc/0-3'\nimport { MOBILEDOC_VERSION as MOBILEDOC_VERSION_0_3_1 } from 'mobiledoc-kit/renderers/mobiledoc/0-3-1'\nimport { MOBILEDOC_VERSION as MOBILEDOC_VERSION_0_3_2 } from 'mobiledoc-kit/renderers/mobiledoc/0-3-2'\nimport assert from 'mobiledoc-kit/utils/assert'\n\nfunction parseVersion(mobiledoc) {\n  return mobiledoc.version\n}\n\nexport default {\n  parse(builder, mobiledoc) {\n    let version = parseVersion(mobiledoc)\n    switch (version) {\n      case MOBILEDOC_VERSION_0_2:\n        return new MobiledocParser_0_2(builder).parse(mobiledoc)\n      case MOBILEDOC_VERSION_0_3:\n        return new MobiledocParser_0_3(builder).parse(mobiledoc)\n      case MOBILEDOC_VERSION_0_3_1:\n        return new MobiledocParser_0_3_1(builder).parse(mobiledoc)\n      case MOBILEDOC_VERSION_0_3_2:\n        return new MobiledocParser_0_3_2(builder).parse(mobiledoc)\n      default:\n        assert(`Unknown version of mobiledoc parser requested: ${version}`, false)\n    }\n  },\n}\n","import assert from '../utils/assert'\n\nexport default class CardNode {\n  constructor(editor, card, section, element, options) {\n    this.editor = editor\n    this.card = card\n    this.section = section\n    this.element = element\n    this.options = options\n\n    this.mode = null\n\n    this._teardownCallback = null\n    this._rendered = null\n  }\n\n  render(mode) {\n    if (this.mode === mode) {\n      return\n    }\n\n    this.teardown()\n\n    this.mode = mode\n\n    let method = mode === 'display' ? 'render' : 'edit'\n    method = this.card[method]\n\n    assert(`Card is missing \"${method}\" (tried to render mode: \"${mode}\")`, !!method)\n    let rendered = method({\n      env: this.env,\n      options: this.options,\n      payload: this.section.payload,\n    })\n\n    this._validateAndAppendRenderResult(rendered)\n  }\n\n  teardown() {\n    if (this._teardownCallback) {\n      this._teardownCallback()\n      this._teardownCallback = null\n    }\n    if (this._rendered) {\n      this.element.removeChild(this._rendered)\n      this._rendered = null\n    }\n  }\n\n  didRender() {\n    if (this._didRenderCallback) {\n      this._didRenderCallback()\n    }\n  }\n\n  get env() {\n    return {\n      name: this.card.name,\n      isInEditor: true,\n      onTeardown: callback => (this._teardownCallback = callback),\n      didRender: callback => (this._didRenderCallback = callback),\n      edit: () => this.edit(),\n      save: (payload, transition = true) => {\n        this.section.payload = payload\n\n        this.editor._postDidChange()\n        if (transition) {\n          this.display()\n        }\n      },\n      cancel: () => this.display(),\n      remove: () => this.remove(),\n      postModel: this.section,\n    }\n  }\n\n  display() {\n    this.render('display')\n  }\n\n  edit() {\n    this.render('edit')\n  }\n\n  remove() {\n    this.editor.run(postEditor => postEditor.removeSection(this.section))\n  }\n\n  _validateAndAppendRenderResult(rendered) {\n    if (!rendered) {\n      return\n    }\n\n    let {\n      card: { name },\n    } = this\n    assert(`Card \"${name}\" must render dom (render value was: \"${rendered}\")`, !!rendered.nodeType)\n    this.element.appendChild(rendered)\n    this._rendered = rendered\n    this.didRender()\n  }\n}\n","import assert from '../utils/assert'\n\nexport default class AtomNode {\n  constructor(editor, atom, model, element, atomOptions) {\n    this.editor = editor\n    this.atom = atom\n    this.model = model\n    this.atomOptions = atomOptions\n    this.element = element\n\n    this._teardownCallback = null\n    this._rendered = null\n  }\n\n  render() {\n    if (!this._rendered) {\n      let {\n        atomOptions: options,\n        env,\n        model: { value, payload },\n      } = this\n      // cache initial render\n      this._rendered = this.atom.render({ options, env, value, payload })\n    }\n\n    this._validateAndAppendRenderResult(this._rendered)\n  }\n\n  get env() {\n    return {\n      name: this.atom.name,\n      onTeardown: callback => (this._teardownCallback = callback),\n      save: (value, payload = {}) => {\n        this.model.value = value\n        this.model.payload = payload\n\n        this.editor._postDidChange()\n        this.teardown()\n        this.render()\n      },\n    }\n  }\n\n  teardown() {\n    if (this._teardownCallback) {\n      this._teardownCallback()\n      this._teardownCallback = null\n    }\n    if (this._rendered) {\n      this.element.removeChild(this._rendered)\n      this._rendered = null\n    }\n  }\n\n  _validateAndAppendRenderResult(rendered) {\n    if (!rendered) {\n      return\n    }\n\n    let {\n      atom: { name },\n    } = this\n    assert(`Atom \"${name}\" must return a DOM node (returned value was: \"${rendered}\")`, !!rendered.nodeType)\n    this.element.appendChild(rendered)\n  }\n}\n","export default class LinkedItem<T> {\n  next: T | null = null\n  prev: T | null = null\n}\n","import { normalizeTagName } from '../utils/dom-utils'\nimport LinkedItem from '../utils/linked-item'\nimport assert from '../utils/assert'\nimport Position from '../utils/cursor/position'\nimport LinkedList from '../utils/linked-list'\nimport Marker from './marker'\nimport RenderNode from './render-node'\nimport Post from './post'\n\nexport default abstract class Section extends LinkedItem<Section> {\n  type: string\n  isSection: boolean\n  isMarkerable: boolean\n  isNested: boolean\n  isLeafSection: boolean\n\n  post?: Post | null\n  parent: Section | null = null\n  renderNode: RenderNode | null = null\n  _tagName: string | null = null\n\n  constructor(type: string) {\n    super()\n    assert('Cannot create section without type', !!type)\n    this.type = type\n    this.isSection = true\n    this.isMarkerable = false\n    this.isNested = false\n    this.isLeafSection = true\n  }\n\n  set tagName(val: string) {\n    let normalizedTagName = normalizeTagName(val)\n    assert(`Cannot set section tagName to ${val}`, this.isValidTagName(normalizedTagName))\n    this._tagName = normalizedTagName\n  }\n\n  get tagName() {\n    return this._tagName as string\n  }\n\n  get length() {\n    return 0\n  }\n\n  abstract get isBlank(): boolean\n  abstract isValidTagName(_normalizedTagName: string): boolean\n  abstract clone(): Section\n  abstract canJoin(otherSection: Section): boolean\n  abstract textUntil(position: Position): string\n\n  /**\n   * @return {Position} The position at the start of this section\n   * @public\n   */\n  headPosition() {\n    return this.toPosition(0)\n  }\n\n  /**\n   * @return {Position} The position at the end of this section\n   * @public\n   */\n  tailPosition() {\n    return this.toPosition(this.length)\n  }\n\n  /**\n   * @param {Number} offset\n   * @return {Position} The position in this section at the given offset\n   * @public\n   */\n  toPosition(offset: number) {\n    assert('Must pass number to `toPosition`', typeof offset === 'number')\n    assert('Cannot call `toPosition` with offset > length', offset <= this.length)\n\n    return new Position(this, offset)\n  }\n\n  /**\n   * @return {Range} A range from this section's head to tail positions\n   * @public\n   */\n  toRange() {\n    return this.headPosition().toRange(this.tailPosition())\n  }\n\n  /**\n   * Markerable sections should override this method\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  splitMarkerAtOffset(_offset: number) {\n    let blankEdit: { added: Marker[]; removed: Marker[] } = { added: [], removed: [] }\n    return blankEdit\n  }\n\n  nextLeafSection(): Section | null {\n    const next = this.next\n    if (next) {\n      if (isListSection(next)) {\n        return next.items.head\n      } else {\n        return next\n      }\n    } else {\n      if (this.isNested) {\n        return this.parent!.nextLeafSection()\n      }\n    }\n    return null\n  }\n\n  immediatelyNextMarkerableSection() {\n    let next = this.nextLeafSection()\n    while (next && !next.isMarkerable) {\n      next = next.nextLeafSection()\n    }\n    return next\n  }\n\n  previousLeafSection(): Section | null {\n    const prev = this.prev\n\n    if (prev) {\n      if (isListSection(prev)) {\n        return prev.items.tail\n      } else {\n        return prev\n      }\n    } else {\n      if (this.isNested) {\n        return this.parent!.previousLeafSection()\n      }\n    }\n\n    return null\n  }\n}\n\ninterface ListSection {\n  items: LinkedList<Section>\n}\n\nfunction isListSection(item: any): item is ListSection {\n  return 'items' in item && item.items\n}\n","export function shallowCopyObject<T extends {}>(object: T): T {\n  return { ...object }\n}\n","import Section from './_section'\nimport { CARD_TYPE } from './types'\nimport { shallowCopyObject } from '../utils/copy'\n\nexport enum CARD_MODES {\n  DISPLAY = 'display',\n  EDIT = 'edit',\n}\n\nconst CARD_LENGTH = 1\n\nexport function isCardSection(section: Section | Card): section is Card {\n  return (section as Card).isCardSection\n}\n\nexport default class Card<T = {}> extends Section {\n  name: string\n  payload: T\n  isCardSection: true\n  builder: any\n  _initialMode: CARD_MODES = CARD_MODES.DISPLAY\n\n  constructor(name: string, payload: T) {\n    super(CARD_TYPE)\n    this.name = name\n    this.payload = payload\n    this.isCardSection = true\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isValidTagName(_normalizedTagName: string): boolean {\n    throw new Error('Method not implemented.')\n  }\n\n  textUntil(): string {\n    return ''\n  }\n\n  get isBlank() {\n    return false\n  }\n\n  canJoin() {\n    return false\n  }\n\n  get length() {\n    return CARD_LENGTH\n  }\n\n  clone() {\n    let payload = shallowCopyObject(this.payload)\n    let card = this.builder.createCardSection(this.name, payload)\n    // If this card is currently rendered, clone the mode it is\n    // currently in as the default mode of the new card.\n    let mode = this._initialMode\n    if (this.renderNode && this.renderNode.cardNode) {\n      mode = this.renderNode.cardNode.mode\n    }\n    card.setInitialMode(mode)\n    return card\n  }\n\n  /**\n   * set the mode that this will be rendered into initially\n   * @private\n   */\n  setInitialMode(initialMode: CARD_MODES) {\n    // TODO validate initialMode\n    this._initialMode = initialMode\n  }\n}\n","import { clearSelection, comparePosition, isFullSelection } from '../utils/selection-utils'\nimport { containsNode } from '../utils/dom-utils'\nimport Position from './cursor/position'\nimport Range, { Direction } from './cursor/range'\nimport { DIRECTION } from '../utils/key'\nimport { constrainSelectionTo } from '../utils/selection-utils'\nimport Editor from '../editor/editor'\nimport RenderTree from '../models/render-tree'\nimport Post from '../models/post'\nimport { unwrap, assertNotNull, expect } from './assert'\nimport { isCardSection } from '../models/card'\n\nexport { Position, Range }\n\nclass Cursor {\n  editor: Editor\n  renderTree: RenderTree\n  post: Post\n\n  constructor(editor: Editor) {\n    this.editor = editor\n    this.renderTree = editor._renderTree\n    this.post = editor.post\n  }\n\n  clearSelection() {\n    clearSelection()\n  }\n\n  /**\n   * @return {Boolean} true when there is either a collapsed cursor in the\n   * editor's element or a selection that is contained in the editor's element\n   */\n  hasCursor() {\n    return this.editor.hasRendered && (this._hasCollapsedSelection() || this._hasSelection())\n  }\n\n  hasSelection() {\n    return this.editor.hasRendered && this._hasSelection()\n  }\n\n  /**\n   * @return {Boolean} Can the cursor be on this element?\n   */\n  isAddressable(element: Element) {\n    let { renderTree } = this\n    let renderNode = renderTree.findRenderNodeFromElement(element)\n    if (renderNode && renderNode.postNode.isCardSection) {\n      let renderedElement = renderNode.element\n\n      // card sections have addressable text nodes containing &zwnj;\n      // as their first and last child\n      if (\n        element !== renderedElement &&\n        element !== renderedElement.firstChild &&\n        element !== renderedElement.lastChild\n      ) {\n        return false\n      }\n    }\n\n    return !!renderNode\n  }\n\n  /*\n   * @return {Range} Cursor#Range object\n   */\n  get offsets() {\n    if (!this.hasCursor()) {\n      return Range.blankRange()\n    }\n\n    let { renderTree } = this\n    let parentNode = unwrap(this.editor.element)\n    let selection = constrainSelectionTo(this.selection, parentNode)\n\n    const { headNode, headOffset, tailNode, tailOffset, direction } = comparePosition(selection)\n\n    const headPosition = Position.fromNode(renderTree, headNode, headOffset)\n    const tailPosition = Position.fromNode(renderTree, tailNode, tailOffset)\n\n    return new Range(headPosition, tailPosition, direction)\n  }\n\n  _findNodeForPosition(position: Position) {\n    let section = unwrap(position.section)\n    let node, offset\n    assertNotNull('expected section to have render node', section.renderNode)\n\n    if (isCardSection(section)) {\n      offset = 0\n      if (position.offset === 0) {\n        node = section.renderNode.element.firstChild\n      } else {\n        node = section.renderNode.element.lastChild\n      }\n    } else if (section.isBlank) {\n      node = section.renderNode.cursorElement\n      offset = 0\n    } else {\n      let { marker, offsetInMarker } = position\n      assertNotNull('expected position to have marker', marker)\n      assertNotNull('expected marker to have render node', marker.renderNode)\n\n      if (marker.isAtom) {\n        if (offsetInMarker > 0) {\n          // FIXME -- if there is a next marker, focus on it?\n          offset = 0\n          node = marker.renderNode.tailTextNode\n        } else {\n          offset = 0\n          node = marker.renderNode.headTextNode\n        }\n      } else {\n        node = marker.renderNode.element\n        offset = offsetInMarker\n      }\n    }\n\n    return { node, offset }\n  }\n\n  selectRange(range: Range) {\n    if (range.isBlank) {\n      this.clearSelection()\n      return\n    }\n\n    const { head, tail, direction } = range\n    const { node: headNode, offset: headOffset } = this._findNodeForPosition(head),\n      { node: tailNode, offset: tailOffset } = this._findNodeForPosition(tail)\n    this._moveToNode(headNode, headOffset, tailNode, tailOffset, direction)\n\n    // Firefox sometimes doesn't keep focus in the editor after adding a card\n    this.editor._ensureFocus()\n  }\n\n  get selection() {\n    return expect(window.getSelection(), 'expected window selection to not be null')\n  }\n\n  selectedText() {\n    // FIXME remove this\n    return this.selection.toString()\n  }\n\n  /**\n   * @param {textNode} node\n   * @param {integer} offset\n   * @param {textNode} endNode\n   * @param {integer} endOffset\n   * @param {integer} direction forward or backward, default forward\n   * @private\n   */\n  _moveToNode(node: Text, offset: number, endNode: Text, endOffset: number, direction: Direction = DIRECTION.FORWARD) {\n    this.clearSelection()\n\n    if (direction === DIRECTION.BACKWARD) {\n      ;[node, offset, endNode, endOffset] = [endNode, endOffset, node, offset]\n    }\n\n    const range = document.createRange()\n    range.setStart(node, offset)\n    if (direction === DIRECTION.BACKWARD && isFullSelection(this.selection)) {\n      this.selection.addRange(range)\n      this.selection.extend(endNode, endOffset)\n    } else {\n      range.setEnd(endNode, endOffset)\n      this.selection.addRange(range)\n    }\n  }\n\n  _hasSelection() {\n    const element = unwrap(this.editor.element)\n    const { _selectionRange } = this\n    if (!_selectionRange || _selectionRange.collapsed) {\n      return false\n    }\n\n    return (\n      containsNode(element, unwrap(this.selection.anchorNode)) &&\n      containsNode(element, unwrap(this.selection.focusNode))\n    )\n  }\n\n  _hasCollapsedSelection() {\n    const { _selectionRange } = this\n    if (!_selectionRange) {\n      return false\n    }\n\n    const element = this.editor.element\n    return containsNode(unwrap(element), unwrap(this.selection.anchorNode))\n  }\n\n  get _selectionRange() {\n    const { selection } = this\n    if (selection.rangeCount === 0) {\n      return null\n    }\n    return selection.getRangeAt(0)\n  }\n}\n\nexport default Cursor\n","export default class Set<T> {\n  items: T[]\n\n  constructor(items = []) {\n    this.items = []\n    items.forEach(i => this.add(i))\n  }\n\n  add(item: T) {\n    if (!this.has(item)) {\n      this.items.push(item)\n    }\n  }\n\n  get length() {\n    return this.items.length\n  }\n\n  has(item: T) {\n    return this.items.indexOf(item) !== -1\n  }\n\n  toArray() {\n    return this.items\n  }\n}\n","import assert from './assert'\n\nconst PARENT_PROP = '__parent'\n\ninterface LinkedListOptions<T> {\n  adoptItem?: AdoptItemCallback<T>\n  freeItem?: FreeItemCallback<T>\n}\n\nexport interface LinkedListItem<T extends LinkedListItem<T>> {\n  next: T | null\n  prev: T | null\n}\n\ntype ItemCallback<T, U = void> = (item: T) => U\ntype AdoptItemCallback<T> = ItemCallback<T>\ntype FreeItemCallback<T> = ItemCallback<T>\n\nexport default class LinkedList<T extends LinkedListItem<T>> {\n  head: T | null\n  tail: T | null\n  length: number\n\n  _adoptItem?: AdoptItemCallback<T>\n  _freeItem?: FreeItemCallback<T>\n\n  constructor(options: LinkedListOptions<T>) {\n    this.head = null\n    this.tail = null\n    this.length = 0\n\n    if (options) {\n      const { adoptItem, freeItem } = options\n      this._adoptItem = adoptItem\n      this._freeItem = freeItem\n    }\n  }\n\n  adoptItem(item: T) {\n    ;(item as any)[PARENT_PROP] = this\n    this.length++\n    if (this._adoptItem) {\n      this._adoptItem(item)\n    }\n  }\n\n  freeItem(item: T) {\n    ;(item as any)[PARENT_PROP] = null\n    this.length--\n    if (this._freeItem) {\n      this._freeItem(item)\n    }\n  }\n\n  get isEmpty() {\n    return this.length === 0\n  }\n\n  prepend(item: T) {\n    this.insertBefore(item, this.head)\n  }\n\n  append(item: T) {\n    this.insertBefore(item, null)\n  }\n\n  insertAfter(item: T, prevItem: T) {\n    let nextItem = prevItem ? prevItem.next : this.head\n    this.insertBefore(item, nextItem)\n  }\n\n  _ensureItemIsNotAlreadyInList(item: T) {\n    assert(\n      'Cannot insert an item into a list if it is already in a list',\n      !item.next && !item.prev && this.head !== item\n    )\n  }\n\n  insertBefore(item: T, nextItem: T | null) {\n    this._ensureItemIsNotInList(item)\n    this.adoptItem(item)\n\n    let insertPos\n    if (nextItem && nextItem.prev) {\n      insertPos = 'middle'\n    } else if (nextItem) {\n      insertPos = 'start'\n    } else {\n      insertPos = 'end'\n    }\n\n    switch (insertPos) {\n      case 'start':\n        if (this.head) {\n          item.next = this.head\n          this.head.prev = item\n        }\n        this.head = item\n\n        break\n      case 'middle': {\n        let prevItem = nextItem!.prev\n        item.next = nextItem\n        item.prev = prevItem\n        nextItem!.prev = item\n        prevItem!.next = item\n\n        break\n      }\n      case 'end': {\n        let tail = this.tail\n        item.prev = tail\n\n        if (tail) {\n          tail.next = item\n        } else {\n          this.head = item\n        }\n        this.tail = item\n\n        break\n      }\n    }\n  }\n\n  remove(item: T) {\n    if (!getParent(item)) {\n      return\n    }\n    this._ensureItemIsInThisList(item)\n    this.freeItem(item)\n\n    let [prev, next] = [item.prev, item.next]\n    item.prev = null\n    item.next = null\n\n    if (prev) {\n      prev.next = next\n    } else {\n      this.head = next\n    }\n\n    if (next) {\n      next.prev = prev\n    } else {\n      this.tail = prev\n    }\n  }\n\n  forEach(callback: (item: T, idx: number) => void) {\n    let item = this.head\n    let index = 0\n    while (item) {\n      callback(item, index++)\n      item = item.next\n    }\n  }\n\n  map<U>(callback: (item: T) => U): U[] {\n    let result: U[] = []\n    this.forEach(i => result.push(callback(i)))\n    return result\n  }\n\n  walk(startItem: T | undefined, endItem: T | undefined, callback: ItemCallback<T>) {\n    let item: T | null = startItem || this.head\n    while (item) {\n      callback(item)\n      if (item === endItem) {\n        break\n      }\n      item = item.next\n    }\n  }\n\n  readRange(startItem?: T, endItem?: T) {\n    let items: T[] = []\n    this.walk(startItem, endItem, item => {\n      items.push(item)\n    })\n    return items\n  }\n\n  toArray() {\n    return this.readRange()\n  }\n\n  detect(callback: ItemCallback<T, boolean>, item = this.head, reverse = false) {\n    while (item) {\n      if (callback(item)) {\n        return item\n      }\n      item = reverse ? item.prev : item.next\n    }\n  }\n\n  any(callback: ItemCallback<T, boolean>) {\n    return !!this.detect(callback)\n  }\n\n  every(callback: ItemCallback<T, boolean>) {\n    let item = this.head\n    while (item) {\n      if (!callback(item)) {\n        return false\n      }\n      item = item.next\n    }\n    return true\n  }\n\n  objectAt(targetIndex: number) {\n    let index = -1\n    return this.detect(() => {\n      index++\n      return targetIndex === index\n    })\n  }\n\n  splice(targetItem: T, removalCount: number, newItems: T[]) {\n    let item: T | null = targetItem\n    let nextItem = item.next\n    let count = 0\n    while (item && count < removalCount) {\n      count++\n      nextItem = item.next\n      this.remove(item)\n      item = nextItem\n    }\n    newItems.forEach(newItem => {\n      this.insertBefore(newItem, nextItem)\n    })\n  }\n\n  removeBy(conditionFn: ItemCallback<T, boolean>) {\n    let item = this.head\n    while (item) {\n      let nextItem = item.next\n\n      if (conditionFn(item)) {\n        this.remove(item)\n      }\n\n      item = nextItem\n    }\n  }\n\n  _ensureItemIsNotInList(item: T) {\n    assert('Cannot insert an item into a list if it is already in a list', !(item as any)[PARENT_PROP])\n  }\n\n  _ensureItemIsInThisList(item: T) {\n    assert('Cannot remove item that is in another list', getParent(item) === this)\n  }\n}\n\nfunction getParent<T extends LinkedListItem<T>>(item: {}): LinkedList<T> | null {\n  return (item as any)[PARENT_PROP] || null\n}\n","import { forEach, reduce } from '../utils/array-utils'\nimport { Range } from '../utils/cursor'\nimport Set from '../utils/set'\nimport LinkedList from '../utils/linked-list'\nimport assert from '../utils/assert'\nimport Position from '../utils/cursor/position'\nimport Section from './_section'\nimport Marker from './marker'\n\nexport default abstract class Markerable extends Section {\n  tagName: string\n  markers: LinkedList<Marker>\n  builder: any\n\n  constructor(type: string, tagName: string, markers = []) {\n    super(type)\n    this.isMarkerable = true\n    this.tagName = tagName\n    this.markers = new LinkedList({\n      adoptItem: m => {\n        assert(`Can only insert markers and atoms into markerable (was: ${m.type})`, m.isMarker || m.isAtom)\n        m.section = m.parent = this\n      },\n      freeItem: m => (m.section = m.parent = null),\n    })\n\n    markers.forEach(m => this.markers.append(m))\n  }\n\n  canJoin(other: Section) {\n    return other.isMarkerable && other.type === this.type && other.tagName === this.tagName\n  }\n\n  clone() {\n    const newMarkers = this.markers.map(m => m.clone())\n    return this.builder.createMarkerableSection(this.type, this.tagName, newMarkers)\n  }\n\n  get isBlank() {\n    if (!this.markers.length) {\n      return true\n    }\n    return this.markers.every(m => m.isBlank)\n  }\n\n  textUntil(position: Position) {\n    assert(`Cannot get textUntil for a position not in this section`, position.section === this)\n    let { marker, offsetInMarker } = position\n    let text = ''\n    let currentMarker = this.markers.head\n    while (currentMarker) {\n      if (currentMarker === marker) {\n        text += currentMarker.textUntil(offsetInMarker)\n        break\n      } else {\n        text += currentMarker.text\n        currentMarker = currentMarker.next\n      }\n    }\n    return text\n  }\n\n  /**\n   * @param {Marker}\n   * @param {Number} markerOffset The offset relative to the start of the marker\n   *\n   * @return {Number} The offset relative to the start of this section\n   */\n  offsetOfMarker(marker: Marker, markerOffset = 0) {\n    assert(`Cannot get offsetOfMarker for marker that is not child of this`, marker.section === this)\n\n    // FIXME it is possible, when we get a cursor position before having finished reparsing,\n    // for markerOffset to be > marker.length. We shouldn't rely on this functionality.\n\n    let offset = 0\n    let currentMarker = this.markers.head\n    while (currentMarker && currentMarker !== marker.next) {\n      let length = currentMarker === marker ? markerOffset : currentMarker.length\n      offset += length\n      currentMarker = currentMarker.next\n    }\n\n    return offset\n  }\n\n  // puts clones of this.markers into beforeSection and afterSection,\n  // all markers before the marker/offset split go in beforeSection, and all\n  // after the marker/offset split go in afterSection\n  // @return {Array} [beforeSection, afterSection], two new sections\n  _redistributeMarkers(beforeSection: Markerable, afterSection: Markerable, marker: Marker, offset = 0) {\n    let currentSection = beforeSection\n    forEach(this.markers, m => {\n      if (m === marker) {\n        const [beforeMarker, ...afterMarkers] = marker.split(offset)\n        beforeSection.markers.append(beforeMarker)\n        forEach(afterMarkers, _m => afterSection.markers.append(_m))\n        currentSection = afterSection\n      } else {\n        currentSection.markers.append(m.clone())\n      }\n    })\n\n    return [beforeSection, afterSection]\n  }\n\n  abstract splitAtMarker(marker: Marker, offset: number): [Section, Section]\n\n  /**\n   * Split this section's marker (if any) at the given offset, so that\n   * there is now a marker boundary at that offset (useful for later applying\n   * a markup to a range)\n   * @param {Number} sectionOffset The offset relative to start of this section\n   * @return {EditObject} An edit object with 'removed' and 'added' keys with arrays of Markers. The added markers may be blank.\n   * After calling `splitMarkerAtOffset(offset)`, there will always be a valid\n   * result returned from `markerBeforeOffset(offset)`.\n   */\n  splitMarkerAtOffset(sectionOffset: number) {\n    assert('Cannot splitMarkerAtOffset when offset is > length', sectionOffset <= this.length)\n    let markerOffset\n    let len = 0\n    let currentMarker = this.markers.head\n    let edit: { added: Marker[]; removed: Marker[] } = { added: [], removed: [] }\n\n    if (!currentMarker) {\n      let blankMarker = this.builder.createMarker()\n      this.markers.prepend(blankMarker)\n      edit.added.push(blankMarker)\n    } else {\n      while (currentMarker) {\n        len += currentMarker.length\n        if (len === sectionOffset) {\n          // nothing to do, there is a gap at the requested offset\n          break\n        } else if (len > sectionOffset) {\n          markerOffset = currentMarker.length - (len - sectionOffset)\n          let newMarkers = currentMarker.splitAtOffset(markerOffset)\n          edit.added.push(...newMarkers)\n          edit.removed.push(currentMarker)\n          this.markers.splice(currentMarker, 1, newMarkers)\n          break\n        } else {\n          currentMarker = currentMarker.next\n        }\n      }\n    }\n\n    return edit\n  }\n\n  splitAtPosition(position: Position) {\n    const { marker, offsetInMarker } = position\n    return this.splitAtMarker(marker!, offsetInMarker)\n  }\n\n  // returns the marker just before this offset.\n  // It is an error to call this method with an offset that is in the middle\n  // of a marker.\n  markerBeforeOffset(sectionOffset: number) {\n    let len = 0\n    let currentMarker = this.markers.head\n\n    while (currentMarker) {\n      len += currentMarker.length\n      if (len === sectionOffset) {\n        return currentMarker\n      } else {\n        assert('markerBeforeOffset called with sectionOffset not between markers', len < sectionOffset)\n        currentMarker = currentMarker.next\n      }\n    }\n  }\n\n  markerPositionAtOffset(offset: number) {\n    let currentOffset = 0\n    let currentMarker: Marker | null = null\n    let remaining = offset\n    this.markers.detect(marker => {\n      currentOffset = Math.min(remaining, marker.length)\n      remaining -= currentOffset\n      if (remaining === 0) {\n        currentMarker = marker\n        return true // break out of detect\n      }\n      return false\n    })\n\n    return { marker: currentMarker!, offset: currentOffset }\n  }\n\n  get text() {\n    return reduce(this.markers, (prev, m) => prev + m.value, '')\n  }\n\n  get length() {\n    return reduce(this.markers, (prev, m) => prev + m.length, 0)\n  }\n\n  /**\n   * @return {Array} New markers that match the boundaries of the\n   * range. Does not change the existing markers in this section.\n   */\n  markersFor(headOffset: number, tailOffset: number) {\n    const range = Range.create(this, headOffset, this, tailOffset)\n\n    let markers: Marker[] = []\n    this._markersInRange(range, (marker, { markerHead, markerTail, isContained }) => {\n      const cloned = marker.clone()\n      if (!isContained) {\n        // cannot do marker.value.slice if the marker is an atom -- this breaks the atom's \"atomic\" value\n        // If a marker is an atom `isContained` should always be true so\n        // we shouldn't hit this code path. FIXME add tests\n        cloned.value = marker.value.slice(markerHead, markerTail)\n      }\n      markers.push(cloned)\n    })\n    return markers\n  }\n\n  markupsInRange(range: Range) {\n    const markups = new Set()\n    this._markersInRange(range, marker => {\n      marker.markups.forEach(m => markups.add(m))\n    })\n    return markups.toArray()\n  }\n\n  // calls the callback with (marker, {markerHead, markerTail, isContained})\n  // for each marker that is wholly or partially contained in the range.\n  _markersInRange(\n    range: Range,\n    callback: (marker: Marker, info: { markerHead: number; markerTail: number; isContained: boolean }) => void\n  ) {\n    const { head, tail } = range\n    assert(\n      'Cannot call #_markersInRange if range expands beyond this section',\n      head.section === this && tail.section === this\n    )\n    const { offset: headOffset } = head,\n      { offset: tailOffset } = tail\n\n    let currentHead = 0,\n      currentTail = 0,\n      currentMarker = this.markers.head\n\n    while (currentMarker) {\n      currentTail += currentMarker.length\n\n      if (currentTail > headOffset && currentHead < tailOffset) {\n        let markerHead = Math.max(headOffset - currentHead, 0)\n        let markerTail = currentMarker.length - Math.max(currentTail - tailOffset, 0)\n        let isContained = markerHead === 0 && markerTail === currentMarker.length\n\n        callback(currentMarker, { markerHead, markerTail, isContained })\n      }\n\n      currentHead += currentMarker.length\n      currentMarker = currentMarker.next\n\n      if (currentHead > tailOffset) {\n        break\n      }\n    }\n  }\n\n  // mutates this by appending the other section's (cloned) markers to it\n  join(otherSection: Markerable) {\n    let beforeMarker = this.markers.tail\n    let afterMarker: Marker | null = null\n\n    otherSection.markers.forEach(m => {\n      if (!m.isBlank) {\n        m = m.clone()\n        this.markers.append(m)\n        if (!afterMarker) {\n          afterMarker = m\n        }\n      }\n    })\n\n    return { beforeMarker, afterMarker }\n  }\n}\n","import { entries } from '../utils/object-utils'\nimport { contains } from '../utils/array-utils'\n\nexport const VALID_ATTRIBUTES = ['data-md-text-align']\n\n/*\n * A \"mixin\" to add section attribute support\n * to markup and list sections.\n */\nexport function attributable(ctx) {\n  ctx.attributes = {}\n\n  ctx.hasAttribute = key => key in ctx.attributes\n\n  ctx.setAttribute = (key, value) => {\n    if (!contains(VALID_ATTRIBUTES, key)) {\n      throw new Error(`Invalid attribute \"${key}\" was passed. Constrain attributes to the spec-compliant whitelist.`)\n    }\n    ctx.attributes[key] = value\n  }\n  ctx.removeAttribute = key => {\n    delete ctx.attributes[key]\n  }\n  ctx.getAttribute = key => ctx.attributes[key]\n  ctx.eachAttribute = cb => {\n    entries(ctx.attributes).forEach(([k, v]) => cb(k, v))\n  }\n}\n","import Markerable from './_markerable'\nimport { attributable } from './_attributable'\nimport { MARKUP_SECTION_TYPE } from './types'\n\nimport { normalizeTagName } from '../utils/dom-utils'\nimport { contains } from '../utils/array-utils'\nimport { entries } from '../utils/object-utils'\n\n// valid values of `tagName` for a MarkupSection\nexport const VALID_MARKUP_SECTION_TAGNAMES = ['aside', 'blockquote', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p'].map(\n  normalizeTagName\n)\n\n// valid element names for a MarkupSection. A MarkupSection with a tagName\n// not in this will be rendered as a div with a className matching the\n// tagName\nexport const MARKUP_SECTION_ELEMENT_NAMES = ['aside', 'blockquote', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p'].map(\n  normalizeTagName\n)\nexport const DEFAULT_TAG_NAME = VALID_MARKUP_SECTION_TAGNAMES[8]\n\nconst MarkupSection = class MarkupSection extends Markerable {\n  constructor(tagName = DEFAULT_TAG_NAME, markers = [], attributes = {}) {\n    super(MARKUP_SECTION_TYPE, tagName, markers)\n\n    attributable(this)\n    entries(attributes).forEach(([k, v]) => this.setAttribute(k, v))\n\n    this.isMarkupSection = true\n  }\n\n  isValidTagName(normalizedTagName) {\n    return contains(VALID_MARKUP_SECTION_TAGNAMES, normalizedTagName)\n  }\n\n  splitAtMarker(marker, offset = 0) {\n    let [beforeSection, afterSection] = [\n      this.builder.createMarkupSection(this.tagName, [], false, this.attributes),\n      this.builder.createMarkupSection(),\n    ]\n\n    return this._redistributeMarkers(beforeSection, afterSection, marker, offset)\n  }\n}\n\nexport default MarkupSection\n","import CardNode from 'mobiledoc-kit/models/card-node'\nimport { detect, forEach } from 'mobiledoc-kit/utils/array-utils'\nimport AtomNode from 'mobiledoc-kit/models/atom-node'\nimport {\n  POST_TYPE,\n  MARKUP_SECTION_TYPE,\n  LIST_SECTION_TYPE,\n  LIST_ITEM_TYPE,\n  MARKER_TYPE,\n  IMAGE_SECTION_TYPE,\n  CARD_TYPE,\n  ATOM_TYPE,\n} from '../models/types'\nimport { startsWith, endsWith } from '../utils/string-utils'\nimport { addClassName, removeClassName } from '../utils/dom-utils'\nimport { MARKUP_SECTION_ELEMENT_NAMES } from '../models/markup-section'\nimport assert from '../utils/assert'\nimport { TAB } from 'mobiledoc-kit/utils/characters'\n\nexport const CARD_ELEMENT_CLASS_NAME = '__mobiledoc-card'\nexport const NO_BREAK_SPACE = '\\u00A0'\nexport const TAB_CHARACTER = '\\u2003'\nexport const SPACE = ' '\nexport const ZWNJ = '\\u200c'\nexport const ATOM_CLASS_NAME = '-mobiledoc-kit__atom'\nexport const EDITOR_HAS_NO_CONTENT_CLASS_NAME = '__has-no-content'\nexport const EDITOR_ELEMENT_CLASS_NAME = '__mobiledoc-editor'\n\nfunction createElementFromMarkup(doc, markup) {\n  let element = doc.createElement(markup.tagName)\n  Object.keys(markup.attributes).forEach(k => {\n    element.setAttribute(k, markup.attributes[k])\n  })\n  return element\n}\n\nconst TWO_SPACES = `${SPACE}${SPACE}`\nconst SPACE_AND_NO_BREAK = `${SPACE}${NO_BREAK_SPACE}`\nconst SPACES_REGEX = new RegExp(TWO_SPACES, 'g')\nconst TAB_REGEX = new RegExp(TAB, 'g')\nconst endsWithSpace = function (text) {\n  return endsWith(text, SPACE)\n}\nconst startsWithSpace = function (text) {\n  return startsWith(text, SPACE)\n}\n\n// FIXME: This can be done more efficiently with a single pass\n// building a correct string based on the original.\nfunction renderHTMLText(marker) {\n  let text = marker.value\n  text = text.replace(SPACES_REGEX, SPACE_AND_NO_BREAK).replace(TAB_REGEX, TAB_CHARACTER)\n\n  // If the first marker has a leading space or the last marker has a\n  // trailing space, the browser will collapse the space when we position\n  // the cursor.\n  // See https://github.com/bustle/mobiledoc-kit/issues/68\n  //   and https://github.com/bustle/mobiledoc-kit/issues/75\n  if (marker.isMarker && endsWithSpace(text) && !marker.next) {\n    text = text.substr(0, text.length - 1) + NO_BREAK_SPACE\n  }\n  if (\n    marker.isMarker &&\n    startsWithSpace(text) &&\n    (!marker.prev || (marker.prev.isMarker && endsWithSpace(marker.prev.value)))\n  ) {\n    text = NO_BREAK_SPACE + text.substr(1)\n  }\n  return text\n}\n\n// ascends from element upward, returning the last parent node that is not\n// parentElement\nfunction penultimateParentOf(element, parentElement) {\n  while (\n    parentElement &&\n    element.parentNode !== parentElement &&\n    element.parentNode !== document.body // ensure the while loop stops\n  ) {\n    element = element.parentNode\n  }\n  return element\n}\n\nfunction setSectionAttributesOnElement(section, element) {\n  section.eachAttribute((key, value) => {\n    element.setAttribute(key, value)\n  })\n}\n\nfunction renderMarkupSection(section) {\n  let element\n  if (MARKUP_SECTION_ELEMENT_NAMES.indexOf(section.tagName) !== -1) {\n    element = document.createElement(section.tagName)\n  } else {\n    element = document.createElement('div')\n    addClassName(element, section.tagName)\n  }\n\n  setSectionAttributesOnElement(section, element)\n\n  return element\n}\n\nfunction renderListSection(section) {\n  let element = document.createElement(section.tagName)\n\n  setSectionAttributesOnElement(section, element)\n\n  return element\n}\n\nfunction renderListItem() {\n  return document.createElement('li')\n}\n\nfunction renderCursorPlaceholder() {\n  return document.createElement('br')\n}\n\nfunction renderInlineCursorPlaceholder() {\n  return document.createTextNode(ZWNJ)\n}\n\nfunction renderCard() {\n  let wrapper = document.createElement('div')\n  let cardElement = document.createElement('div')\n  cardElement.contentEditable = false\n  addClassName(cardElement, CARD_ELEMENT_CLASS_NAME)\n  wrapper.appendChild(renderInlineCursorPlaceholder())\n  wrapper.appendChild(cardElement)\n  wrapper.appendChild(renderInlineCursorPlaceholder())\n  return { wrapper, cardElement }\n}\n\n/**\n * Wrap the element in all of the opened markups\n * @return {DOMElement} the wrapped element\n * @private\n */\nfunction wrapElement(element, openedMarkups) {\n  let wrappedElement = element\n\n  for (let i = openedMarkups.length - 1; i >= 0; i--) {\n    let markup = openedMarkups[i]\n    let openedElement = createElementFromMarkup(document, markup)\n    openedElement.appendChild(wrappedElement)\n    wrappedElement = openedElement\n  }\n\n  return wrappedElement\n}\n\n// Attach the element to its parent element at the correct position based on the\n// previousRenderNode\nfunction attachElementToParent(element, parentElement, previousRenderNode = null) {\n  if (previousRenderNode) {\n    let previousSibling = previousRenderNode.element\n    let previousSiblingPenultimate = penultimateParentOf(previousSibling, parentElement)\n    parentElement.insertBefore(element, previousSiblingPenultimate.nextSibling)\n  } else {\n    parentElement.insertBefore(element, parentElement.firstChild)\n  }\n}\n\nfunction renderAtom(atom, element, previousRenderNode) {\n  let atomElement = document.createElement('span')\n  atomElement.contentEditable = false\n\n  let wrapper = document.createElement('span')\n  addClassName(wrapper, ATOM_CLASS_NAME)\n  let headTextNode = renderInlineCursorPlaceholder()\n  let tailTextNode = renderInlineCursorPlaceholder()\n\n  wrapper.appendChild(headTextNode)\n  wrapper.appendChild(atomElement)\n  wrapper.appendChild(tailTextNode)\n\n  let wrappedElement = wrapElement(wrapper, atom.openedMarkups)\n  attachElementToParent(wrappedElement, element, previousRenderNode)\n\n  return {\n    markupElement: wrappedElement,\n    wrapper,\n    atomElement,\n    headTextNode,\n    tailTextNode,\n  }\n}\n\nfunction getNextMarkerElement(renderNode) {\n  let element = renderNode.element.parentNode\n  let marker = renderNode.postNode\n  let closedCount = marker.closedMarkups.length\n\n  while (closedCount--) {\n    element = element.parentNode\n  }\n  return element\n}\n\n/**\n * Render the marker\n * @param {Marker} marker the marker to render\n * @param {DOMNode} element the element to attach the rendered marker to\n * @param {RenderNode} [previousRenderNode] The render node before this one, which\n *        affects the determination of where to insert this rendered marker.\n * @return {Object} With properties `element` and `markupElement`.\n *         The element (textNode) that has the text for\n *         this marker, and the outermost rendered element. If the marker has no\n *         markups, element and markupElement will be the same textNode\n * @private\n */\nfunction renderMarker(marker, parentElement, previousRenderNode) {\n  let text = renderHTMLText(marker)\n\n  let element = document.createTextNode(text)\n  let markupElement = wrapElement(element, marker.openedMarkups)\n  attachElementToParent(markupElement, parentElement, previousRenderNode)\n\n  return { element, markupElement }\n}\n\n// Attach the render node's element to the DOM,\n// replacing the originalElement if it exists\nfunction attachRenderNodeElementToDOM(renderNode, originalElement = null) {\n  const element = renderNode.element\n  const hasRendered = !!originalElement\n\n  if (hasRendered) {\n    let parentElement = renderNode.parent.element\n    parentElement.replaceChild(element, originalElement)\n  } else {\n    let parentElement, nextSiblingElement\n    if (renderNode.prev) {\n      let previousElement = renderNode.prev.element\n      parentElement = previousElement.parentNode\n      nextSiblingElement = previousElement.nextSibling\n    } else {\n      parentElement = renderNode.parent.element\n      nextSiblingElement = parentElement.firstChild\n    }\n    parentElement.insertBefore(element, nextSiblingElement)\n  }\n}\n\nfunction removeRenderNodeSectionFromParent(renderNode, section) {\n  const parent = renderNode.parent.postNode\n  parent.sections.remove(section)\n}\n\nfunction removeRenderNodeElementFromParent(renderNode) {\n  if (renderNode.element && renderNode.element.parentNode) {\n    renderNode.element.parentNode.removeChild(renderNode.element)\n  }\n}\n\nfunction validateCards(cards = []) {\n  forEach(cards, card => {\n    assert(`Card \"${card.name}\" must define type \"dom\", has: \"${card.type}\"`, card.type === 'dom')\n    assert(`Card \"${card.name}\" must define \\`render\\` method`, !!card.render)\n  })\n  return cards\n}\n\nfunction validateAtoms(atoms = []) {\n  forEach(atoms, atom => {\n    assert(`Atom \"${atom.name}\" must define type \"dom\", has: \"${atom.type}\"`, atom.type === 'dom')\n    assert(`Atom \"${atom.name}\" must define \\`render\\` method`, !!atom.render)\n  })\n  return atoms\n}\n\nclass Visitor {\n  constructor(editor, cards, atoms, unknownCardHandler, unknownAtomHandler, options) {\n    this.editor = editor\n    this.cards = validateCards(cards)\n    this.atoms = validateAtoms(atoms)\n    this.unknownCardHandler = unknownCardHandler\n    this.unknownAtomHandler = unknownAtomHandler\n    this.options = options\n  }\n\n  _findCard(cardName) {\n    let card = detect(this.cards, card => card.name === cardName)\n    return card || this._createUnknownCard(cardName)\n  }\n\n  _createUnknownCard(cardName) {\n    assert(`Unknown card \"${cardName}\" found, but no unknownCardHandler is defined`, !!this.unknownCardHandler)\n\n    return {\n      name: cardName,\n      type: 'dom',\n      render: this.unknownCardHandler,\n      edit: this.unknownCardHandler,\n    }\n  }\n\n  _findAtom(atomName) {\n    let atom = detect(this.atoms, atom => atom.name === atomName)\n    return atom || this._createUnknownAtom(atomName)\n  }\n\n  _createUnknownAtom(atomName) {\n    assert(`Unknown atom \"${atomName}\" found, but no unknownAtomHandler is defined`, !!this.unknownAtomHandler)\n\n    return {\n      name: atomName,\n      type: 'dom',\n      render: this.unknownAtomHandler,\n    }\n  }\n\n  [POST_TYPE](renderNode, post, visit) {\n    if (!renderNode.element) {\n      renderNode.element = document.createElement('div')\n    }\n    addClassName(renderNode.element, EDITOR_ELEMENT_CLASS_NAME)\n    if (post.hasContent) {\n      removeClassName(renderNode.element, EDITOR_HAS_NO_CONTENT_CLASS_NAME)\n    } else {\n      addClassName(renderNode.element, EDITOR_HAS_NO_CONTENT_CLASS_NAME)\n    }\n    visit(renderNode, post.sections)\n  }\n\n  [MARKUP_SECTION_TYPE](renderNode, section, visit) {\n    const originalElement = renderNode.element\n\n    // Always rerender the section -- its tag name or attributes may have changed.\n    // TODO make this smarter, only rerendering and replacing the element when necessary\n    renderNode.element = renderMarkupSection(section)\n    renderNode.cursorElement = null\n    attachRenderNodeElementToDOM(renderNode, originalElement)\n\n    if (section.isBlank) {\n      let cursorPlaceholder = renderCursorPlaceholder()\n      renderNode.element.appendChild(cursorPlaceholder)\n      renderNode.cursorElement = cursorPlaceholder\n    } else {\n      const visitAll = true\n      visit(renderNode, section.markers, visitAll)\n    }\n  }\n\n  [LIST_SECTION_TYPE](renderNode, section, visit) {\n    const originalElement = renderNode.element\n\n    renderNode.element = renderListSection(section)\n    attachRenderNodeElementToDOM(renderNode, originalElement)\n\n    const visitAll = true\n    visit(renderNode, section.items, visitAll)\n  }\n\n  [LIST_ITEM_TYPE](renderNode, item, visit) {\n    // FIXME do we need to do anything special for rerenders?\n    renderNode.element = renderListItem()\n    renderNode.cursorElement = null\n    attachRenderNodeElementToDOM(renderNode, null)\n\n    if (item.isBlank) {\n      let cursorPlaceholder = renderCursorPlaceholder()\n      renderNode.element.appendChild(cursorPlaceholder)\n      renderNode.cursorElement = cursorPlaceholder\n    } else {\n      const visitAll = true\n      visit(renderNode, item.markers, visitAll)\n    }\n  }\n\n  [MARKER_TYPE](renderNode, marker) {\n    let parentElement\n\n    if (renderNode.prev) {\n      parentElement = getNextMarkerElement(renderNode.prev)\n    } else {\n      parentElement = renderNode.parent.element\n    }\n\n    let { element, markupElement } = renderMarker(marker, parentElement, renderNode.prev)\n\n    renderNode.element = element\n    renderNode.markupElement = markupElement\n  }\n\n  [IMAGE_SECTION_TYPE](renderNode, section) {\n    if (renderNode.element) {\n      if (renderNode.element.src !== section.src) {\n        renderNode.element.src = section.src\n      }\n    } else {\n      let element = document.createElement('img')\n      element.src = section.src\n      if (renderNode.prev) {\n        let previousElement = renderNode.prev.element\n        let nextElement = previousElement.nextSibling\n        if (nextElement) {\n          nextElement.parentNode.insertBefore(element, nextElement)\n        }\n      }\n      if (!element.parentNode) {\n        renderNode.parent.element.appendChild(element)\n      }\n      renderNode.element = element\n    }\n  }\n\n  [CARD_TYPE](renderNode, section) {\n    const originalElement = renderNode.element\n    const { editor, options } = this\n\n    const card = this._findCard(section.name)\n\n    let { wrapper, cardElement } = renderCard()\n    renderNode.element = wrapper\n    attachRenderNodeElementToDOM(renderNode, originalElement)\n\n    const cardNode = new CardNode(editor, card, section, cardElement, options)\n    renderNode.cardNode = cardNode\n\n    const initialMode = section._initialMode\n    cardNode[initialMode]()\n  }\n\n  [ATOM_TYPE](renderNode, atomModel) {\n    let parentElement\n\n    if (renderNode.prev) {\n      parentElement = getNextMarkerElement(renderNode.prev)\n    } else {\n      parentElement = renderNode.parent.element\n    }\n\n    const { editor, options } = this\n    const { wrapper, markupElement, atomElement, headTextNode, tailTextNode } = renderAtom(\n      atomModel,\n      parentElement,\n      renderNode.prev\n    )\n    const atom = this._findAtom(atomModel.name)\n\n    let atomNode = renderNode.atomNode\n    if (!atomNode) {\n      // create new AtomNode\n      atomNode = new AtomNode(editor, atom, atomModel, atomElement, options)\n    } else {\n      // retarget atomNode to new atom element\n      atomNode.element = atomElement\n    }\n\n    atomNode.render()\n\n    renderNode.atomNode = atomNode\n    renderNode.element = wrapper\n    renderNode.headTextNode = headTextNode\n    renderNode.tailTextNode = tailTextNode\n    renderNode.markupElement = markupElement\n  }\n}\n\nlet destroyHooks = {\n  [POST_TYPE](/*renderNode, post*/) {\n    assert('post destruction is not supported by the renderer', false)\n  },\n\n  [MARKUP_SECTION_TYPE](renderNode, section) {\n    removeRenderNodeSectionFromParent(renderNode, section)\n    removeRenderNodeElementFromParent(renderNode)\n  },\n\n  [LIST_SECTION_TYPE](renderNode, section) {\n    removeRenderNodeSectionFromParent(renderNode, section)\n    removeRenderNodeElementFromParent(renderNode)\n  },\n\n  [LIST_ITEM_TYPE](renderNode, li) {\n    removeRenderNodeSectionFromParent(renderNode, li)\n    removeRenderNodeElementFromParent(renderNode)\n  },\n\n  [MARKER_TYPE](renderNode, marker) {\n    // FIXME before we render marker, should delete previous renderNode's element\n    // and up until the next marker element\n\n    // If an atom throws during render we may end up later destroying a renderNode\n    // that has not rendered yet, so exit early here if so.\n    if (!renderNode.isRendered) {\n      return\n    }\n    let { markupElement } = renderNode\n\n    if (marker.section) {\n      marker.section.markers.remove(marker)\n    }\n\n    if (markupElement.parentNode) {\n      // if no parentNode, the browser already removed this element\n      markupElement.parentNode.removeChild(markupElement)\n    }\n  },\n\n  [IMAGE_SECTION_TYPE](renderNode, section) {\n    removeRenderNodeSectionFromParent(renderNode, section)\n    removeRenderNodeElementFromParent(renderNode)\n  },\n\n  [CARD_TYPE](renderNode, section) {\n    if (renderNode.cardNode) {\n      renderNode.cardNode.teardown()\n    }\n    removeRenderNodeSectionFromParent(renderNode, section)\n    removeRenderNodeElementFromParent(renderNode)\n  },\n\n  [ATOM_TYPE](renderNode, atom) {\n    if (renderNode.atomNode) {\n      renderNode.atomNode.teardown()\n    }\n\n    // an atom is a kind of marker so just call its destroy hook vs copying here\n    destroyHooks[MARKER_TYPE](renderNode, atom)\n  },\n}\n\n// removes children from parentNode (a RenderNode) that are scheduled for removal\nfunction removeDestroyedChildren(parentNode, forceRemoval = false) {\n  let child = parentNode.childNodes.head\n  let nextChild, method\n  while (child) {\n    nextChild = child.next\n    if (child.isRemoved || forceRemoval) {\n      removeDestroyedChildren(child, true)\n      method = child.postNode.type\n      assert(`editor-dom cannot destroy \"${method}\"`, !!destroyHooks[method])\n      destroyHooks[method](child, child.postNode)\n      parentNode.childNodes.remove(child)\n    }\n    child = nextChild\n  }\n}\n\n// Find an existing render node for the given postNode, or\n// create one, insert it into the tree, and return it\nfunction lookupNode(renderTree, parentNode, postNode, previousNode) {\n  if (postNode.renderNode) {\n    return postNode.renderNode\n  } else {\n    const renderNode = renderTree.buildRenderNode(postNode)\n    parentNode.childNodes.insertAfter(renderNode, previousNode)\n    return renderNode\n  }\n}\n\nexport default class Renderer {\n  constructor(editor, cards, atoms, unknownCardHandler, unknownAtomHandler, options) {\n    this.editor = editor\n    this.visitor = new Visitor(editor, cards, atoms, unknownCardHandler, unknownAtomHandler, options)\n    this.nodes = []\n    this.hasRendered = false\n  }\n\n  destroy() {\n    if (!this.hasRendered) {\n      return\n    }\n    let renderNode = this.renderTree.rootNode\n    let force = true\n    removeDestroyedChildren(renderNode, force)\n  }\n\n  visit(renderTree, parentNode, postNodes, visitAll = false) {\n    let previousNode\n    postNodes.forEach(postNode => {\n      let node = lookupNode(renderTree, parentNode, postNode, previousNode)\n      if (node.isDirty || visitAll) {\n        this.nodes.push(node)\n      }\n      previousNode = node\n    })\n  }\n\n  render(renderTree) {\n    this.hasRendered = true\n    this.renderTree = renderTree\n    let renderNode = renderTree.rootNode\n    let method, postNode\n\n    while (renderNode) {\n      removeDestroyedChildren(renderNode)\n      postNode = renderNode.postNode\n\n      method = postNode.type\n      assert(`EditorDom visitor cannot handle type ${method}`, !!this.visitor[method])\n      this.visitor[method](renderNode, postNode, (...args) => this.visit(renderTree, ...args))\n      renderNode.markClean()\n      renderNode = this.nodes.shift()\n    }\n  }\n}\n","import { LIST_SECTION_TYPE } from './types'\nimport Section from './_section'\nimport { attributable } from './_attributable'\n\nimport LinkedList from '../utils/linked-list'\nimport { forEach, contains } from '../utils/array-utils'\nimport { normalizeTagName } from '../utils/dom-utils'\nimport assert from '../utils/assert'\nimport { entries } from '../utils/object-utils'\n\nexport const VALID_LIST_SECTION_TAGNAMES = ['ul', 'ol'].map(normalizeTagName)\n\nexport const DEFAULT_TAG_NAME = VALID_LIST_SECTION_TAGNAMES[0]\n\nexport default class ListSection extends Section {\n  constructor(tagName = DEFAULT_TAG_NAME, items = [], attributes = {}) {\n    super(LIST_SECTION_TYPE)\n    this.tagName = tagName\n    this.isListSection = true\n    this.isLeafSection = false\n\n    attributable(this)\n    entries(attributes).forEach(([k, v]) => this.setAttribute(k, v))\n\n    this.items = new LinkedList({\n      adoptItem: i => {\n        assert(`Cannot insert non-list-item to list (is: ${i.type})`, i.isListItem)\n        i.section = i.parent = this\n      },\n      freeItem: i => (i.section = i.parent = null),\n    })\n    this.sections = this.items\n\n    items.forEach(i => this.items.append(i))\n  }\n\n  canJoin() {\n    return false\n  }\n\n  isValidTagName(normalizedTagName) {\n    return contains(VALID_LIST_SECTION_TAGNAMES, normalizedTagName)\n  }\n\n  headPosition() {\n    return this.items.head.headPosition()\n  }\n\n  tailPosition() {\n    return this.items.tail.tailPosition()\n  }\n\n  get isBlank() {\n    return this.items.isEmpty\n  }\n\n  clone() {\n    let newSection = this.builder.createListSection(this.tagName)\n    forEach(this.items, i => newSection.items.append(i.clone()))\n    return newSection\n  }\n\n  /**\n   * Mutates this list\n   * @param {ListSection|Markerable}\n   * @return null\n   */\n  join(other) {\n    if (other.isListSection) {\n      other.items.forEach(i => this.join(i))\n    } else if (other.isMarkerable) {\n      let item = this.builder.createListItem()\n      item.join(other)\n      this.items.append(item)\n    }\n  }\n}\n","import Markerable from './_markerable'\nimport { LIST_ITEM_TYPE } from './types'\nimport { normalizeTagName } from '../utils/dom-utils'\nimport { contains } from 'mobiledoc-kit/utils/array-utils'\n\nexport const VALID_LIST_ITEM_TAGNAMES = ['li'].map(normalizeTagName)\n\nexport default class ListItem extends Markerable {\n  constructor(tagName, markers = []) {\n    super(LIST_ITEM_TYPE, tagName, markers)\n    this.isListItem = true\n    this.isNested = true\n  }\n\n  isValidTagName(normalizedTagName) {\n    return contains(VALID_LIST_ITEM_TAGNAMES, normalizedTagName)\n  }\n\n  splitAtMarker(marker, offset = 0) {\n    // FIXME need to check if we are going to split into two list items\n    // or a list item and a new markup section:\n    const isLastItem = !this.next\n    const createNewSection = !marker && offset === 0 && isLastItem\n\n    let [beforeSection, afterSection] = [\n      this.builder.createListItem(),\n      createNewSection ? this.builder.createMarkupSection() : this.builder.createListItem(),\n    ]\n\n    return this._redistributeMarkers(beforeSection, afterSection, marker, offset)\n  }\n\n  get post() {\n    return this.section.post\n  }\n}\n","import { normalizeTagName } from '../utils/dom-utils'\nimport { filterObject } from '../utils/array-utils'\nimport { MARKUP_TYPE } from './types'\nimport assert from '../utils/assert'\n\nexport const VALID_MARKUP_TAGNAMES = [\n  'a',\n  'b',\n  'code',\n  'em',\n  'i',\n  's', // strikethrough\n  'del', // deleted text (also strikethrough)\n  'strong',\n  'sub', // subscript\n  'sup', // superscript\n  'u',\n].map(normalizeTagName)\n\nexport const VALID_ATTRIBUTES = ['href', 'rel']\n\n/**\n * A Markup is similar with an inline HTML tag that might be added to\n * text to modify its meaning and/or display. Examples of types of markup\n * that could be added are bold ('b'), italic ('i'), strikethrough ('s'), and `a` tags (links).\n * @property {String} tagName\n */\nclass Markup {\n  /*\n   * @param {Object} attributes key-values\n   */\n  constructor(tagName, attributes = {}) {\n    this.tagName = normalizeTagName(tagName)\n\n    assert('Must use attributes object param (not array) for Markup', !Array.isArray(attributes))\n\n    this.attributes = filterObject(attributes, VALID_ATTRIBUTES)\n    this.type = MARKUP_TYPE\n\n    assert(`Cannot create markup of tagName ${tagName}`, VALID_MARKUP_TAGNAMES.indexOf(this.tagName) !== -1)\n  }\n\n  /**\n   * Whether text in the forward direction of the cursor (i.e. to the right in ltr text)\n   * should be considered to have this markup applied to it.\n   * @private\n   */\n  isForwardInclusive() {\n    return this.tagName === normalizeTagName('a') ? false : true\n  }\n\n  isBackwardInclusive() {\n    return false\n  }\n\n  hasTag(tagName) {\n    return this.tagName === normalizeTagName(tagName)\n  }\n\n  /**\n   * Returns the attribute value\n   * @param {String} name, e.g. \"href\"\n   */\n  getAttribute(name) {\n    return this.attributes[name]\n  }\n\n  static isValidElement(element) {\n    const tagName = normalizeTagName(element.tagName)\n    return VALID_MARKUP_TAGNAMES.indexOf(tagName) !== -1\n  }\n}\n\nexport default Markup\n","import { DEFAULT_TAG_NAME, VALID_MARKUP_SECTION_TAGNAMES } from 'mobiledoc-kit/models/markup-section'\nimport { VALID_LIST_SECTION_TAGNAMES } from 'mobiledoc-kit/models/list-section'\nimport { VALID_LIST_ITEM_TAGNAMES } from 'mobiledoc-kit/models/list-item'\nimport { LIST_SECTION_TYPE, LIST_ITEM_TYPE, MARKUP_SECTION_TYPE } from 'mobiledoc-kit/models/types'\nimport { VALID_MARKUP_TAGNAMES } from 'mobiledoc-kit/models/markup'\nimport { getAttributes, normalizeTagName, isTextNode, isCommentNode, NODE_TYPES } from '../utils/dom-utils'\nimport { any, forEach, contains } from 'mobiledoc-kit/utils/array-utils'\nimport { transformHTMLText, trimSectionText } from '../parsers/dom'\nimport assert from '../utils/assert'\n\nconst SKIPPABLE_ELEMENT_TAG_NAMES = ['style', 'head', 'title', 'meta'].map(normalizeTagName)\n\nconst NEWLINES = /\\s*\\n\\s*/g\nfunction sanitize(text) {\n  return text.replace(NEWLINES, ' ')\n}\n\n/**\n * parses an element into a section, ignoring any non-markup\n * elements contained within\n * @private\n */\nclass SectionParser {\n  constructor(builder, options = {}) {\n    this.builder = builder\n    this.plugins = options.plugins || []\n  }\n\n  parse(element) {\n    if (this._isSkippable(element)) {\n      return []\n    }\n    this.sections = []\n    this.state = {}\n\n    this._updateStateFromElement(element)\n\n    let finished = false\n\n    // top-level text nodes will be run through parseNode later so avoid running\n    // the node through parserPlugins twice\n    if (!isTextNode(element)) {\n      finished = this.runPlugins(element)\n    }\n\n    if (!finished) {\n      let childNodes = isTextNode(element) ? [element] : element.childNodes\n\n      forEach(childNodes, el => {\n        this.parseNode(el)\n      })\n    }\n\n    this._closeCurrentSection()\n\n    return this.sections\n  }\n\n  runPlugins(node) {\n    let isNodeFinished = false\n    let env = {\n      addSection: section => {\n        // avoid creating empty paragraphs due to wrapper elements around\n        // parser-plugin-handled elements\n        if (this.state.section && this.state.section.isMarkerable && !this.state.section.text && !this.state.text) {\n          this.state.section = null\n        } else {\n          this._closeCurrentSection()\n        }\n        this.sections.push(section)\n      },\n      addMarkerable: marker => {\n        let { state } = this\n        let { section } = state\n        // if the first element doesn't create it's own state and it's plugin\n        // handler uses `addMarkerable` we won't have a section yet\n        if (!section) {\n          state.text = ''\n          state.section = this.builder.createMarkupSection(normalizeTagName('p'))\n          section = state.section\n        }\n        assert(\n          'Markerables can only be appended to markup sections and list item sections',\n          section && section.isMarkerable\n        )\n        if (state.text) {\n          this._createMarker()\n        }\n        section.markers.append(marker)\n      },\n      nodeFinished() {\n        isNodeFinished = true\n      },\n    }\n    for (let i = 0; i < this.plugins.length; i++) {\n      let plugin = this.plugins[i]\n      plugin(node, this.builder, env)\n      if (isNodeFinished) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /* eslint-disable complexity */\n  parseNode(node) {\n    if (!this.state.section) {\n      this._updateStateFromElement(node)\n    }\n\n    let nodeFinished = this.runPlugins(node)\n    if (nodeFinished) {\n      return\n    }\n\n    // handle closing the current section and starting a new one if we hit a\n    // new-section-creating element.\n    if (this.state.section && !isTextNode(node) && node.tagName) {\n      let tagName = normalizeTagName(node.tagName)\n      let isListSection = contains(VALID_LIST_SECTION_TAGNAMES, tagName)\n      let isListItem = contains(VALID_LIST_ITEM_TAGNAMES, tagName)\n      let isMarkupSection = contains(VALID_MARKUP_SECTION_TAGNAMES, tagName)\n      let isNestedListSection = isListSection && this.state.section.isListItem\n      let lastSection = this.sections[this.sections.length - 1]\n\n      // lists can continue after breaking out for a markup section,\n      // in that situation, start a new list using the same list type\n      if (isListItem && this.state.section.isMarkupSection) {\n        this._closeCurrentSection()\n        this._updateStateFromElement(node.parentElement)\n      }\n\n      // we can hit a list item after parsing a nested list, when that happens\n      // and the lists are of different types we need to make sure we switch\n      // the list type back\n      if (isListItem && lastSection && lastSection.isListSection) {\n        let parentElement = node.parentElement\n        let parentElementTagName = normalizeTagName(parentElement.tagName)\n        if (parentElementTagName !== lastSection.tagName) {\n          this._closeCurrentSection()\n          this._updateStateFromElement(parentElement)\n        }\n      }\n\n      // if we've broken out of a list due to nested section-level elements we\n      // can hit the next list item without having a list section in the current\n      // state. In this instance we find the parent list node and use it to\n      // re-initialize the state with a new list section\n      if (\n        isListItem &&\n        !(this.state.section.isListItem || this.state.section.isListSection) &&\n        !lastSection.isListSection\n      ) {\n        this._closeCurrentSection()\n        this._updateStateFromElement(node.parentElement)\n      }\n\n      // if we have consecutive list sections of different types (ul, ol) then\n      // ensure we close the current section and start a new one\n      let isNewListSection =\n        lastSection &&\n        lastSection.isListSection &&\n        this.state.section.isListItem &&\n        isListSection &&\n        tagName !== lastSection.tagName\n\n      if (isNewListSection || (isListSection && !isNestedListSection) || isMarkupSection || isListItem) {\n        // don't break out of the list for list items that contain a single <p>.\n        // deals with typical case of <li><p>Text</p></li><li><p>Text</p></li>\n        if (\n          this.state.section.isListItem &&\n          tagName === 'p' &&\n          !node.nextSibling &&\n          contains(VALID_LIST_ITEM_TAGNAMES, normalizeTagName(node.parentElement.tagName))\n        ) {\n          this.parseElementNode(node)\n          return\n        }\n\n        // avoid creating empty paragraphs due to wrapper elements around\n        // section-creating elements\n        if (this.state.section.isMarkerable && !this.state.text && this.state.section.markers.length === 0) {\n          this.state.section = null\n        } else {\n          this._closeCurrentSection()\n        }\n\n        this._updateStateFromElement(node)\n      }\n\n      if (this.state.section.isListSection) {\n        // ensure the list section is closed and added to the sections list.\n        // _closeCurrentSection handles pushing list items onto the list section\n        this._closeCurrentSection()\n\n        forEach(node.childNodes, node => {\n          this.parseNode(node)\n        })\n        return\n      }\n    }\n\n    switch (node.nodeType) {\n      case NODE_TYPES.TEXT:\n        this.parseTextNode(node)\n        break\n      case NODE_TYPES.ELEMENT:\n        this.parseElementNode(node)\n        break\n    }\n  }\n\n  parseElementNode(element) {\n    let { state } = this\n\n    const markups = this._markupsFromElement(element)\n    if (markups.length && state.text.length && state.section.isMarkerable) {\n      this._createMarker()\n    }\n    state.markups.push(...markups)\n\n    forEach(element.childNodes, node => {\n      this.parseNode(node)\n    })\n\n    if (markups.length && state.text.length && state.section.isMarkerable) {\n      // create the marker started for this node\n      this._createMarker()\n    }\n\n    // pop the current markups from the stack\n    state.markups.splice(-markups.length, markups.length)\n  }\n\n  parseTextNode(textNode) {\n    let { state } = this\n    state.text += sanitize(textNode.textContent)\n  }\n\n  _updateStateFromElement(element) {\n    if (isCommentNode(element)) {\n      return\n    }\n\n    let { state } = this\n    state.section = this._createSectionFromElement(element)\n    state.markups = this._markupsFromElement(element)\n    state.text = ''\n  }\n\n  _closeCurrentSection() {\n    let { sections, state } = this\n    let lastSection = sections[sections.length - 1]\n\n    if (!state.section) {\n      return\n    }\n\n    // close a trailing text node if it exists\n    if (state.text.length && state.section.isMarkerable) {\n      this._createMarker()\n    }\n\n    // push listItems onto the listSection or add a new section\n    if (state.section.isListItem && lastSection && lastSection.isListSection) {\n      trimSectionText(state.section)\n      lastSection.items.append(state.section)\n    } else {\n      // avoid creating empty markup sections, especially useful for indented source\n      if (\n        state.section.isMarkerable &&\n        !state.section.text.trim() &&\n        !any(state.section.markers, marker => marker.isAtom)\n      ) {\n        state.section = null\n        state.text = ''\n        return\n      }\n\n      // remove empty list sections before creating a new section\n      if (lastSection && lastSection.isListSection && lastSection.items.length === 0) {\n        sections.pop()\n      }\n\n      sections.push(state.section)\n    }\n\n    state.section = null\n    state.text = ''\n  }\n\n  _markupsFromElement(element) {\n    let { builder } = this\n    let markups = []\n    if (isTextNode(element)) {\n      return markups\n    }\n\n    const tagName = normalizeTagName(element.tagName)\n    if (this._isValidMarkupForElement(tagName, element)) {\n      markups.push(builder.createMarkup(tagName, getAttributes(element)))\n    }\n\n    this._markupsFromElementStyle(element).forEach(markup => markups.push(markup))\n\n    return markups\n  }\n\n  _isValidMarkupForElement(tagName, element) {\n    if (VALID_MARKUP_TAGNAMES.indexOf(tagName) === -1) {\n      return false\n    } else if (tagName === 'b') {\n      // google docs add a <b style=\"font-weight: normal;\"> that should not\n      // create a \"b\" markup\n      return element.style.fontWeight !== 'normal'\n    }\n    return true\n  }\n\n  _markupsFromElementStyle(element) {\n    let { builder } = this\n    let markups = []\n    let { fontStyle, fontWeight } = element.style\n    if (fontStyle === 'italic') {\n      markups.push(builder.createMarkup('em'))\n    }\n    if (fontWeight === 'bold' || fontWeight === '700') {\n      markups.push(builder.createMarkup('strong'))\n    }\n    return markups\n  }\n\n  _createMarker() {\n    let { state } = this\n    let text = transformHTMLText(state.text)\n    let marker = this.builder.createMarker(text, state.markups)\n    state.section.markers.append(marker)\n    state.text = ''\n  }\n\n  _getSectionDetails(element) {\n    let sectionType,\n      tagName,\n      inferredTagName = false\n\n    if (isTextNode(element)) {\n      tagName = DEFAULT_TAG_NAME\n      sectionType = MARKUP_SECTION_TYPE\n      inferredTagName = true\n    } else {\n      tagName = normalizeTagName(element.tagName)\n\n      // blockquote>p is valid html and should be treated as a blockquote section\n      // rather than a plain markup section\n      if (\n        tagName === 'p' &&\n        element.parentElement &&\n        normalizeTagName(element.parentElement.tagName) === 'blockquote'\n      ) {\n        tagName = 'blockquote'\n      }\n\n      if (contains(VALID_LIST_SECTION_TAGNAMES, tagName)) {\n        sectionType = LIST_SECTION_TYPE\n      } else if (contains(VALID_LIST_ITEM_TAGNAMES, tagName)) {\n        sectionType = LIST_ITEM_TYPE\n      } else if (contains(VALID_MARKUP_SECTION_TAGNAMES, tagName)) {\n        sectionType = MARKUP_SECTION_TYPE\n      } else {\n        sectionType = MARKUP_SECTION_TYPE\n        tagName = DEFAULT_TAG_NAME\n        inferredTagName = true\n      }\n    }\n\n    return { sectionType, tagName, inferredTagName }\n  }\n\n  _createSectionFromElement(element) {\n    if (isCommentNode(element)) {\n      return\n    }\n\n    let { builder } = this\n    let section\n    let { tagName, sectionType, inferredTagName } = this._getSectionDetails(element)\n\n    switch (sectionType) {\n      case LIST_SECTION_TYPE:\n        section = builder.createListSection(tagName)\n        break\n      case LIST_ITEM_TYPE:\n        section = builder.createListItem()\n        break\n      case MARKUP_SECTION_TYPE:\n        section = builder.createMarkupSection(tagName)\n        section._inferredTagName = inferredTagName\n        break\n      default:\n        assert('Cannot parse section from element', false)\n    }\n\n    return section\n  }\n\n  _isSkippable(element) {\n    return (\n      element.nodeType === NODE_TYPES.ELEMENT &&\n      contains(SKIPPABLE_ELEMENT_TAG_NAMES, normalizeTagName(element.tagName))\n    )\n  }\n}\n\nexport default SectionParser\n","import { NO_BREAK_SPACE, TAB_CHARACTER, ATOM_CLASS_NAME } from '../renderers/editor-dom'\nimport { MARKUP_SECTION_TYPE, LIST_SECTION_TYPE, LIST_ITEM_TYPE } from '../models/types'\nimport { isTextNode, isCommentNode, isElementNode, getAttributes, normalizeTagName } from '../utils/dom-utils'\nimport { any, detect, forEach } from '../utils/array-utils'\nimport { TAB } from 'mobiledoc-kit/utils/characters'\nimport { ZWNJ } from 'mobiledoc-kit/renderers/editor-dom'\n\nimport SectionParser from 'mobiledoc-kit/parsers/section'\nimport Markup from 'mobiledoc-kit/models/markup'\n\nconst GOOGLE_DOCS_CONTAINER_ID_REGEX = /^docs-internal-guid/\n\nconst NO_BREAK_SPACE_REGEX = new RegExp(NO_BREAK_SPACE, 'g')\nconst TAB_CHARACTER_REGEX = new RegExp(TAB_CHARACTER, 'g')\nexport function transformHTMLText(textContent) {\n  let text = textContent\n  text = text.replace(NO_BREAK_SPACE_REGEX, ' ')\n  text = text.replace(TAB_CHARACTER_REGEX, TAB)\n  return text\n}\n\nexport function trimSectionText(section) {\n  if (section.isMarkerable && section.markers.length) {\n    let { head, tail } = section.markers\n    head.value = head.value.replace(/^\\s+/, '')\n    tail.value = tail.value.replace(/\\s+$/, '')\n  }\n}\n\nfunction isGoogleDocsContainer(element) {\n  return (\n    !isTextNode(element) &&\n    !isCommentNode(element) &&\n    normalizeTagName(element.tagName) === normalizeTagName('b') &&\n    GOOGLE_DOCS_CONTAINER_ID_REGEX.test(element.id)\n  )\n}\n\nfunction detectRootElement(element) {\n  let childNodes = element.childNodes || []\n  let googleDocsContainer = detect(childNodes, isGoogleDocsContainer)\n\n  if (googleDocsContainer) {\n    return googleDocsContainer\n  } else {\n    return element\n  }\n}\n\nconst TAG_REMAPPING = {\n  b: 'strong',\n  i: 'em',\n}\n\nfunction remapTagName(tagName) {\n  let normalized = normalizeTagName(tagName)\n  let remapped = TAG_REMAPPING[normalized]\n  return remapped || normalized\n}\n\nfunction trim(str) {\n  return str.replace(/^\\s+/, '').replace(/\\s+$/, '')\n}\n\nfunction walkMarkerableNodes(parent, callback) {\n  let currentNode = parent\n\n  if (isTextNode(currentNode) || (isElementNode(currentNode) && currentNode.classList.contains(ATOM_CLASS_NAME))) {\n    callback(currentNode)\n  } else {\n    currentNode = currentNode.firstChild\n    while (currentNode) {\n      walkMarkerableNodes(currentNode, callback)\n      currentNode = currentNode.nextSibling\n    }\n  }\n}\n\n/**\n * Parses DOM element -> Post\n * @private\n */\nclass DOMParser {\n  constructor(builder, options = {}) {\n    this.builder = builder\n    this.sectionParser = new SectionParser(this.builder, options)\n  }\n\n  parse(element) {\n    const post = this.builder.createPost()\n    let rootElement = detectRootElement(element)\n\n    this._eachChildNode(rootElement, child => {\n      let sections = this.parseSections(child)\n      this.appendSections(post, sections)\n    })\n\n    // trim leading/trailing whitespace of markerable sections to avoid\n    // unnessary whitespace from indented HTML input\n    forEach(post.sections, section => trimSectionText(section))\n\n    return post\n  }\n\n  appendSections(post, sections) {\n    forEach(sections, section => this.appendSection(post, section))\n  }\n\n  appendSection(post, section) {\n    if (\n      section.isBlank ||\n      (section.isMarkerable && trim(section.text) === '' && !any(section.markers, marker => marker.isAtom))\n    ) {\n      return\n    }\n\n    let lastSection = post.sections.tail\n    if (\n      lastSection &&\n      lastSection._inferredTagName &&\n      section._inferredTagName &&\n      lastSection.tagName === section.tagName\n    ) {\n      lastSection.join(section)\n    } else {\n      post.sections.append(section)\n    }\n  }\n\n  _eachChildNode(element, callback) {\n    let nodes = isTextNode(element) ? [element] : element.childNodes\n    forEach(nodes, node => callback(node))\n  }\n\n  parseSections(element) {\n    return this.sectionParser.parse(element)\n  }\n\n  // walk up from the textNode until the rootNode, converting each\n  // parentNode into a markup\n  collectMarkups(textNode, rootNode) {\n    let markups = []\n    let currentNode = textNode.parentNode\n    while (currentNode && currentNode !== rootNode) {\n      let markup = this.markupFromNode(currentNode)\n      if (markup) {\n        markups.push(markup)\n      }\n\n      currentNode = currentNode.parentNode\n    }\n    return markups\n  }\n\n  // Turn an element node into a markup\n  markupFromNode(node) {\n    if (Markup.isValidElement(node)) {\n      let tagName = remapTagName(node.tagName)\n      let attributes = getAttributes(node)\n      return this.builder.createMarkup(tagName, attributes)\n    }\n  }\n\n  // FIXME should move to the section parser?\n  // FIXME the `collectMarkups` logic could simplify the section parser?\n  reparseSection(section, renderTree) {\n    switch (section.type) {\n      case LIST_SECTION_TYPE:\n        return this.reparseListSection(section, renderTree)\n      case LIST_ITEM_TYPE:\n        return this.reparseListItem(section, renderTree)\n      case MARKUP_SECTION_TYPE:\n        return this.reparseMarkupSection(section, renderTree)\n      default:\n        return // can only parse the above types\n    }\n  }\n\n  reparseMarkupSection(section, renderTree) {\n    return this._reparseSectionContainingMarkers(section, renderTree)\n  }\n\n  reparseListItem(listItem, renderTree) {\n    return this._reparseSectionContainingMarkers(listItem, renderTree)\n  }\n\n  reparseListSection(listSection, renderTree) {\n    listSection.items.forEach(li => this.reparseListItem(li, renderTree))\n  }\n\n  _reparseSectionContainingMarkers(section, renderTree) {\n    let element = section.renderNode.element\n    let seenRenderNodes = []\n    let previousMarker\n\n    walkMarkerableNodes(element, node => {\n      let marker\n      let renderNode = renderTree.getElementRenderNode(node)\n      if (renderNode) {\n        if (renderNode.postNode.isMarker) {\n          let text = transformHTMLText(node.textContent)\n          let markups = this.collectMarkups(node, element)\n          if (text.length) {\n            marker = renderNode.postNode\n            marker.value = text\n            marker.markups = markups\n          } else {\n            renderNode.scheduleForRemoval()\n          }\n        } else if (renderNode.postNode.isAtom) {\n          let { headTextNode, tailTextNode } = renderNode\n          if (headTextNode.textContent !== ZWNJ) {\n            let value = headTextNode.textContent.replace(new RegExp(ZWNJ, 'g'), '')\n            headTextNode.textContent = ZWNJ\n            if (previousMarker && previousMarker.isMarker) {\n              previousMarker.value += value\n              if (previousMarker.renderNode) {\n                previousMarker.renderNode.markDirty()\n              }\n            } else {\n              let postNode = renderNode.postNode\n              let newMarkups = postNode.markups.slice()\n              let newPreviousMarker = this.builder.createMarker(value, newMarkups)\n              section.markers.insertBefore(newPreviousMarker, postNode)\n\n              let newPreviousRenderNode = renderTree.buildRenderNode(newPreviousMarker)\n              newPreviousRenderNode.markDirty()\n              section.renderNode.markDirty()\n\n              seenRenderNodes.push(newPreviousRenderNode)\n              section.renderNode.childNodes.insertBefore(newPreviousRenderNode, renderNode)\n            }\n          }\n          if (tailTextNode.textContent !== ZWNJ) {\n            let value = tailTextNode.textContent.replace(new RegExp(ZWNJ, 'g'), '')\n            tailTextNode.textContent = ZWNJ\n\n            if (renderNode.postNode.next && renderNode.postNode.next.isMarker) {\n              let nextMarker = renderNode.postNode.next\n\n              if (nextMarker.renderNode) {\n                let nextValue = nextMarker.renderNode.element.textContent\n                nextMarker.renderNode.element.textContent = value + nextValue\n              } else {\n                let nextValue = value + nextMarker.value\n                nextMarker.value = nextValue\n              }\n            } else {\n              let postNode = renderNode.postNode\n              let newMarkups = postNode.markups.slice()\n              let newMarker = this.builder.createMarker(value, newMarkups)\n\n              section.markers.insertAfter(newMarker, postNode)\n\n              let newRenderNode = renderTree.buildRenderNode(newMarker)\n              seenRenderNodes.push(newRenderNode)\n\n              newRenderNode.markDirty()\n              section.renderNode.markDirty()\n\n              section.renderNode.childNodes.insertAfter(newRenderNode, renderNode)\n            }\n          }\n          if (renderNode) {\n            marker = renderNode.postNode\n          }\n        }\n      } else if (isTextNode(node)) {\n        let text = transformHTMLText(node.textContent)\n        let markups = this.collectMarkups(node, element)\n        marker = this.builder.createMarker(text, markups)\n\n        renderNode = renderTree.buildRenderNode(marker)\n        renderNode.element = node\n        renderNode.markClean()\n        section.renderNode.markDirty()\n\n        let previousRenderNode = previousMarker && previousMarker.renderNode\n        section.markers.insertAfter(marker, previousMarker)\n        section.renderNode.childNodes.insertAfter(renderNode, previousRenderNode)\n      }\n\n      if (renderNode) {\n        seenRenderNodes.push(renderNode)\n      }\n      previousMarker = marker\n    })\n\n    let renderNode = section.renderNode.childNodes.head\n    while (renderNode) {\n      if (seenRenderNodes.indexOf(renderNode) === -1) {\n        renderNode.scheduleForRemoval()\n      }\n      renderNode = renderNode.next\n    }\n  }\n}\n\nexport default DOMParser\n","import { parseHTML } from '../utils/dom-utils'\nimport assert from '../utils/assert'\nimport DOMParser from './dom'\n\nexport default class HTMLParser {\n  constructor(builder, options = {}) {\n    assert('Must pass builder to HTMLParser', builder)\n    this.builder = builder\n    this.options = options\n  }\n\n  /**\n   * @param {String} html to parse\n   * @return {Post} A post abstract\n   */\n  parse(html) {\n    let dom = parseHTML(html)\n    let parser = new DOMParser(this.builder, this.options)\n    return parser.parse(dom)\n  }\n}\n","import LinkedItem from 'mobiledoc-kit/utils/linked-item'\nimport LinkedList from 'mobiledoc-kit/utils/linked-list'\nimport { containsNode } from '../utils/dom-utils'\nimport assert from 'mobiledoc-kit/utils/assert'\n\nexport default class RenderNode extends LinkedItem {\n  constructor(postNode, renderTree) {\n    super()\n    this.parent = null\n    this.isDirty = true\n    this.isRemoved = false\n    this.postNode = postNode\n    this._childNodes = null\n    this._element = null\n    this._cursorElement = null // blank render nodes need a cursor element\n    this.renderTree = renderTree\n\n    // RenderNodes for Markers keep track of their markupElement\n    this.markupElement = null\n\n    // RenderNodes for Atoms use these properties\n    this.headTextNode = null\n    this.tailTextNode = null\n    this.atomNode = null\n\n    // RenderNodes for cards use this property\n    this.cardNode = null\n  }\n  isAttached() {\n    assert('Cannot check if a renderNode is attached without an element.', !!this.element)\n    return containsNode(this.renderTree.rootElement, this.element)\n  }\n  get childNodes() {\n    if (!this._childNodes) {\n      this._childNodes = new LinkedList({\n        adoptItem: item => (item.parent = this),\n        freeItem: item => item.destroy(),\n      })\n    }\n    return this._childNodes\n  }\n  scheduleForRemoval() {\n    this.isRemoved = true\n    if (this.parent) {\n      this.parent.markDirty()\n    }\n  }\n  markDirty() {\n    this.isDirty = true\n    if (this.parent) {\n      this.parent.markDirty()\n    }\n  }\n  get isRendered() {\n    return !!this.element\n  }\n  markClean() {\n    this.isDirty = false\n  }\n  set element(element) {\n    const currentElement = this._element\n    this._element = element\n\n    if (currentElement) {\n      this.renderTree.removeElementRenderNode(currentElement)\n    }\n\n    if (element) {\n      this.renderTree.setElementRenderNode(element, this)\n    }\n  }\n  get element() {\n    return this._element\n  }\n  set cursorElement(cursorElement) {\n    this._cursorElement = cursorElement\n  }\n  get cursorElement() {\n    return this._cursorElement || this.element\n  }\n  destroy() {\n    this.element = null\n    this.parent = null\n    this.postNode = null\n    this.renderTree = null\n  }\n  reparsesMutationOfChildNode(node) {\n    if (this.postNode.isCardSection) {\n      return !containsNode(this.cardNode.element, node)\n    } else if (this.postNode.isAtom) {\n      return !containsNode(this.atomNode.element, node)\n    }\n    return true\n  }\n}\n","import assert from './assert'\n\n// start at one to make the falsy semantics easier\nlet uuidGenerator = 1\n\ninterface ElementKey {\n  _uuid?: string\n}\n\nexport default class ElementMap<T> {\n  _map: {\n    [key: string]: T\n  } = {}\n\n  set(key: object, value: T) {\n    let uuid = (key as ElementKey)._uuid\n    if (!uuid) {\n      ;(key as ElementKey)._uuid = uuid = '' + uuidGenerator++\n    }\n    this._map[uuid] = value\n  }\n\n  get(key: object) {\n    if ((key as ElementKey)._uuid) {\n      return this._map[(key as ElementKey)._uuid!]\n    }\n    return null\n  }\n\n  remove(key: object) {\n    assertHasUuid(key)\n    delete this._map[key._uuid]\n  }\n}\n\nfunction assertHasUuid(key: ElementKey): asserts key is { _uuid: string } {\n  assert('tried to fetch a value for an element not seen before', !!key._uuid)\n}\n","import RenderNode from '../models/render-node'\nimport ElementMap from '../utils/element-map'\n\ninterface Post {\n  renderNode: RenderNode\n}\n\nexport default class RenderTree {\n  _rootNode: RenderNode\n  _elements: ElementMap<RenderNode>\n\n  constructor(rootPostNode: Post) {\n    this._rootNode = this.buildRenderNode(rootPostNode)\n    this._elements = new ElementMap()\n  }\n  /*\n   * @return {RenderNode} The root render node in this tree\n   */\n  get rootNode() {\n    return this._rootNode\n  }\n  /**\n   * @return {Boolean}\n   */\n  get isDirty() {\n    return this.rootNode && this.rootNode.isDirty\n  }\n  /*\n   * @return {DOMNode} The root DOM element in this tree\n   */\n  get rootElement() {\n    return this.rootNode.element\n  }\n  /*\n   * @param {DOMNode} element\n   * @return {RenderNode} The renderNode for this element, if any\n   */\n  getElementRenderNode(element: Node) {\n    return this._elements.get(element)\n  }\n  setElementRenderNode(element: Node, renderNode: RenderNode) {\n    this._elements.set(element, renderNode)\n  }\n  removeElementRenderNode(element: Node) {\n    this._elements.remove(element)\n  }\n  /**\n   * @param {DOMNode} element\n   * Walk up from the dom element until we find a renderNode element\n   */\n  findRenderNodeFromElement(element: Node, conditionFn: (node: RenderNode) => boolean = () => true) {\n    let renderNode: RenderNode | null\n    let _element: Node | null = element\n\n    while (_element) {\n      renderNode = this.getElementRenderNode(_element)\n      if (renderNode && conditionFn(renderNode)) {\n        return renderNode\n      }\n\n      // continue loop\n      _element = _element.parentElement\n\n      // stop if we are at the root element\n      if (_element === this.rootElement) {\n        if (conditionFn(this.rootNode)) {\n          return this.rootNode\n        } else {\n          return\n        }\n      }\n    }\n  }\n\n  buildRenderNode(postNode: Post) {\n    const renderNode = new RenderNode(postNode, this)\n    postNode.renderNode = renderNode\n    return renderNode\n  }\n}\n","import MobiledocRenderer_0_2, { MOBILEDOC_VERSION as MOBILEDOC_VERSION_0_2 } from './0-2'\nimport MobiledocRenderer_0_3, { MOBILEDOC_VERSION as MOBILEDOC_VERSION_0_3 } from './0-3'\nimport MobiledocRenderer_0_3_1, { MOBILEDOC_VERSION as MOBILEDOC_VERSION_0_3_1 } from './0-3-1'\nimport MobiledocRenderer_0_3_2, { MOBILEDOC_VERSION as MOBILEDOC_VERSION_0_3_2 } from './0-3-2'\nimport assert from 'mobiledoc-kit/utils/assert'\n\nexport const MOBILEDOC_VERSION = MOBILEDOC_VERSION_0_3_2\n\nexport default {\n  render(post, version) {\n    switch (version) {\n      case MOBILEDOC_VERSION_0_2:\n        return MobiledocRenderer_0_2.render(post)\n      case MOBILEDOC_VERSION_0_3:\n        return MobiledocRenderer_0_3.render(post)\n      case MOBILEDOC_VERSION_0_3_1:\n        return MobiledocRenderer_0_3_1.render(post)\n      case undefined:\n      case null:\n      case MOBILEDOC_VERSION_0_3_2:\n        return MobiledocRenderer_0_3_2.render(post)\n      default:\n        assert(`Unknown version of mobiledoc renderer requested: ${version}`, false)\n    }\n  },\n}\n","function mergeWithOptions<A, B, O>(original: A, updates: B, options?: O) {\n  return Object.assign(original, updates, options)\n}\n\n/**\n * Merges properties of one object into another\n * @private\n */\nfunction merge<A, B>(original: A, updates: B) {\n  return mergeWithOptions(original, updates)\n}\n\nexport { mergeWithOptions, merge }\n","export default {\n  hasDOM() {\n    return typeof document !== 'undefined'\n  },\n}\n","const CONSTRUCTOR_FN_NAME = 'constructor'\n\ninterface WithPrototype<TP> {\n  prototype: TP\n}\n\nexport default function mixin<TP, T extends WithPrototype<TP>, SP, S extends WithPrototype<SP>>(\n  target: T,\n  source: S | SP\n) {\n  const targetPrototype = target.prototype\n  // Fallback to just `source` to allow mixing in a plain object (pojo)\n  source = (source as S).prototype || source\n\n  Object.getOwnPropertyNames(source).forEach(name => {\n    if (name !== CONSTRUCTOR_FN_NAME) {\n      const descriptor = Object.getOwnPropertyDescriptor(source, name)\n\n      Object.defineProperty(targetPrototype, name, descriptor!)\n    }\n  })\n}\n","import { ATOM_TYPE } from './types'\nimport mixin from '../utils/mixin'\nimport MarkuperableMixin from '../utils/markuperable'\nimport LinkedItem from '../utils/linked-item'\nimport assert from '../utils/assert'\n\nconst ATOM_LENGTH = 1\n\nclass Atom extends LinkedItem {\n  constructor(name, value, payload, markups = []) {\n    super()\n    this.name = name\n    this.value = value\n    this.text = '' // An atom never has text, but it does have a value\n    assert('Atom must have value', value !== undefined && value !== null)\n    this.payload = payload\n    this.type = ATOM_TYPE\n    this.isMarker = false\n    this.isAtom = true\n\n    this.markups = []\n    markups.forEach(m => this.addMarkup(m))\n  }\n\n  clone() {\n    let clonedMarkups = this.markups.slice()\n    return this.builder.createAtom(this.name, this.value, this.payload, clonedMarkups)\n  }\n\n  get isBlank() {\n    return false\n  }\n\n  get length() {\n    return ATOM_LENGTH\n  }\n\n  canJoin(/* other */) {\n    return false\n  }\n\n  textUntil(/* offset */) {\n    return ''\n  }\n\n  split(offset = 0, endOffset = offset) {\n    let markers = []\n\n    if (endOffset === 0) {\n      markers.push(this.builder.createMarker('', this.markups.slice()))\n    }\n\n    markers.push(this.clone())\n\n    if (offset === ATOM_LENGTH) {\n      markers.push(this.builder.createMarker('', this.markups.slice()))\n    }\n\n    return markers\n  }\n\n  splitAtOffset(offset) {\n    assert('Cannot split a marker at an offset > its length', offset <= this.length)\n\n    let { builder } = this\n    let clone = this.clone()\n    let blankMarker = builder.createMarker('')\n    let pre, post\n\n    if (offset === 0) {\n      ;[pre, post] = [blankMarker, clone]\n    } else if (offset === ATOM_LENGTH) {\n      ;[pre, post] = [clone, blankMarker]\n    } else {\n      assert(`Invalid offset given to Atom#splitAtOffset: \"${offset}\"`, false)\n    }\n\n    this.markups.forEach(markup => {\n      pre.addMarkup(markup)\n      post.addMarkup(markup)\n    })\n    return [pre, post]\n  }\n}\n\nmixin(Atom, MarkuperableMixin)\n\nexport default Atom\n","import { POST_TYPE } from './types'\nimport LinkedList from 'mobiledoc-kit/utils/linked-list'\nimport { forEach } from 'mobiledoc-kit/utils/array-utils'\nimport Set from 'mobiledoc-kit/utils/set'\nimport Position from 'mobiledoc-kit/utils/cursor/position'\nimport assert from 'mobiledoc-kit/utils/assert'\n\n/**\n * The Post is an in-memory representation of an editor's document.\n * An editor always has a single post. The post is organized into a list of\n * sections. Each section may be markerable (contains \"markers\", aka editable\n * text) or non-markerable (e.g., a card).\n * When persisting a post, it must first be serialized (loss-lessly) into\n * mobiledoc using {@link Editor#serialize}.\n */\nclass Post {\n  /**\n   * @private\n   */\n  constructor() {\n    this.type = POST_TYPE\n    this.sections = new LinkedList({\n      adoptItem: s => (s.post = s.parent = this),\n      freeItem: s => (s.post = s.parent = null),\n    })\n  }\n\n  /**\n   * @return {Position} The position at the start of the post (will be a {@link BlankPosition}\n   * if the post is blank)\n   * @public\n   */\n  headPosition() {\n    if (this.isBlank) {\n      return Position.blankPosition()\n    } else {\n      return this.sections.head.headPosition()\n    }\n  }\n\n  /**\n   * @return {Position} The position at the end of the post (will be a {@link BlankPosition}\n   * if the post is blank)\n   * @public\n   */\n  tailPosition() {\n    if (this.isBlank) {\n      return Position.blankPosition()\n    } else {\n      return this.sections.tail.tailPosition()\n    }\n  }\n\n  /**\n   * @return {Range} A range encompassing the entire post\n   * @public\n   */\n  toRange() {\n    return this.headPosition().toRange(this.tailPosition())\n  }\n\n  get isBlank() {\n    return this.sections.isEmpty\n  }\n\n  /**\n   * If the post has no sections, or only has one, blank section, then it does\n   * not have content and this method returns false. Otherwise it is true.\n   * @return {Boolean}\n   * @public\n   */\n  get hasContent() {\n    if (this.sections.length > 1 || (this.sections.length === 1 && !this.sections.head.isBlank)) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * @param {Range} range\n   * @return {Array} markers that are completely contained by the range\n   */\n  markersContainedByRange(range) {\n    const markers = []\n\n    this.walkMarkerableSections(range, section => {\n      section._markersInRange(range.trimTo(section), (m, { isContained }) => {\n        if (isContained) {\n          markers.push(m)\n        }\n      })\n    })\n\n    return markers\n  }\n\n  markupsInRange(range) {\n    const markups = new Set()\n\n    if (range.isCollapsed) {\n      let pos = range.head\n      if (pos.isMarkerable) {\n        let [back, forward] = [pos.markerIn(-1), pos.markerIn(1)]\n        if (back && forward && back === forward) {\n          back.markups.forEach(m => markups.add(m))\n        } else {\n          ;((back && back.markups) || []).forEach(m => {\n            if (m.isForwardInclusive()) {\n              markups.add(m)\n            }\n          })\n          ;((forward && forward.markups) || []).forEach(m => {\n            if (m.isBackwardInclusive()) {\n              markups.add(m)\n            }\n          })\n        }\n      }\n    } else {\n      this.walkMarkerableSections(range, section => {\n        forEach(section.markupsInRange(range.trimTo(section)), m => markups.add(m))\n      })\n    }\n\n    return markups.toArray()\n  }\n\n  walkAllLeafSections(callback) {\n    let range = this.headPosition().toRange(this.tailPosition())\n    return this.walkLeafSections(range, callback)\n  }\n\n  walkLeafSections(range, callback) {\n    const { head, tail } = range\n\n    let index = 0\n    let nextSection, shouldStop\n    let currentSection = head.section\n\n    while (currentSection) {\n      nextSection = this._nextLeafSection(currentSection)\n      shouldStop = currentSection === tail.section\n\n      callback(currentSection, index)\n      index++\n\n      if (shouldStop) {\n        break\n      } else {\n        currentSection = nextSection\n      }\n    }\n  }\n\n  walkMarkerableSections(range, callback) {\n    this.walkLeafSections(range, section => {\n      if (section.isMarkerable) {\n        callback(section)\n      }\n    })\n  }\n\n  // return the next section that has markers after this one,\n  // possibly skipping non-markerable sections\n  _nextLeafSection(section) {\n    if (!section) {\n      return null\n    }\n\n    const next = section.next\n    if (next) {\n      if (next.isLeafSection) {\n        return next\n      } else if (next.items) {\n        return next.items.head\n      } else {\n        assert('Cannot determine next section from non-leaf-section', false)\n      }\n    } else if (section.isNested) {\n      // if there is no section after this, but this section is a child\n      // (e.g. a ListItem inside a ListSection), check for a markerable\n      // section after its parent\n      return this._nextLeafSection(section.parent)\n    }\n  }\n\n  /**\n   * @param {Range} range\n   * @return {Post} A new post, constrained to {range}\n   */\n  trimTo(range) {\n    const post = this.builder.createPost()\n    const { builder } = this\n    const { head, tail } = range\n    const tailNotSelected = tail.offset === 0 && head.section !== tail.section\n\n    let sectionParent = post,\n      listParent = null\n    this.walkLeafSections(range, section => {\n      let newSection\n      if (section.isMarkerable) {\n        if (section.isListItem) {\n          if (listParent) {\n            sectionParent = null\n          } else {\n            listParent = builder.createListSection(section.parent.tagName)\n            post.sections.append(listParent)\n            sectionParent = null\n          }\n          newSection = builder.createListItem()\n          listParent.items.append(newSection)\n        } else {\n          listParent = null\n          sectionParent = post\n          const tagName = tailNotSelected && tail.section === section ? 'p' : section.tagName\n          newSection = builder.createMarkupSection(tagName)\n        }\n\n        let currentRange = range.trimTo(section)\n        forEach(section.markersFor(currentRange.headSectionOffset, currentRange.tailSectionOffset), m =>\n          newSection.markers.append(m)\n        )\n      } else {\n        newSection = tailNotSelected && tail.section === section ? builder.createMarkupSection('p') : section.clone()\n\n        sectionParent = post\n      }\n      if (sectionParent) {\n        sectionParent.sections.append(newSection)\n      }\n    })\n    return post\n  }\n}\n\nexport default Post\n","import { IMAGE_SECTION_TYPE } from './types'\nimport Section from './_section'\n\nexport default class Image extends Section {\n  constructor() {\n    super(IMAGE_SECTION_TYPE)\n    this.src = null\n  }\n\n  canJoin() {\n    return false\n  }\n\n  get isBlank() {\n    return false\n  }\n\n  get length() {\n    return 1\n  }\n}\n","import Atom from '../models/atom'\nimport Post from '../models/post'\nimport MarkupSection from '../models/markup-section'\nimport ListSection from '../models/list-section'\nimport ListItem from '../models/list-item'\nimport ImageSection from '../models/image'\nimport Marker from '../models/marker'\nimport Markup from '../models/markup'\nimport Card from '../models/card'\nimport { normalizeTagName } from '../utils/dom-utils'\nimport { objectToSortedKVArray } from '../utils/array-utils'\nimport { LIST_ITEM_TYPE, MARKUP_SECTION_TYPE } from '../models/types'\nimport { DEFAULT_TAG_NAME as DEFAULT_MARKUP_SECTION_TAG_NAME } from '../models/markup-section'\nimport { DEFAULT_TAG_NAME as DEFAULT_LIST_SECTION_TAG_NAME } from '../models/list-section'\nimport assert from '../utils/assert'\n\nfunction cacheKey(tagName, attributes) {\n  return `${normalizeTagName(tagName)}-${objectToSortedKVArray(attributes).join('-')}`\n}\n\nfunction addMarkupToCache(cache, markup) {\n  cache[cacheKey(markup.tagName, markup.attributes)] = markup\n}\n\nfunction findMarkupInCache(cache, tagName, attributes) {\n  const key = cacheKey(tagName, attributes)\n  return cache[key]\n}\n\n/**\n * The PostNodeBuilder is used to create new {@link Post} primitives, such\n * as a MarkupSection, a CardSection, a Markup, etc. Every instance of an\n * {@link Editor} has its own builder instance. The builder can be used\n * inside an {@link Editor#run} callback to programmatically create new\n * Post primitives to insert into the document.\n * A PostNodeBuilder should be read from the Editor, *not* instantiated on its own.\n */\nclass PostNodeBuilder {\n  /**\n   * @private\n   */\n  constructor() {\n    this.markupCache = {}\n  }\n\n  /**\n   * @return {Post} A new, blank post\n   */\n  createPost(sections = []) {\n    const post = new Post()\n    post.builder = this\n\n    sections.forEach(s => post.sections.append(s))\n\n    return post\n  }\n\n  createMarkerableSection(type, tagName, markers = []) {\n    switch (type) {\n      case LIST_ITEM_TYPE:\n        return this.createListItem(markers)\n      case MARKUP_SECTION_TYPE:\n        return this.createMarkupSection(tagName, markers)\n      default:\n        assert(`Cannot create markerable section of type ${type}`, false)\n    }\n  }\n\n  /**\n   * @param {tagName} [tagName='P']\n   * @param {Marker[]} [markers=[]]\n   * @return {MarkupSection}\n   */\n  createMarkupSection(tagName = DEFAULT_MARKUP_SECTION_TAG_NAME, markers = [], isGenerated = false, attributes = {}) {\n    tagName = normalizeTagName(tagName)\n    const section = new MarkupSection(tagName, markers, attributes)\n    if (isGenerated) {\n      section.isGenerated = true\n    }\n    section.builder = this\n    return section\n  }\n\n  createListSection(tagName = DEFAULT_LIST_SECTION_TAG_NAME, items = [], attributes = {}) {\n    tagName = normalizeTagName(tagName)\n    const section = new ListSection(tagName, items, attributes)\n    section.builder = this\n    return section\n  }\n\n  createListItem(markers = []) {\n    const tagName = normalizeTagName('li')\n    const item = new ListItem(tagName, markers)\n    item.builder = this\n    return item\n  }\n\n  createImageSection(url) {\n    let section = new ImageSection()\n    if (url) {\n      section.src = url\n    }\n    return section\n  }\n\n  /**\n   * @param {String} name\n   * @param {Object} [payload={}]\n   * @return {CardSection}\n   */\n  createCardSection(name, payload = {}) {\n    const card = new Card(name, payload)\n    card.builder = this\n    return card\n  }\n\n  /**\n   * @param {String} value\n   * @param {Markup[]} [markups=[]]\n   * @return {Marker}\n   */\n  createMarker(value, markups = []) {\n    const marker = new Marker(value, markups)\n    marker.builder = this\n    return marker\n  }\n\n  /**\n   * @param {String} name\n   * @param {String} [value='']\n   * @param {Object} [payload={}]\n   * @param {Markup[]} [markups=[]]\n   * @return {Atom}\n   */\n  createAtom(name, value = '', payload = {}, markups = []) {\n    const atom = new Atom(name, value, payload, markups)\n    atom.builder = this\n    return atom\n  }\n\n  /**\n   * @param {String} tagName\n   * @param {Object} attributes Key-value pairs of attributes for the markup\n   * @return {Markup}\n   */\n  createMarkup(tagName, attributes = {}) {\n    tagName = normalizeTagName(tagName)\n\n    let markup = findMarkupInCache(this.markupCache, tagName, attributes)\n    if (!markup) {\n      markup = new Markup(tagName, attributes)\n      markup.builder = this\n      addMarkupToCache(this.markupCache, markup)\n    }\n\n    return markup\n  }\n}\n\nexport default PostNodeBuilder\n","/**\n * Convert section at the editor's cursor position into a list.\n * Does nothing if the cursor position is not at the start of the section,\n * or if the section is already a list item.\n *\n * @param {Editor} editor\n * @param {String} listTagName (\"ul\" or \"ol\")\n * @public\n */\nexport function replaceWithListSection(editor, listTagName) {\n  let {\n    range: {\n      head,\n      head: { section },\n    },\n  } = editor\n  // Skip if cursor is not at end of section\n  if (!head.isTail()) {\n    return\n  }\n\n  if (section.isListItem) {\n    return\n  }\n\n  editor.run(postEditor => {\n    let { builder } = postEditor\n    let item = builder.createListItem()\n    let listSection = builder.createListSection(listTagName, [item])\n\n    postEditor.replaceSection(section, listSection)\n    postEditor.setRange(listSection.headPosition())\n  })\n}\n\n/**\n * Convert section at the editor's cursor position into a header section.\n * Does nothing if the cursor position is not at the start of the section.\n *\n * @param {Editor} editor\n * @param {String} headingTagName ('h1', 'h2', 'h3', 'h4', 'h5', 'h6')\n * @public\n */\nexport function replaceWithHeaderSection(editor, headingTagName) {\n  let {\n    range: {\n      head,\n      head: { section },\n    },\n  } = editor\n  // Skip if cursor is not at end of section\n  if (!head.isTail()) {\n    return\n  }\n\n  editor.run(postEditor => {\n    let { builder } = postEditor\n    let newSection = builder.createMarkupSection(headingTagName)\n    postEditor.replaceSection(section, newSection)\n    postEditor.setRange(newSection.headPosition())\n  })\n}\n\nexport const DEFAULT_TEXT_INPUT_HANDLERS = [\n  {\n    name: 'ul',\n    // \"* \" -> ul\n    match: /^\\* $/,\n    run(editor) {\n      replaceWithListSection(editor, 'ul')\n    },\n  },\n  {\n    name: 'ol',\n    // \"1\" -> ol, \"1.\" -> ol\n    match: /^1\\.? $/,\n    run(editor) {\n      replaceWithListSection(editor, 'ol')\n    },\n  },\n  {\n    name: 'heading',\n    /*\n     * \"# \" -> h1\n     * \"## \" -> h2\n     * \"### \" -> h3\n     * \"#### \" -> h4\n     * \"##### \" -> h5\n     * \"###### \" -> h6\n     */\n    match: /^(#{1,6}) $/,\n    run(editor, matches) {\n      let capture = matches[1]\n      let headingTag = 'h' + capture.length\n      replaceWithHeaderSection(editor, headingTag)\n    },\n  },\n]\n","export default {\n  isMac() {\n    return typeof window !== 'undefined' && window.navigator && /Mac/.test(window.navigator.platform)\n  },\n  isWin() {\n    return typeof window !== 'undefined' && window.navigator && /Win/.test(window.navigator.platform)\n  },\n  isChrome() {\n    return typeof window !== 'undefined' && 'chrome' in window\n  },\n}\n","import Key from '../utils/key'\nimport { MODIFIERS, specialCharacterToCode } from '../utils/key'\nimport { filter, reduce } from '../utils/array-utils'\nimport assert from '../utils/assert'\nimport Browser from '../utils/browser'\nimport { toggleLink } from './ui'\n\nfunction selectAll(editor) {\n  let { post } = editor\n  editor.selectRange(post.toRange())\n}\n\nfunction gotoStartOfLine(editor) {\n  let { range } = editor\n  let {\n    tail: { section },\n  } = range\n  editor.run(postEditor => {\n    postEditor.setRange(section.headPosition())\n  })\n}\n\nfunction gotoEndOfLine(editor) {\n  let { range } = editor\n  let {\n    tail: { section },\n  } = range\n  editor.run(postEditor => {\n    postEditor.setRange(section.tailPosition())\n  })\n}\n\nfunction deleteToEndOfSection(editor) {\n  let { range } = editor\n  if (range.isCollapsed) {\n    let {\n      head,\n      head: { section },\n    } = range\n    range = head.toRange(section.tailPosition())\n  }\n  editor.run(postEditor => {\n    let nextPosition = postEditor.deleteRange(range)\n    postEditor.setRange(nextPosition)\n  })\n}\n\nexport const DEFAULT_KEY_COMMANDS = [\n  {\n    str: 'META+B',\n    run(editor) {\n      editor.toggleMarkup('strong')\n    },\n  },\n  {\n    str: 'CTRL+B',\n    run(editor) {\n      editor.toggleMarkup('strong')\n    },\n  },\n  {\n    str: 'META+I',\n    run(editor) {\n      editor.toggleMarkup('em')\n    },\n  },\n  {\n    str: 'CTRL+I',\n    run(editor) {\n      editor.toggleMarkup('em')\n    },\n  },\n  {\n    str: 'META+U',\n    run(editor) {\n      editor.toggleMarkup('u')\n    },\n  },\n  {\n    str: 'CTRL+U',\n    run(editor) {\n      editor.toggleMarkup('u')\n    },\n  },\n  {\n    str: 'CTRL+K',\n    run(editor) {\n      if (Browser.isMac()) {\n        return deleteToEndOfSection(editor)\n      } else if (Browser.isWin()) {\n        return toggleLink(editor)\n      }\n    },\n  },\n  {\n    str: 'CTRL+A',\n    run(editor) {\n      if (Browser.isMac()) {\n        gotoStartOfLine(editor)\n      } else {\n        selectAll(editor)\n      }\n    },\n  },\n  {\n    str: 'META+A',\n    run(editor) {\n      if (Browser.isMac()) {\n        selectAll(editor)\n      }\n    },\n  },\n  {\n    str: 'CTRL+E',\n    run(editor) {\n      if (Browser.isMac()) {\n        gotoEndOfLine(editor)\n      }\n    },\n  },\n  {\n    str: 'META+K',\n    run(editor) {\n      return toggleLink(editor)\n    },\n  },\n  {\n    str: 'META+Z',\n    run(editor) {\n      editor.run(postEditor => {\n        postEditor.undoLastChange()\n      })\n    },\n  },\n  {\n    str: 'META+SHIFT+Z',\n    run(editor) {\n      editor.run(postEditor => {\n        postEditor.redoLastChange()\n      })\n    },\n  },\n  {\n    str: 'CTRL+Z',\n    run(editor) {\n      if (Browser.isMac()) {\n        return false\n      }\n      editor.run(postEditor => postEditor.undoLastChange())\n    },\n  },\n  {\n    str: 'CTRL+SHIFT+Z',\n    run(editor) {\n      if (Browser.isMac()) {\n        return false\n      }\n      editor.run(postEditor => postEditor.redoLastChange())\n    },\n  },\n]\n\nfunction modifierNamesToMask(modiferNames) {\n  let defaultVal = 0\n  return reduce(\n    modiferNames,\n    (sum, name) => {\n      let modifier = MODIFIERS[name.toUpperCase()]\n      assert(`No modifier named \"${name}\" found`, !!modifier)\n      return sum + modifier\n    },\n    defaultVal\n  )\n}\n\nfunction characterToCode(character) {\n  const upperCharacter = character.toUpperCase()\n  const special = specialCharacterToCode(upperCharacter)\n  if (special) {\n    return special\n  } else {\n    assert(`Only 1 character can be used in a key command str (got \"${character}\")`, character.length === 1)\n    return upperCharacter.charCodeAt(0)\n  }\n}\n\nexport function buildKeyCommand(keyCommand) {\n  let { str } = keyCommand\n\n  if (!str) {\n    return keyCommand\n  }\n  assert('[deprecation] Key commands no longer use the `modifier` property', !keyCommand.modifier)\n\n  let [character, ...modifierNames] = str.split('+').reverse()\n\n  keyCommand.modifierMask = modifierNamesToMask(modifierNames)\n  keyCommand.code = characterToCode(character)\n\n  return keyCommand\n}\n\nexport function validateKeyCommand(keyCommand) {\n  return !!keyCommand.code && !!keyCommand.run\n}\n\nexport function findKeyCommands(keyCommands, keyEvent) {\n  const key = Key.fromEvent(keyEvent)\n\n  return filter(keyCommands, ({ modifierMask, code }) => {\n    return key.keyCode === code && key.modifierMask === modifierMask\n  })\n}\n","import Set from 'mobiledoc-kit/utils/set'\nimport { forEach, filter } from 'mobiledoc-kit/utils/array-utils'\nimport assert from 'mobiledoc-kit/utils/assert'\nimport { containsNode } from '../utils/dom-utils'\n\nconst MUTATION = {\n  NODES_CHANGED: 'childList',\n  CHARACTER_DATA: 'characterData',\n}\n\nexport default class MutationHandler {\n  constructor(editor) {\n    this.editor = editor\n    this.logger = editor.loggerFor('mutation-handler')\n    this.renderTree = null\n    this._isObserving = false\n\n    this._observer = new MutationObserver(mutations => {\n      this._handleMutations(mutations)\n    })\n  }\n\n  init() {\n    this.startObserving()\n  }\n\n  destroy() {\n    this.stopObserving()\n    this._observer = null\n  }\n\n  suspendObservation(callback) {\n    this.stopObserving()\n    callback()\n    this.startObserving()\n  }\n\n  stopObserving() {\n    if (this._isObserving) {\n      this._isObserving = false\n      this._observer.disconnect()\n    }\n  }\n\n  startObserving() {\n    if (!this._isObserving) {\n      let { editor } = this\n      assert('Cannot observe un-rendered editor', editor.hasRendered)\n\n      this._isObserving = true\n      this.renderTree = editor._renderTree\n\n      this._observer.observe(editor.element, {\n        characterData: true,\n        childList: true,\n        subtree: true,\n      })\n    }\n  }\n\n  reparsePost() {\n    this.editor._reparsePost()\n  }\n\n  reparseSections(sections) {\n    this.editor._reparseSections(sections)\n  }\n\n  /**\n   * for each mutation:\n   *   * find the target nodes:\n   *     * if nodes changed, target nodes are:\n   *        * added nodes\n   *        * the target from which removed nodes were removed\n   *     * if character data changed\n   *       * target node is the mutation event's target (text node)\n   *     * filter out nodes that are no longer attached (parentNode is null)\n   *   * for each remaining node:\n   *   *  find its section, add to sections-to-reparse\n   *   *  if no section, reparse all (and break)\n   */\n  _handleMutations(mutations) {\n    let reparsePost = false\n    let sections = new Set()\n\n    for (let i = 0; i < mutations.length; i++) {\n      if (reparsePost) {\n        break\n      }\n\n      let nodes = this._findTargetNodes(mutations[i])\n\n      for (let j = 0; j < nodes.length; j++) {\n        let node = nodes[j]\n        let renderNode = this._findRenderNodeFromNode(node)\n        if (renderNode) {\n          if (renderNode.reparsesMutationOfChildNode(node)) {\n            let section = this._findSectionFromRenderNode(renderNode)\n            if (section) {\n              sections.add(section)\n            } else {\n              reparsePost = true\n            }\n          }\n        } else {\n          reparsePost = true\n          break\n        }\n      }\n    }\n\n    if (reparsePost) {\n      this.logger.log(`reparsePost (${mutations.length} mutations)`)\n      this.reparsePost()\n    } else if (sections.length) {\n      this.logger.log(`reparse ${sections.length} sections (${mutations.length} mutations)`)\n      this.reparseSections(sections.toArray())\n    }\n  }\n\n  _findTargetNodes(mutation) {\n    let nodes = []\n\n    switch (mutation.type) {\n      case MUTATION.CHARACTER_DATA:\n        nodes.push(mutation.target)\n        break\n      case MUTATION.NODES_CHANGED:\n        forEach(mutation.addedNodes, n => nodes.push(n))\n        if (mutation.removedNodes.length) {\n          nodes.push(mutation.target)\n        }\n        break\n    }\n\n    let element = this.editor.element\n    let attachedNodes = filter(nodes, node => containsNode(element, node))\n    return attachedNodes\n  }\n\n  _findSectionRenderNodeFromNode(node) {\n    return this.renderTree.findRenderNodeFromElement(node, rn => {\n      return rn.postNode.isSection\n    })\n  }\n\n  _findRenderNodeFromNode(node) {\n    return this.renderTree.findRenderNodeFromElement(node)\n  }\n\n  _findSectionFromRenderNode(renderNode) {\n    let sectionRenderNode = this._findSectionRenderNodeFromNode(renderNode.element)\n    return sectionRenderNode && sectionRenderNode.postNode\n  }\n}\n","export default class FixedQueue<T> {\n  _maxLength: number\n  _items: T[]\n\n  constructor(length = 0) {\n    this._maxLength = length\n    this._items = []\n  }\n\n  get length() {\n    return this._items.length\n  }\n\n  pop() {\n    return this._items.pop()\n  }\n\n  push(item: T) {\n    this._items.push(item)\n    if (this.length > this._maxLength) {\n      this._items.shift()\n    }\n  }\n\n  clear() {\n    this._items = []\n  }\n\n  toArray() {\n    return this._items\n  }\n}\n","import mobiledocParsers from 'mobiledoc-kit/parsers/mobiledoc'\nimport FixedQueue from 'mobiledoc-kit/utils/fixed-queue'\n\nfunction findLeafSectionAtIndex(post, index) {\n  let section\n  post.walkAllLeafSections((_section, _index) => {\n    if (index === _index) {\n      section = _section\n    }\n  })\n  return section\n}\n\nexport class Snapshot {\n  constructor(takenAt, editor, editAction = null) {\n    this.mobiledoc = editor.serialize()\n    this.editor = editor\n    this.editAction = editAction\n    this.takenAt = takenAt\n\n    this.snapshotRange()\n  }\n\n  snapshotRange() {\n    let { range, cursor } = this.editor\n    if (cursor.hasCursor() && !range.isBlank) {\n      let { head, tail } = range\n      this.range = {\n        head: [head.leafSectionIndex, head.offset],\n        tail: [tail.leafSectionIndex, tail.offset],\n      }\n    }\n  }\n\n  getRange(post) {\n    if (this.range) {\n      let { head, tail } = this.range\n      let [headLeafSectionIndex, headOffset] = head\n      let [tailLeafSectionIndex, tailOffset] = tail\n      let headSection = findLeafSectionAtIndex(post, headLeafSectionIndex)\n      let tailSection = findLeafSectionAtIndex(post, tailLeafSectionIndex)\n\n      head = headSection.toPosition(headOffset)\n      tail = tailSection.toPosition(tailOffset)\n\n      return head.toRange(tail)\n    }\n  }\n\n  groupsWith(groupingTimeout, editAction, takenAt) {\n    return editAction !== null && this.editAction === editAction && this.takenAt + groupingTimeout > takenAt\n  }\n}\n\nexport default class EditHistory {\n  constructor(editor, queueLength, groupingTimeout) {\n    this.editor = editor\n    this._undoStack = new FixedQueue(queueLength)\n    this._redoStack = new FixedQueue(queueLength)\n\n    this._pendingSnapshot = null\n    this._groupingTimeout = groupingTimeout\n  }\n\n  snapshot() {\n    // update the current snapshot with the range read from DOM\n    if (this._pendingSnapshot) {\n      this._pendingSnapshot.snapshotRange()\n    }\n  }\n\n  storeSnapshot(editAction = null) {\n    let now = Date.now()\n    // store pending snapshot\n    let pendingSnapshot = this._pendingSnapshot\n    if (pendingSnapshot) {\n      if (!pendingSnapshot.groupsWith(this._groupingTimeout, editAction, now)) {\n        this._undoStack.push(pendingSnapshot)\n      }\n      this._redoStack.clear()\n    }\n\n    // take new pending snapshot to store next time `storeSnapshot` is called\n    this._pendingSnapshot = new Snapshot(now, this.editor, editAction)\n  }\n\n  stepBackward(postEditor) {\n    // Throw away the pending snapshot\n    this._pendingSnapshot = null\n\n    let snapshot = this._undoStack.pop()\n    if (snapshot) {\n      this._redoStack.push(new Snapshot(Date.now(), this.editor))\n      this._restoreFromSnapshot(snapshot, postEditor)\n    }\n  }\n\n  stepForward(postEditor) {\n    let snapshot = this._redoStack.pop()\n    if (snapshot) {\n      this._undoStack.push(new Snapshot(Date.now(), this.editor))\n      this._restoreFromSnapshot(snapshot, postEditor)\n    }\n    postEditor.cancelSnapshot()\n  }\n\n  _restoreFromSnapshot(snapshot, postEditor) {\n    let { mobiledoc } = snapshot\n    let { editor } = this\n    let { builder, post } = editor\n    let restoredPost = mobiledocParsers.parse(builder, mobiledoc)\n\n    postEditor.removeAllSections()\n    postEditor.migrateSectionsFromPost(restoredPost)\n\n    // resurrect snapshotted range if it exists\n    let newRange = snapshot.getRange(post)\n    if (newRange) {\n      postEditor.setRange(newRange)\n    }\n  }\n}\n","import assert from 'mobiledoc-kit/utils/assert'\nimport { MARKUP_SECTION_TYPE, LIST_SECTION_TYPE } from 'mobiledoc-kit/models/types'\nimport { DEFAULT_TAG_NAME as DEFAULT_MARKUP_SECTION_TAG_NAME } from 'mobiledoc-kit/models/markup-section'\n\nconst UL_LI_REGEX = /^\\* (.*)$/\nconst OL_LI_REGEX = /^\\d\\.? (.*)$/\nconst CR = '\\r'\nconst LF = '\\n'\nconst CR_REGEX = new RegExp(CR, 'g')\nconst CR_LF_REGEX = new RegExp(CR + LF, 'g')\n\nexport const SECTION_BREAK = LF\n\nfunction normalizeLineEndings(text) {\n  return text.replace(CR_LF_REGEX, LF).replace(CR_REGEX, LF)\n}\n\nexport default class TextParser {\n  constructor(builder, options) {\n    this.builder = builder\n    this.options = options\n\n    this.post = this.builder.createPost()\n    this.prevSection = null\n  }\n\n  /**\n   * @param {String} text to parse\n   * @return {Post} a post abstract\n   */\n  parse(text) {\n    text = normalizeLineEndings(text)\n    text.split(SECTION_BREAK).forEach(text => {\n      let section = this._parseSection(text)\n      this._appendSection(section)\n    })\n\n    return this.post\n  }\n\n  _parseSection(text) {\n    let tagName = DEFAULT_MARKUP_SECTION_TAG_NAME,\n      type = MARKUP_SECTION_TYPE,\n      section\n\n    if (UL_LI_REGEX.test(text)) {\n      tagName = 'ul'\n      type = LIST_SECTION_TYPE\n      text = text.match(UL_LI_REGEX)[1]\n    } else if (OL_LI_REGEX.test(text)) {\n      tagName = 'ol'\n      type = LIST_SECTION_TYPE\n      text = text.match(OL_LI_REGEX)[1]\n    }\n\n    let markers = [this.builder.createMarker(text)]\n\n    switch (type) {\n      case LIST_SECTION_TYPE: {\n        let item = this.builder.createListItem(markers)\n        let list = this.builder.createListSection(tagName, [item])\n        section = list\n        break\n      }\n      case MARKUP_SECTION_TYPE:\n        section = this.builder.createMarkupSection(tagName, markers)\n        break\n      default:\n        assert(`Unknown type encountered ${type}`, false)\n    }\n\n    return section\n  }\n\n  _appendSection(section) {\n    let isSameListSection =\n      section.isListSection &&\n      this.prevSection &&\n      this.prevSection.isListSection &&\n      this.prevSection.tagName === section.tagName\n\n    if (isSameListSection) {\n      section.items.forEach(item => {\n        this.prevSection.items.append(item.clone())\n      })\n    } else {\n      this.post.sections.insertAfter(section, this.prevSection)\n      this.prevSection = section\n    }\n  }\n}\n","/* global JSON */\nimport mobiledocParsers from '../parsers/mobiledoc'\nimport HTMLParser from '../parsers/html'\nimport TextParser from '../parsers/text'\n\nexport const MIME_TEXT_PLAIN = 'text/plain'\nexport const MIME_TEXT_HTML = 'text/html'\nexport const NONSTANDARD_IE_TEXT_TYPE = 'Text'\n\nconst MOBILEDOC_REGEX = new RegExp(/data-mobiledoc='(.*?)'>/)\n\n/**\n * @return {Post}\n * @private\n */\nfunction parsePostFromHTML(html, builder, plugins) {\n  let post\n\n  if (MOBILEDOC_REGEX.test(html)) {\n    let mobiledocString = html.match(MOBILEDOC_REGEX)[1]\n    let mobiledoc = JSON.parse(mobiledocString)\n    post = mobiledocParsers.parse(builder, mobiledoc)\n  } else {\n    post = new HTMLParser(builder, { plugins }).parse(html)\n  }\n\n  return post\n}\n\n/**\n * @return {Post}\n * @private\n */\nfunction parsePostFromText(text, builder, plugins) {\n  let parser = new TextParser(builder, { plugins })\n  let post = parser.parse(text)\n  return post\n}\n\n/**\n * @return {{html: String, text: String}}\n * @private\n */\nexport function getContentFromPasteEvent(event, window) {\n  let html = '',\n    text = ''\n\n  let { clipboardData } = event\n\n  if (clipboardData && clipboardData.getData) {\n    html = clipboardData.getData(MIME_TEXT_HTML)\n    text = clipboardData.getData(MIME_TEXT_PLAIN)\n  } else if (window.clipboardData && window.clipboardData.getData) {\n    // IE\n    // The Internet Explorers (including Edge) have a non-standard way of interacting with the\n    // Clipboard API (see http://caniuse.com/#feat=clipboard). In short, they expose a global window.clipboardData\n    // object instead of the per-event event.clipboardData object on the other browsers.\n    html = window.clipboardData.getData(NONSTANDARD_IE_TEXT_TYPE)\n  }\n\n  return { html, text }\n}\n\n/**\n * @return {{html: String, text: String}}\n * @private\n */\nfunction getContentFromDropEvent(event, logger) {\n  let html = '',\n    text = ''\n\n  try {\n    html = event.dataTransfer.getData(MIME_TEXT_HTML)\n    text = event.dataTransfer.getData(MIME_TEXT_PLAIN)\n  } catch (e) {\n    // FIXME IE11 does not include any data in the 'text/html' or 'text/plain'\n    // mimetypes. It throws an error 'Invalid argument' when attempting to read\n    // these properties.\n    if (logger) {\n      logger.log('Error getting drop data: ', e)\n    }\n  }\n\n  return { html, text }\n}\n\n/**\n * @param {CopyEvent|CutEvent}\n * @param {Editor}\n * @param {Window}\n * @private\n */\nexport function setClipboardData(event, { mobiledoc, html, text }, window) {\n  if (mobiledoc && html) {\n    html = `<div data-mobiledoc='${JSON.stringify(mobiledoc)}'>${html}</div>`\n  }\n\n  let { clipboardData } = event\n  let { clipboardData: nonstandardClipboardData } = window\n\n  if (clipboardData && clipboardData.setData) {\n    clipboardData.setData(MIME_TEXT_HTML, html)\n    clipboardData.setData(MIME_TEXT_PLAIN, text)\n  } else if (nonstandardClipboardData && nonstandardClipboardData.setData) {\n    // The Internet Explorers (including Edge) have a non-standard way of interacting with the\n    // Clipboard API (see http://caniuse.com/#feat=clipboard). In short, they expose a global window.clipboardData\n    // object instead of the per-event event.clipboardData object on the other browsers.\n    nonstandardClipboardData.setData(NONSTANDARD_IE_TEXT_TYPE, html)\n  }\n}\n\n/**\n * @param {PasteEvent}\n * @param {{builder: Builder, _parserPlugins: Array}} options\n * @return {Post}\n * @private\n */\nexport function parsePostFromPaste(\n  pasteEvent,\n  { builder, _parserPlugins: plugins },\n  { targetFormat } = { targetFormat: 'html' }\n) {\n  let { html, text } = getContentFromPasteEvent(pasteEvent, window)\n\n  if (targetFormat === 'html' && html && html.length) {\n    return parsePostFromHTML(html, builder, plugins)\n  } else if (text && text.length) {\n    return parsePostFromText(text, builder, plugins)\n  }\n}\n\n/**\n * @param {DropEvent}\n * @param {Editor} editor\n * @param {Object} [options={}] Can pass a logger\n * @return {Post}\n * @private\n */\nexport function parsePostFromDrop(dropEvent, editor, { logger } = {}) {\n  let { builder, _parserPlugins: plugins } = editor\n  let { html, text } = getContentFromDropEvent(dropEvent, logger)\n\n  if (html && html.length) {\n    return parsePostFromHTML(html, builder, plugins)\n  } else if (text && text.length) {\n    return parsePostFromText(text, builder, plugins)\n  }\n}\n","import { endsWith } from 'mobiledoc-kit/utils/string-utils'\nimport assert from 'mobiledoc-kit/utils/assert'\nimport deprecate from 'mobiledoc-kit/utils/deprecate'\nimport { ENTER } from 'mobiledoc-kit/utils/characters'\n\nclass TextInputHandler {\n  constructor(editor) {\n    this.editor = editor\n    this._handlers = []\n  }\n\n  register(handler) {\n    assert(`Input Handler is not valid`, this._validateHandler(handler))\n    this._handlers.push(handler)\n  }\n\n  unregister(name) {\n    let handlers = this._handlers\n    for (let i = 0; i < handlers.length; i++) {\n      if (handlers[i].name === name) {\n        handlers.splice(i, 1)\n      }\n    }\n  }\n\n  handle(string) {\n    let { editor } = this\n\n    editor.insertText(string)\n\n    let matchedHandler = this._findHandler()\n    if (matchedHandler) {\n      let [handler, matches] = matchedHandler\n      handler.run(editor, matches)\n    }\n  }\n\n  handleNewLine() {\n    let { editor } = this\n\n    let matchedHandler = this._findHandler(ENTER)\n    if (matchedHandler) {\n      let [handler, matches] = matchedHandler\n      handler.run(editor, matches)\n    }\n  }\n\n  _findHandler(string = '') {\n    let {\n      editor: {\n        range: {\n          head,\n          head: { section },\n        },\n      },\n    } = this\n    let preText = section.textUntil(head) + string\n\n    for (let i = 0; i < this._handlers.length; i++) {\n      let handler = this._handlers[i]\n      let { text, match } = handler\n\n      if (text && endsWith(preText, text)) {\n        return [handler, [text]]\n      } else if (match && match.test(preText)) {\n        return [handler, match.exec(preText)]\n      }\n    }\n  }\n\n  _validateHandler(handler) {\n    deprecate('Registered input handlers require a \"name\" property so that they can be unregistered', !!handler.name)\n    return (\n      !!handler.run && // has `run`\n      (!!handler.text || !!handler.match) && // and `text` or `match`\n      !(!!handler.text && !!handler.match)\n    ) // not both `text` and `match`\n  }\n\n  destroy() {\n    this._handlers = []\n  }\n}\n\nexport default TextInputHandler\n","let instance\n\nclass SelectionChangeObserver {\n  constructor() {\n    this.started = false\n    this.listeners = []\n    this.selection = {}\n  }\n\n  static getInstance() {\n    if (!instance) {\n      instance = new SelectionChangeObserver()\n    }\n    return instance\n  }\n\n  static addListener(listener) {\n    SelectionChangeObserver.getInstance().addListener(listener)\n  }\n\n  addListener(listener) {\n    if (this.listeners.indexOf(listener) === -1) {\n      this.listeners.push(listener)\n      this.start()\n    }\n  }\n\n  static removeListener(listener) {\n    SelectionChangeObserver.getInstance().removeListener(listener)\n  }\n\n  removeListener(listener) {\n    let index = this.listeners.indexOf(listener)\n    if (index !== -1) {\n      this.listeners.splice(index, 1)\n      if (this.listeners.length === 0) {\n        this.stop()\n      }\n    }\n  }\n\n  start() {\n    if (this.started) {\n      return\n    }\n    this.started = true\n\n    this.poll()\n  }\n\n  stop() {\n    this.started = false\n    this.selection = {}\n  }\n\n  notifyListeners(/* newSelection, prevSelection */) {\n    this.listeners.forEach(listener => {\n      listener.selectionDidChange(...arguments)\n    })\n  }\n\n  destroy() {\n    this.stop()\n    this.listeners = []\n  }\n\n  getSelection() {\n    let selection = window.getSelection()\n    let { anchorNode, focusNode, anchorOffset, focusOffset } = selection\n    return { anchorNode, focusNode, anchorOffset, focusOffset }\n  }\n\n  poll() {\n    if (this.started) {\n      this.update()\n      this.runNext(() => this.poll())\n    }\n  }\n\n  runNext(fn) {\n    window.requestAnimationFrame(fn)\n  }\n\n  update() {\n    let prevSelection = this.selection\n    let curSelection = this.getSelection()\n    if (!this.selectionIsEqual(prevSelection, curSelection)) {\n      this.selection = curSelection\n      this.notifyListeners(curSelection, prevSelection)\n    }\n  }\n\n  selectionIsEqual(s1, s2) {\n    return (\n      s1.anchorNode === s2.anchorNode &&\n      s1.anchorOffset === s2.anchorOffset &&\n      s1.focusNode === s2.focusNode &&\n      s1.focusOffset === s2.focusOffset\n    )\n  }\n}\n\nexport default SelectionChangeObserver\n","import SelectionChangeObserver from 'mobiledoc-kit/editor/selection-change-observer'\n\nexport default class SelectionManager {\n  constructor(editor, callback) {\n    this.editor = editor\n    this.callback = callback\n    this.started = false\n  }\n\n  start() {\n    if (this.started) {\n      return\n    }\n\n    SelectionChangeObserver.addListener(this)\n    this.started = true\n  }\n\n  stop() {\n    this.started = false\n    SelectionChangeObserver.removeListener(this)\n  }\n\n  destroy() {\n    this.stop()\n  }\n\n  selectionDidChange() {\n    if (this.started) {\n      this.callback(...arguments)\n    }\n  }\n}\n","import assert from 'mobiledoc-kit/utils/assert'\nimport { parsePostFromPaste, setClipboardData, parsePostFromDrop } from 'mobiledoc-kit/utils/parse-utils'\nimport { filter, forEach } from 'mobiledoc-kit/utils/array-utils'\nimport Key from '../utils/key'\nimport TextInputHandler from 'mobiledoc-kit/editor/text-input-handler'\nimport SelectionManager from 'mobiledoc-kit/editor/selection-manager'\nimport Browser from 'mobiledoc-kit/utils/browser'\n\nconst ELEMENT_EVENT_TYPES = [\n  'keydown',\n  'keyup',\n  'cut',\n  'copy',\n  'paste',\n  'keypress',\n  'drop',\n  'compositionstart',\n  'compositionend',\n]\n\nexport default class EventManager {\n  constructor(editor) {\n    this.editor = editor\n    this.logger = editor.loggerFor('event-manager')\n    this._textInputHandler = new TextInputHandler(editor)\n    this._isComposingOnBlankLine = false\n    this._listeners = []\n    this.modifierKeys = {\n      shift: false,\n    }\n\n    this._selectionManager = new SelectionManager(this.editor, this.selectionDidChange.bind(this))\n    this.started = true\n  }\n\n  init() {\n    let {\n      editor: { element },\n    } = this\n    assert(`Cannot init EventManager without element`, !!element)\n\n    ELEMENT_EVENT_TYPES.forEach(type => {\n      this._addListener(element, type)\n    })\n\n    this._selectionManager.start()\n  }\n\n  start() {\n    this.started = true\n  }\n\n  stop() {\n    this.started = false\n  }\n\n  registerInputHandler(inputHandler) {\n    this._textInputHandler.register(inputHandler)\n  }\n\n  unregisterInputHandler(name) {\n    this._textInputHandler.unregister(name)\n  }\n\n  unregisterAllTextInputHandlers() {\n    this._textInputHandler.destroy()\n    this._textInputHandler = new TextInputHandler(this.editor)\n  }\n\n  _addListener(context, type) {\n    assert(`Missing listener for ${type}`, !!this[type])\n\n    let listener = event => this._handleEvent(type, event)\n    context.addEventListener(type, listener)\n    this._listeners.push([context, type, listener])\n  }\n\n  _removeListeners() {\n    this._listeners.forEach(([context, type, listener]) => {\n      context.removeEventListener(type, listener)\n    })\n    this._listeners = []\n  }\n\n  // This is primarily useful for programmatically simulating events on the\n  // editor from the tests.\n  _trigger(context, type, event) {\n    forEach(\n      filter(this._listeners, ([_context, _type]) => {\n        return _context === context && _type === type\n      }),\n      ([context, , listener]) => {\n        listener.call(context, event)\n      }\n    )\n  }\n\n  destroy() {\n    this._textInputHandler.destroy()\n    this._selectionManager.destroy()\n    this._removeListeners()\n  }\n\n  _handleEvent(type, event) {\n    let { target: element } = event\n    if (!this.started) {\n      // abort handling this event\n      return true\n    }\n\n    if (!this.isElementAddressable(element)) {\n      // abort handling this event\n      return true\n    }\n\n    this[type](event)\n  }\n\n  isElementAddressable(element) {\n    return this.editor.cursor.isAddressable(element)\n  }\n\n  selectionDidChange(selection /*, prevSelection */) {\n    let shouldNotify = true\n    let { anchorNode } = selection\n    if (!this.isElementAddressable(anchorNode)) {\n      if (!this.editor.range.isBlank) {\n        // Selection changed from something addressable to something\n        // not-addressable -- e.g., blur event, user clicked outside editor,\n        // etc\n        shouldNotify = true\n      } else {\n        // selection changes wholly outside the editor should not trigger\n        // change notifications\n        shouldNotify = false\n      }\n    }\n\n    if (shouldNotify) {\n      this.editor._readRangeFromDOM()\n    }\n  }\n\n  keypress(event) {\n    let { editor, _textInputHandler } = this\n    if (!editor.hasCursor()) {\n      return\n    }\n\n    let key = Key.fromEvent(event)\n    if (!key.isPrintable()) {\n      return\n    } else {\n      event.preventDefault()\n    }\n\n    // Handle carriage returns\n    if (!key.isEnter() && key.keyCode === 13) {\n      _textInputHandler.handleNewLine()\n      editor.handleNewline(event)\n      return\n    }\n\n    _textInputHandler.handle(key.toString())\n  }\n\n  keydown(event) {\n    let { editor } = this\n    if (!editor.hasCursor()) {\n      return\n    }\n    if (!editor.isEditable) {\n      return\n    }\n\n    let key = Key.fromEvent(event)\n    this._updateModifiersFromKey(key, { isDown: true })\n\n    if (editor.handleKeyCommand(event)) {\n      return\n    }\n\n    if (editor.post.isBlank) {\n      editor._insertEmptyMarkupSectionAtCursor()\n    }\n\n    let range = editor.range\n\n    switch (true) {\n      // Ignore keydown events when using an IME\n      case key.isIME(): {\n        break\n      }\n      // FIXME This should be restricted to only card/atom boundaries\n      case key.isHorizontalArrowWithoutModifiersOtherThanShift(): {\n        let newRange\n        if (key.isShift()) {\n          newRange = range.extend(key.direction * 1)\n        } else {\n          newRange = range.move(key.direction)\n        }\n\n        editor.selectRange(newRange)\n        event.preventDefault()\n        break\n      }\n      case key.isDelete(): {\n        let { direction } = key\n        let unit = 'char'\n        if (key.altKey && Browser.isMac()) {\n          unit = 'word'\n        } else if (key.ctrlKey && !Browser.isMac()) {\n          unit = 'word'\n        }\n        editor.performDelete({ direction, unit })\n        event.preventDefault()\n        break\n      }\n      case key.isEnter():\n        this._textInputHandler.handleNewLine()\n        editor.handleNewline(event)\n        break\n      case key.isTab():\n        // Handle tab here because it does not fire a `keypress` event\n        event.preventDefault()\n        this._textInputHandler.handle(key.toString())\n        break\n    }\n  }\n\n  keyup(event) {\n    let { editor } = this\n    if (!editor.hasCursor()) {\n      return\n    }\n    let key = Key.fromEvent(event)\n    this._updateModifiersFromKey(key, { isDown: false })\n  }\n\n  // The mutation handler interferes with IMEs when composing\n  // on a blank line. These two event handlers are for suppressing\n  // mutation handling in this scenario.\n  compositionstart(event) {\n    let { editor } = this\n    // Ignore compositionstart if not on a blank line\n    if (editor.range.headMarker) {\n      return\n    }\n    this._isComposingOnBlankLine = true\n\n    if (editor.post.isBlank) {\n      editor._insertEmptyMarkupSectionAtCursor()\n    }\n\n    // Stop listening for mutations on Chrome browsers and suppress\n    // mutations by prepending a character for other browsers.\n    // The reason why we treat these separately is because\n    // of the way each browser processes IME inputs.\n    if (Browser.isChrome()) {\n      editor.setPlaceholder('')\n      editor._mutationHandler.stopObserving()\n    } else {\n      this._textInputHandler.handle(' ')\n    }\n  }\n\n  compositionend(event) {\n    let { editor } = this\n\n    // Ignore compositionend if not composing on blank line\n    if (!this._isComposingOnBlankLine) {\n      return\n    }\n    this._isComposingOnBlankLine = false\n\n    // Start listening for mutations on Chrome browsers and\n    // delete the prepended character introduced by compositionstart\n    // for other browsers.\n    if (Browser.isChrome()) {\n      editor.insertText(event.data)\n      editor.setPlaceholder(editor.placeholder)\n      editor._mutationHandler.startObserving()\n    } else {\n      let startOfCompositionLine = editor.range.headSection.toPosition(0)\n      let endOfCompositionLine = editor.range.headSection.toPosition(event.data.length)\n      editor.run(postEditor => {\n        postEditor.deleteAtPosition(startOfCompositionLine, 1, { unit: 'char' })\n        postEditor.setRange(endOfCompositionLine)\n      })\n    }\n  }\n\n  cut(event) {\n    event.preventDefault()\n\n    this.copy(event)\n    this.editor.performDelete()\n  }\n\n  copy(event) {\n    event.preventDefault()\n\n    let {\n      editor,\n      editor: { range, post },\n    } = this\n    post = post.trimTo(range)\n\n    let data = {\n      html: editor.serializePost(post, 'html'),\n      text: editor.serializePost(post, 'text'),\n      mobiledoc: editor.serializePost(post, 'mobiledoc'),\n    }\n\n    editor.runCallbacks('willCopy', [data])\n\n    setClipboardData(event, data, window)\n  }\n\n  paste(event) {\n    event.preventDefault()\n\n    let { editor } = this\n    let range = editor.range\n\n    if (!range.isCollapsed) {\n      editor.performDelete()\n    }\n\n    if (editor.post.isBlank) {\n      editor._insertEmptyMarkupSectionAtCursor()\n    }\n\n    let position = editor.range.head\n    let targetFormat = this.modifierKeys.shift ? 'text' : 'html'\n    let pastedPost = parsePostFromPaste(event, editor, { targetFormat })\n\n    editor.run(postEditor => {\n      let nextPosition = postEditor.insertPost(position, pastedPost)\n      postEditor.setRange(nextPosition)\n    })\n  }\n\n  drop(event) {\n    event.preventDefault()\n\n    let { clientX: x, clientY: y } = event\n    let { editor } = this\n\n    let position = editor.positionAtPoint(x, y)\n    if (!position) {\n      this.logger.log('Could not find drop position')\n      return\n    }\n\n    let post = parsePostFromDrop(event, editor, { logger: this.logger })\n    if (!post) {\n      this.logger.log('Could not determine post from drop event')\n      return\n    }\n\n    editor.run(postEditor => {\n      let nextPosition = postEditor.insertPost(position, post)\n      postEditor.setRange(nextPosition)\n    })\n  }\n\n  _updateModifiersFromKey(key, { isDown }) {\n    if (key.isShiftKey()) {\n      this.modifierKeys.shift = isDown\n    }\n  }\n}\n","import { contains, isArrayEqual, objectToSortedKVArray } from 'mobiledoc-kit/utils/array-utils'\nimport Range from 'mobiledoc-kit/utils/cursor/range'\n\n/**\n * Used by {@link Editor} to manage its current state (cursor, active markups\n * and active sections).\n * @private\n */\nexport default class EditState {\n  constructor(editor) {\n    this.editor = editor\n\n    let defaultState = {\n      range: Range.blankRange(),\n      activeMarkups: [],\n      activeSections: [],\n      activeSectionTagNames: [],\n      activeSectionAttributes: {},\n    }\n\n    this.prevState = this.state = defaultState\n  }\n\n  updateRange(newRange) {\n    this.prevState = this.state\n    this.state = this._readState(newRange)\n  }\n\n  destroy() {\n    this.editor = null\n    this.prevState = this.state = null\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  rangeDidChange() {\n    let {\n      state: { range },\n      prevState: { range: prevRange },\n    } = this\n\n    return !prevRange.isEqual(range)\n  }\n\n  /**\n   * @return {Boolean} Whether the input mode (active markups or active section tag names)\n   * has changed.\n   */\n  inputModeDidChange() {\n    let { state, prevState } = this\n    return (\n      !isArrayEqual(state.activeMarkups, prevState.activeMarkups) ||\n      !isArrayEqual(state.activeSectionTagNames, prevState.activeSectionTagNames) ||\n      !isArrayEqual(\n        objectToSortedKVArray(state.activeSectionAttributes),\n        objectToSortedKVArray(prevState.activeSectionAttributes)\n      )\n    )\n  }\n\n  /**\n   * @return {Range}\n   */\n  get range() {\n    return this.state.range\n  }\n\n  /**\n   * @return {Section[]}\n   */\n  get activeSections() {\n    return this.state.activeSections\n  }\n\n  /**\n   * @return {Object}\n   */\n  get activeSectionAttributes() {\n    return this.state.activeSectionAttributes\n  }\n\n  /**\n   * @return {Markup[]}\n   */\n  get activeMarkups() {\n    return this.state.activeMarkups\n  }\n\n  /**\n   * Update the editor's markup state. This is used when, e.g.,\n   * a user types meta+B when the editor has a cursor but no selected text;\n   * in this case the editor needs to track that it has an active \"b\" markup\n   * and apply it to the next text the user types.\n   */\n  toggleMarkupState(markup) {\n    if (contains(this.activeMarkups, markup)) {\n      this._removeActiveMarkup(markup)\n    } else {\n      this._addActiveMarkup(markup)\n    }\n  }\n\n  _readState(range) {\n    let state = {\n      range,\n      activeMarkups: this._readActiveMarkups(range),\n      activeSections: this._readActiveSections(range),\n    }\n    // Section objects are 'live', so to check that they changed, we\n    // need to map their tagNames now (and compare to mapped tagNames later).\n    // In addition, to catch changes from ul -> ol, we keep track of the\n    // un-nested tag names (otherwise we'd only see li -> li change)\n    state.activeSectionTagNames = state.activeSections.map(s => {\n      return s.isNested ? s.parent.tagName : s.tagName\n    })\n    state.activeSectionAttributes = this._readSectionAttributes(state.activeSections)\n    return state\n  }\n\n  _readActiveSections(range) {\n    let { head, tail } = range\n    let {\n      editor: { post },\n    } = this\n    if (range.isBlank) {\n      return []\n    } else {\n      return post.sections.readRange(head.section, tail.section)\n    }\n  }\n\n  _readActiveMarkups(range) {\n    let {\n      editor: { post },\n    } = this\n    return post.markupsInRange(range)\n  }\n\n  _readSectionAttributes(sections) {\n    return sections.reduce((sectionAttributes, s) => {\n      let attributes = s.isNested ? s.parent.attributes : s.attributes\n      Object.keys(attributes || {}).forEach(attrName => {\n        let camelizedAttrName = attrName.replace(/^data-md-/, '')\n        let attrValue = attributes[attrName]\n        sectionAttributes[camelizedAttrName] = sectionAttributes[camelizedAttrName] || []\n        if (!contains(sectionAttributes[camelizedAttrName], attrValue)) {\n          sectionAttributes[camelizedAttrName].push(attrValue)\n        }\n      })\n      return sectionAttributes\n    }, {})\n  }\n\n  _removeActiveMarkup(markup) {\n    let index = this.state.activeMarkups.indexOf(markup)\n    this.state.activeMarkups.splice(index, 1)\n  }\n\n  _addActiveMarkup(markup) {\n    this.state.activeMarkups.push(markup)\n  }\n}\n","function addHTMLSpaces(text) {\n  let nbsp = '\\u00A0';\n  return text.replace(/  /g, ' ' + nbsp);\n}\n\nexport function createTextNode(dom, text) {\n  return dom.createTextNode(addHTMLSpaces(text));\n}\n\nexport function normalizeTagName(tagName) {\n  return tagName.toLowerCase();\n}\n","export default 'dom';\n","import RENDER_TYPE from '../utils/render-type';\n\nexport default {\n  name: 'image',\n  type: RENDER_TYPE,\n  render({payload, env: {dom}}) {\n    let img = dom.createElement('img');\n    img.src = payload.src;\n    return img;\n  }\n};\n","export const MARKUP_SECTION_TYPE = 1;\nexport const IMAGE_SECTION_TYPE = 2;\nexport const LIST_SECTION_TYPE = 3;\nexport const CARD_SECTION_TYPE = 10;\n","import {\n  MARKUP_SECTION_TYPE,\n  LIST_SECTION_TYPE\n} from './section-types';\nimport { normalizeTagName } from './dom';\n\nconst MARKUP_SECTION_TAG_NAMES = [\n  'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'pull-quote', 'aside'\n].map(normalizeTagName);\n\nconst MARKUP_SECTION_ELEMENT_NAMES = [\n  'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'aside'\n].map(normalizeTagName);\n\nconst LIST_SECTION_TAG_NAMES = [\n  'ul', 'ol'\n].map(normalizeTagName);\n\nconst MARKUP_TYPES = [\n  'b', 'i', 'strong', 'em', 'a', 'u', 'sub', 'sup', 's', 'code'\n].map(normalizeTagName);\n\nfunction contains(array, item) {\n  return array.indexOf(item) !== -1;\n}\n\nexport function isValidSectionTagName(tagName, sectionType) {\n  tagName = normalizeTagName(tagName);\n\n  switch (sectionType) {\n    case MARKUP_SECTION_TYPE:\n      return contains(MARKUP_SECTION_TAG_NAMES, tagName);\n    case LIST_SECTION_TYPE:\n      return contains(LIST_SECTION_TAG_NAMES, tagName);\n    default:\n      throw new Error(`Cannot validate tagName for unknown section type \"${sectionType}\"`);\n  }\n}\n\nexport function isMarkupSectionElementName(tagName) {\n  tagName = normalizeTagName(tagName);\n  return contains(MARKUP_SECTION_ELEMENT_NAMES, tagName);\n}\n\nexport function isValidMarkerType(type) {\n  type = normalizeTagName(type);\n  return contains(MARKUP_TYPES, type);\n}\n","export function includes(array, detectValue) {\n  for (let i=0;i < array.length;i++) {\n    let value = array[i];\n    if (value === detectValue) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\n/**\n * @param {Array} array of key1,value1,key2,value2,...\n * @return {Object} {key1:value1, key2:value2, ...}\n * @private\n */\nexport function kvArrayToObject(array) {\n  if (!Array.isArray(array)) { return {}; }\n\n  const obj = {};\n  for (let i = 0; i < array.length; i+=2) {\n    let [key, value] = [array[i], array[i+1]];\n    obj[key] = value;\n  }\n  return obj;\n}\n\n/**\n * @param {Object} {key1:value1, key2:value2, ...}\n * @return {Array} array of key1,value1,key2,value2,...\n * @private\n */\nexport function objectToSortedKVArray(obj) {\n  const keys = Object.keys(obj).sort();\n  const result = [];\n  keys.forEach(k => {\n    result.push(k);\n    result.push(obj[k]);\n  });\n  return result;\n}\n","import { includes } from './array-utils';\n\nconst PROTOCOL_REGEXP = /^([a-z0-9.+-]+:)/i;\n\nconst badProtocols = [\n  'javascript:', // jshint ignore:line\n  'vbscript:' // jshint ignore:line\n];\n\nfunction getProtocol(url) {\n  let matches = url && url.match(PROTOCOL_REGEXP);\n  let protocol = (matches && matches[0]) || ':';\n  return protocol;\n}\n\nexport function sanitizeHref(url) {\n  let protocol = getProtocol(url).toLowerCase();\n  if (includes(badProtocols, protocol)) {\n    return `unsafe:${url}`;\n  }\n  return url;\n}\n\n/**\n * @param attributes array\n * @return obj with normalized attribute names (lowercased)\n */\nexport function reduceAttributes(attributes) {\n  let obj = {};\n  for (let i = 0; i < attributes.length; i += 2) {\n    let key = attributes[i];\n    let val = attributes[i+1];\n    obj[key.toLowerCase()] = val;\n  }\n  return obj;\n}\n","import {\n  isMarkupSectionElementName\n} from '../utils/tag-names';\nimport {\n  sanitizeHref\n} from './sanitization-utils';\n\nexport const VALID_ATTRIBUTES = [\n  'data-md-text-align'\n];\n\nfunction _isValidAttribute(attr) {\n  return VALID_ATTRIBUTES.indexOf(attr) !== -1;\n}\n\nfunction handleMarkupSectionAttribute(element, attributeKey, attributeValue) {\n  if (!_isValidAttribute(attributeKey)) {\n    throw new Error(`Cannot use attribute: ${attributeKey}`);\n  }\n\n  element.setAttribute(attributeKey, attributeValue);\n}\n\nexport function defaultSectionElementRenderer(tagName, dom, attrsObj = {}) {\n  let element;\n  if (isMarkupSectionElementName(tagName)) {\n    element = dom.createElement(tagName);\n\n    Object.keys(attrsObj).forEach(k => {\n      handleMarkupSectionAttribute(element, k, attrsObj[k]);\n    });\n  } else {\n    element = dom.createElement('div');\n    element.setAttribute('class', tagName);\n  }\n\n  return element;\n}\n\nfunction sanitizeAttribute(tagName, attrName, attrValue) {\n  if (tagName === 'a' && attrName === 'href') {\n    return sanitizeHref(attrValue);\n  } else {\n    return attrValue;\n  }\n}\n\nexport function defaultMarkupElementRenderer(tagName, dom, attrsObj) {\n  let element = dom.createElement(tagName);\n  Object.keys(attrsObj).forEach(attrName => {\n    let attrValue = attrsObj[attrName];\n    attrValue = sanitizeAttribute(tagName, attrName, attrValue);\n    element.setAttribute(attrName, attrValue);\n  });\n  return element;\n}\n\n","import { createTextNode } from '../utils/dom';\nimport ImageCard from '../cards/image';\nimport RENDER_TYPE from '../utils/render-type';\nimport {\n  MARKUP_SECTION_TYPE,\n  IMAGE_SECTION_TYPE,\n  LIST_SECTION_TYPE,\n  CARD_SECTION_TYPE\n} from '../utils/section-types';\nimport {\n  isValidSectionTagName,\n  isValidMarkerType\n} from '../utils/tag-names';\nimport {\n  reduceAttributes\n} from '../utils/sanitization-utils';\nimport {\n  defaultSectionElementRenderer,\n  defaultMarkupElementRenderer\n} from '../utils/render-utils';\n\nexport const MOBILEDOC_VERSION = '0.2.0';\n\nconst IMAGE_SECTION_TAG_NAME = 'img';\n\nfunction validateVersion(version) {\n  if (version !== MOBILEDOC_VERSION) {\n    throw new Error(`Unexpected Mobiledoc version \"${version}\"`);\n  }\n}\n\nexport default class Renderer {\n  constructor(mobiledoc, options) {\n    let {\n      cards,\n      cardOptions,\n      unknownCardHandler,\n      markupElementRenderer,\n      sectionElementRenderer,\n      dom\n    } = options;\n    let {\n      version,\n      sections: sectionData\n    } = mobiledoc;\n    validateVersion(version);\n\n    const [markerTypes, sections] = sectionData;\n\n    this.dom                = dom;\n    this.root               = dom.createDocumentFragment();\n    this.markerTypes        = markerTypes;\n    this.sections           = sections;\n    this.cards              = cards;\n    this.cardOptions        = cardOptions;\n    this.unknownCardHandler = unknownCardHandler || this._defaultUnknownCardHandler;\n\n    this.sectionElementRenderer = {\n      '__default__': defaultSectionElementRenderer\n    };\n    Object.keys(sectionElementRenderer).forEach(key => {\n      this.sectionElementRenderer[key.toLowerCase()] = sectionElementRenderer[key];\n    });\n\n    this.markupElementRenderer = {\n      '__default__': defaultMarkupElementRenderer\n    };\n    Object.keys(markupElementRenderer).forEach(key => {\n      this.markupElementRenderer[key.toLowerCase()] = markupElementRenderer[key];\n    });\n\n    this._renderCallbacks    = [];\n    this._teardownCallbacks  = [];\n    this._renderedChildNodes = [];\n  }\n\n  get _defaultUnknownCardHandler() {\n    return ({env: {name}}) => {\n      throw new Error(`Card \"${name}\" not found but no unknownCardHandler was registered`);\n    };\n  }\n\n  render() {\n    this.sections.forEach(section => {\n      let rendered = this.renderSection(section);\n      if (rendered) {\n        this.root.appendChild(rendered);\n      }\n    });\n    for (let i = 0; i < this._renderCallbacks.length; i++) {\n      this._renderCallbacks[i]();\n    }\n    // maintain a reference to child nodes so they can be cleaned up later by teardown\n    this._renderedChildNodes = [];\n    let node = this.root.firstChild;\n    while (node) {\n      this._renderedChildNodes.push(node);\n      node = node.nextSibling;\n    }\n    return { result: this.root, teardown: () => this.teardown() };\n  }\n\n  teardown() {\n    for (let i=0; i < this._teardownCallbacks.length; i++) {\n      this._teardownCallbacks[i]();\n    }\n    for (let i=0; i < this._renderedChildNodes.length; i++) {\n      let node = this._renderedChildNodes[i];\n      if (node.parentNode) {\n        node.parentNode.removeChild(node);\n      }\n    }\n  }\n\n  renderSection(section) {\n    const [type] = section;\n    switch (type) {\n      case MARKUP_SECTION_TYPE:\n        return this.renderMarkupSection(section);\n      case IMAGE_SECTION_TYPE:\n        return this.renderImageSection(section);\n      case LIST_SECTION_TYPE:\n        return this.renderListSection(section);\n      case CARD_SECTION_TYPE:\n        return this.renderCardSection(section);\n      default:\n        throw new Error(`Cannot render mobiledoc section of type \"${type}\"`);\n    }\n  }\n\n  renderMarkersOnElement(element, markers) {\n    let elements = [element];\n    let currentElement = element;\n\n    let pushElement = (openedElement) => {\n      currentElement.appendChild(openedElement);\n      elements.push(openedElement);\n      currentElement = openedElement;\n    };\n\n    for (let i=0, l=markers.length; i<l; i++) {\n      let marker = markers[i];\n      let [openTypes, closeCount, text] = marker;\n\n      for (let j=0, m=openTypes.length; j<m; j++) {\n        let markerType = this.markerTypes[openTypes[j]];\n        let [tagName, attrs=[]] = markerType;\n        if (isValidMarkerType(tagName)) {\n          pushElement(this.renderMarkupElement(tagName, attrs));\n        } else {\n          closeCount--;\n        }\n      }\n\n      currentElement.appendChild(createTextNode(this.dom, text));\n\n      for (let j=0, m=closeCount; j<m; j++) {\n        elements.pop();\n        currentElement = elements[elements.length - 1];\n      }\n    }\n  }\n\n  /**\n   * @param attrs Array\n   */\n  renderMarkupElement(tagName, attrs) {\n    tagName = tagName.toLowerCase();\n    attrs   = reduceAttributes(attrs);\n\n    let renderer = this.markupElementRendererFor(tagName);\n    return renderer(tagName, this.dom, attrs);\n  }\n\n  markupElementRendererFor(tagName) {\n    return this.markupElementRenderer[tagName] ||\n      this.markupElementRenderer.__default__;\n  }\n\n  renderListItem(markers) {\n    const element = this.dom.createElement('li');\n    this.renderMarkersOnElement(element, markers);\n    return element;\n  }\n\n  renderListSection([type, tagName, listItems]) {\n    if (!isValidSectionTagName(tagName, LIST_SECTION_TYPE)) {\n      return;\n    }\n    const element = this.dom.createElement(tagName);\n    listItems.forEach(li => {\n      element.appendChild(this.renderListItem(li));\n    });\n    return element;\n  }\n\n  renderImageSection([type, src]) {\n    let element = this.dom.createElement(IMAGE_SECTION_TAG_NAME);\n    element.src = src;\n    return element;\n  }\n\n  findCard(name) {\n    for (let i=0; i < this.cards.length; i++) {\n      if (this.cards[i].name === name) {\n        return this.cards[i];\n      }\n    }\n    if (name === ImageCard.name) {\n      return ImageCard;\n    }\n    return this._createUnknownCard(name);\n  }\n\n  _createUnknownCard(name) {\n    return {\n      name,\n      type: RENDER_TYPE,\n      render: this.unknownCardHandler\n    };\n  }\n\n  _createCardArgument(card, payload={}) {\n    let env = {\n      name: card.name,\n      isInEditor: false,\n      dom: this.dom,\n      didRender: (callback) => this._registerRenderCallback(callback),\n      onTeardown: (callback) => this._registerTeardownCallback(callback)\n    };\n\n    let options = this.cardOptions;\n\n    return { env, options, payload };\n  }\n\n  _registerRenderCallback(callback) {\n    this._renderCallbacks.push(callback);\n  }\n\n  _registerTeardownCallback(callback) {\n    this._teardownCallbacks.push(callback);\n  }\n\n  renderCardSection([type, name, payload]) {\n    let card = this.findCard(name);\n\n    let cardArg = this._createCardArgument(card, payload);\n    let rendered = card.render(cardArg);\n\n    this._validateCardRender(rendered, card.name);\n\n    return rendered;\n  }\n\n  _validateCardRender(rendered, cardName) {\n    if (!rendered) {\n      return;\n    }\n\n    if (typeof rendered !== 'object') {\n      throw new Error(`Card \"${cardName}\" must render ${RENDER_TYPE}, but result was \"${rendered}\"`);\n    }\n  }\n\n  renderMarkupSection([type, tagName, markers]) {\n    tagName = tagName.toLowerCase();\n    if (!isValidSectionTagName(tagName, MARKUP_SECTION_TYPE)) {\n      return;\n    }\n\n    let renderer = this.sectionElementRendererFor(tagName);\n    let element = renderer(tagName, this.dom);\n\n    this.renderMarkersOnElement(element, markers);\n    return element;\n  }\n\n  sectionElementRendererFor(tagName) {\n    return this.sectionElementRenderer[tagName] ||\n      this.sectionElementRenderer.__default__;\n  }\n}\n\n","export const MARKUP_MARKER_TYPE = 0;\nexport const ATOM_MARKER_TYPE = 1;","import { createTextNode } from '../utils/dom';\nimport ImageCard from '../cards/image';\nimport RENDER_TYPE from '../utils/render-type';\nimport {\n  MARKUP_SECTION_TYPE,\n  IMAGE_SECTION_TYPE,\n  LIST_SECTION_TYPE,\n  CARD_SECTION_TYPE\n} from '../utils/section-types';\nimport {\n  isValidSectionTagName,\n  isValidMarkerType\n} from '../utils/tag-names';\nimport {\n  reduceAttributes\n} from '../utils/sanitization-utils';\nimport {\n  defaultSectionElementRenderer,\n  defaultMarkupElementRenderer\n} from '../utils/render-utils';\n\nimport {\n  MARKUP_MARKER_TYPE,\n  ATOM_MARKER_TYPE\n} from '../utils/marker-types';\n\nexport const MOBILEDOC_VERSION_0_3_0 = '0.3.0';\nexport const MOBILEDOC_VERSION_0_3_1 = '0.3.1';\nexport const MOBILEDOC_VERSION_0_3_2 = '0.3.2';\n\nconst IMAGE_SECTION_TAG_NAME = 'img';\n\nfunction validateVersion(version) {\n  switch (version) {\n    case MOBILEDOC_VERSION_0_3_0:\n    case MOBILEDOC_VERSION_0_3_1:\n    case MOBILEDOC_VERSION_0_3_2:\n      return;\n    default:\n      throw new Error(`Unexpected Mobiledoc version \"${version}\"`);\n  }\n}\n\nexport default class Renderer {\n  constructor(mobiledoc, state) {\n\n    let {\n      cards,\n      cardOptions,\n      atoms,\n      unknownCardHandler,\n      unknownAtomHandler,\n      markupElementRenderer,\n      sectionElementRenderer,\n      dom\n    } = state;\n    let {\n      version,\n      sections,\n      atoms: atomTypes,\n      cards: cardTypes,\n      markups: markerTypes\n    } = mobiledoc;\n    validateVersion(version);\n\n    this.dom                = dom;\n    this.root               = this.dom.createDocumentFragment();\n    this.sections           = sections;\n    this.atomTypes          = atomTypes;\n    this.cardTypes          = cardTypes;\n    this.markerTypes        = markerTypes;\n    this.cards              = cards;\n    this.atoms              = atoms;\n    this.cardOptions        = cardOptions;\n    this.unknownCardHandler = unknownCardHandler || this._defaultUnknownCardHandler;\n    this.unknownAtomHandler = unknownAtomHandler || this._defaultUnknownAtomHandler;\n\n    this.sectionElementRenderer = {\n      '__default__': defaultSectionElementRenderer\n    };\n    Object.keys(sectionElementRenderer).forEach(key => {\n      this.sectionElementRenderer[key.toLowerCase()] = sectionElementRenderer[key];\n    });\n\n    this.markupElementRenderer = {\n      '__default__': defaultMarkupElementRenderer\n    };\n    Object.keys(markupElementRenderer).forEach(key => {\n      this.markupElementRenderer[key.toLowerCase()] = markupElementRenderer[key];\n    });\n\n    this._renderCallbacks = [];\n    this._teardownCallbacks  = [];\n  }\n\n  get _defaultUnknownCardHandler() {\n    return ({env: {name}}) => {\n      throw new Error(`Card \"${name}\" not found but no unknownCardHandler was registered`);\n    };\n  }\n\n  get _defaultUnknownAtomHandler() {\n    return ({env: {name}}) => {\n      throw new Error(`Atom \"${name}\" not found but no unknownAtomHandler was registered`);\n    };\n  }\n\n  render() {\n    this.sections.forEach(section => {\n      let rendered = this.renderSection(section);\n      if (rendered) {\n        this.root.appendChild(rendered);\n      }\n    });\n    for (let i=0; i < this._renderCallbacks.length; i++) {\n      this._renderCallbacks[i]();\n    }\n    // maintain a reference to child nodes so they can be cleaned up later by teardown\n    this._renderedChildNodes = Array.prototype.slice.call(this.root.childNodes);\n    return { result: this.root, teardown: () => this.teardown() };\n  }\n\n  teardown() {\n    for (let i=0; i < this._teardownCallbacks.length; i++) {\n      this._teardownCallbacks[i]();\n    }\n    for (let i=0; i < this._renderedChildNodes.length; i++) {\n      let node = this._renderedChildNodes[i];\n      if (node.parentNode) {\n        node.parentNode.removeChild(node);\n      }\n    }\n  }\n\n  renderSection(section) {\n    const [type] = section;\n    switch (type) {\n      case MARKUP_SECTION_TYPE:\n        return this.renderMarkupSection(section);\n      case IMAGE_SECTION_TYPE:\n        return this.renderImageSection(section);\n      case LIST_SECTION_TYPE:\n        return this.renderListSection(section);\n      case CARD_SECTION_TYPE:\n        return this.renderCardSection(section);\n      default:\n        throw new Error(`Cannot render mobiledoc section of type \"${type}\"`);\n    }\n  }\n\n  renderMarkersOnElement(element, markers) {\n    let elements = [element];\n    let currentElement = element;\n\n    let pushElement = (openedElement) => {\n      currentElement.appendChild(openedElement);\n      elements.push(openedElement);\n      currentElement = openedElement;\n    };\n\n    for (let i=0, l=markers.length; i<l; i++) {\n      let marker = markers[i];\n      let [type, openTypes, closeCount, value] = marker;\n\n      for (let j=0, m=openTypes.length; j<m; j++) {\n        let markerType = this.markerTypes[openTypes[j]];\n        let [tagName, attrs=[]] = markerType;\n\n        if (isValidMarkerType(tagName)) {\n          pushElement(this.renderMarkupElement(tagName, attrs));\n        } else {\n          closeCount--;\n        }\n      }\n\n      switch (type) {\n        case MARKUP_MARKER_TYPE:\n          currentElement.appendChild(createTextNode(this.dom, value));\n          break;\n        case ATOM_MARKER_TYPE:\n          currentElement.appendChild(this._renderAtom(value));\n          break;\n        default:\n          throw new Error(`Unknown markup type (${type})`);\n      }\n\n      for (let j=0, m=closeCount; j<m; j++) {\n        elements.pop();\n        currentElement = elements[elements.length - 1];\n      }\n    }\n  }\n\n  /**\n   * @param attrs Array\n   */\n  renderMarkupElement(tagName, attrs) {\n    tagName = tagName.toLowerCase();\n    attrs   = reduceAttributes(attrs);\n\n    let renderer = this.markupElementRendererFor(tagName);\n    return renderer(tagName, this.dom, attrs);\n  }\n\n  markupElementRendererFor(tagName) {\n    return this.markupElementRenderer[tagName] ||\n      this.markupElementRenderer.__default__;\n  }\n\n  renderListItem(markers) {\n    const element = this.dom.createElement('li');\n    this.renderMarkersOnElement(element, markers);\n    return element;\n  }\n\n  renderListSection([type, tagName, listItems]) {\n    if (!isValidSectionTagName(tagName, LIST_SECTION_TYPE)) {\n      return;\n    }\n    const element = this.dom.createElement(tagName);\n    listItems.forEach(li => {\n      element.appendChild(this.renderListItem(li));\n    });\n    return element;\n  }\n\n  renderImageSection([type, src]) {\n    let element = this.dom.createElement(IMAGE_SECTION_TAG_NAME);\n    element.src = src;\n    return element;\n  }\n\n  findCard(name) {\n    for (let i=0; i < this.cards.length; i++) {\n      if (this.cards[i].name === name) {\n        return this.cards[i];\n      }\n    }\n    if (name === ImageCard.name) {\n      return ImageCard;\n    }\n    return this._createUnknownCard(name);\n  }\n\n  _findCardByIndex(index) {\n    let cardType = this.cardTypes[index];\n    if (!cardType) {\n      throw new Error(`No card definition found at index ${index}`);\n    }\n\n    let [ name, payload ] = cardType;\n    let card = this.findCard(name);\n\n    return {\n      card,\n      payload\n    };\n  }\n\n  _createUnknownCard(name) {\n    return {\n      name,\n      type: RENDER_TYPE,\n      render: this.unknownCardHandler\n    };\n  }\n\n  _createCardArgument(card, payload={}) {\n    let env = {\n      name: card.name,\n      isInEditor: false,\n      dom: this.dom,\n      didRender: (callback) => this._registerRenderCallback(callback),\n      onTeardown: (callback) => this._registerTeardownCallback(callback)\n    };\n\n    let options = this.cardOptions;\n\n    return { env, options, payload };\n  }\n\n  _registerTeardownCallback(callback) {\n    this._teardownCallbacks.push(callback);\n  }\n\n  _registerRenderCallback(callback) {\n    this._renderCallbacks.push(callback);\n  }\n\n  renderCardSection([type, index]) {\n    let { card, payload } = this._findCardByIndex(index);\n\n    let cardArg = this._createCardArgument(card, payload);\n    let rendered = card.render(cardArg);\n\n    this._validateCardRender(rendered, card.name);\n\n    return rendered;\n  }\n\n  _validateCardRender(rendered, cardName) {\n    if (!rendered) {\n      return;\n    }\n\n    if (typeof rendered !== 'object') {\n      throw new Error(`Card \"${cardName}\" must render ${RENDER_TYPE}, but result was \"${rendered}\"`);\n    }\n  }\n\n  findAtom(name) {\n    for (let i=0; i < this.atoms.length; i++) {\n      if (this.atoms[i].name === name) {\n        return this.atoms[i];\n      }\n    }\n    return this._createUnknownAtom(name);\n  }\n\n  _createUnknownAtom(name) {\n    return {\n      name,\n      type: RENDER_TYPE,\n      render: this.unknownAtomHandler\n    };\n  }\n\n  _createAtomArgument(atom, value, payload) {\n    let env = {\n      name: atom.name,\n      isInEditor: false,\n      dom: this.dom,\n      onTeardown: (callback) => this._registerTeardownCallback(callback)\n    };\n\n    let options = this.cardOptions;\n\n    return { env, options, value, payload };\n  }\n\n  _validateAtomRender(rendered, atomName) {\n    if (!rendered) {\n      return;\n    }\n\n    if (typeof rendered !== 'object') {\n      throw new Error(`Atom \"${atomName}\" must render ${RENDER_TYPE}, but result was \"${rendered}\"`);\n    }\n  }\n\n  _findAtomByIndex(index) {\n    let atomType = this.atomTypes[index];\n    if (!atomType) {\n      throw new Error(`No atom definition found at index ${index}`);\n    }\n\n    let [ name, value, payload ] = atomType;\n    let atom = this.findAtom(name);\n\n    return {\n      atom,\n      value,\n      payload\n    };\n  }\n\n  _renderAtom(index) {\n    let { atom, value, payload } = this._findAtomByIndex(index);\n\n    let atomArg = this._createAtomArgument(atom, value, payload);\n    let rendered = atom.render(atomArg);\n\n    this._validateAtomRender(rendered, atom.name);\n\n    return rendered || createTextNode(this.dom, '');\n  }\n\n  renderMarkupSection([type, tagName, markers, attributes = []]) {\n    tagName = tagName.toLowerCase();\n    if (!isValidSectionTagName(tagName, MARKUP_SECTION_TYPE)) {\n      return;\n    }\n\n    let attrsObj = reduceAttributes(attributes);\n    let renderer = this.sectionElementRendererFor(tagName);\n    let element = renderer(tagName, this.dom, attrsObj);\n\n    this.renderMarkersOnElement(element, markers);\n    return element;\n  }\n\n  sectionElementRendererFor(tagName) {\n    return this.sectionElementRenderer[tagName] ||\n      this.sectionElementRenderer.__default__;\n  }\n}\n\n"," import Renderer_0_2, {\n   MOBILEDOC_VERSION as MOBILEDOC_VERSION_0_2\n } from './renderers/0-2';\n import Renderer_0_3, {\n   MOBILEDOC_VERSION_0_3_0,\n   MOBILEDOC_VERSION_0_3_1,\n   MOBILEDOC_VERSION_0_3_2\n } from './renderers/0-3';\n import RENDER_TYPE from './utils/render-type';\n\n/**\n * runtime DOM renderer\n * renders a mobiledoc to DOM\n *\n * input: mobiledoc\n * output: DOM\n */\n\n function validateCards(cards) {\n   if (!Array.isArray(cards)) {\n     throw new Error('`cards` must be passed as an array');\n   }\n   for (let i=0; i < cards.length; i++) {\n     let card = cards[i];\n     if (card.type !== RENDER_TYPE) {\n       throw new Error(`Card \"${card.name}\" must be of type \"${RENDER_TYPE}\", was \"${card.type}\"`);\n     }\n     if (!card.render) {\n       throw new Error(`Card \"${card.name}\" must define \\`render\\``);\n     }\n   }\n }\n\n function validateAtoms(atoms) {\n   if (!Array.isArray(atoms)) {\n     throw new Error('`atoms` must be passed as an array');\n   }\n   for (let i=0; i < atoms.length; i++) {\n     let atom = atoms[i];\n     if (atom.type !== RENDER_TYPE) {\n       throw new Error(`Atom \"${atom.name}\" must be type \"${RENDER_TYPE}\", was \"${atom.type}\"`);\n     }\n     if (!atom.render) {\n       throw new Error(`Atom \"${atom.name}\" must define \\`render\\``);\n     }\n   }\n }\n\n export default class RendererFactory {\n   constructor({\n     cards=[],\n     atoms=[],\n     cardOptions={},\n     unknownCardHandler,\n     unknownAtomHandler,\n     markupElementRenderer={},\n     sectionElementRenderer={},\n     dom,\n     markupSanitizer=null\n   }={}) {\n     validateCards(cards);\n     validateAtoms(atoms);\n\n     if (!dom) {\n       if (typeof window === 'undefined') {\n         throw new Error('A `dom` option must be provided to the renderer when running without window.document');\n       }\n       dom = window.document;\n     }\n\n     this.options = {\n       cards,\n       atoms,\n       cardOptions,\n       unknownCardHandler,\n       unknownAtomHandler,\n       markupElementRenderer,\n       sectionElementRenderer,\n       dom,\n       markupSanitizer\n     };\n   }\n\n   render(mobiledoc) {\n     let { version } = mobiledoc;\n     switch (version) {\n       case MOBILEDOC_VERSION_0_2:\n       case undefined:\n       case null:\n         return new Renderer_0_2(mobiledoc, this.options).render();\n       case MOBILEDOC_VERSION_0_3_0:\n       case MOBILEDOC_VERSION_0_3_1:\n       case MOBILEDOC_VERSION_0_3_2:\n         return new Renderer_0_3(mobiledoc, this.options).render();\n       default:\n         throw new Error(`Unexpected Mobiledoc version \"${version}\"`);\n     }\n   }\n }\n","export default {\n  name: 'image-card',\n  type: 'text',\n  render() {}\n};\n","export default 'text';\n","export const MARKUP_SECTION_TYPE = 1;\nexport const IMAGE_SECTION_TYPE = 2;\nexport const LIST_SECTION_TYPE = 3;\nexport const CARD_SECTION_TYPE = 10;\n\n","/**\n * runtime Text renderer\n * renders a mobiledoc to Text\n *\n * input: mobiledoc\n * output: Text (string)\n */\nimport ImageCard from '../cards/image';\nimport RENDER_TYPE from '../utils/render-type';\n\nconst LINE_BREAK = '\\n';\n\nimport {\n  MARKUP_SECTION_TYPE,\n  LIST_SECTION_TYPE,\n  CARD_SECTION_TYPE,\n  IMAGE_SECTION_TYPE\n} from '../utils/section-types';\n\nexport const MOBILEDOC_VERSION = '0.2.0';\n\nfunction validateVersion(version) {\n  if (version !== MOBILEDOC_VERSION) {\n    throw new Error(`Unexpected Mobiledoc version \"${version}\"`);\n  }\n}\n\nexport default class Renderer {\n  constructor(mobiledoc, state) {\n    let { cards, cardOptions, atoms, unknownCardHandler } = state;\n    let { version, sections: sectionData } = mobiledoc;\n    validateVersion(version);\n\n    let [, sections] = sectionData;\n\n    this.root               = [];\n    this.sections           = sections;\n    this.cards              = cards;\n    this.atoms              = atoms;\n    this.cardOptions        = cardOptions;\n    this.unknownCardHandler = unknownCardHandler || this._defaultUnknownCardHandler;\n\n    this._teardownCallbacks  = [];\n  }\n\n  render() {\n    this.sections.forEach(section => {\n      this.root.push(this.renderSection(section));\n    });\n\n    let result = this.root.join(LINE_BREAK);\n    return { result, teardown: () => this.teardown() };\n  }\n\n  teardown() {\n    for (let i=0; i < this._teardownCallbacks.length; i++) {\n      this._teardownCallbacks[i]();\n    }\n  }\n\n  get _defaultUnknownCardHandler() {\n    return () => {\n      // for the text renderer, a missing card is a no-op\n    };\n  }\n\n  renderSection(section) {\n    const [type] = section;\n    switch (type) {\n      case MARKUP_SECTION_TYPE:\n        return  this.renderMarkupSection(section);\n      case IMAGE_SECTION_TYPE:\n        return this.renderImageSection(section);\n      case LIST_SECTION_TYPE:\n        return this.renderListSection(section);\n      case CARD_SECTION_TYPE:\n        return this.renderCardSection(section);\n      default:\n        throw new Error('Unimplemented renderer for type ' + type);\n    }\n  }\n\n  renderImageSection() {\n    return '';\n  }\n\n  renderListSection([type, tagName, items]) {\n    return items.map(\n      li => this.renderListItem(li)\n    ).join(LINE_BREAK);\n  }\n\n  renderListItem(markers) {\n    return this.renderMarkers(markers);\n  }\n\n  findCard(name) {\n    for (let i=0; i < this.cards.length; i++) {\n      if (this.cards[i].name === name) {\n        return this.cards[i];\n      }\n    }\n    if (name === ImageCard.name) {\n      return ImageCard;\n    }\n    return this._createUnknownCard(name);\n  }\n\n  _createUnknownCard(name) {\n    return {\n      name,\n      type: RENDER_TYPE,\n      render: this.unknownCardHandler\n    };\n  }\n\n  renderCardSection([type, name, payload]) {\n    let card = this.findCard(name);\n\n    let cardArg = this._createCardArgument(card, payload);\n    let rendered = card.render(cardArg);\n\n    this._validateCardRender(rendered, card.name);\n\n    return rendered || '';\n  }\n\n  _validateCardRender(rendered, cardName) {\n    if (!rendered) {\n      return;\n    }\n\n    if (typeof rendered !== 'string') {\n      throw new Error(`Card \"${cardName}\" must render ${RENDER_TYPE}, but result was ${typeof rendered}\"`);\n    }\n  }\n\n  _registerTeardownCallback(callback) {\n    this._teardownCallbacks.push(callback);\n  }\n\n  _createCardArgument(card, payload={}) {\n    let env = {\n      name: card.name,\n      isInEditor: false,\n      onTeardown: (callback) => this._registerTeardownCallback(callback)\n    };\n\n    let options = this.cardOptions;\n\n    return { env, options, payload };\n  }\n\n  renderMarkupSection([type, tagName, markers]) {\n    return this.renderMarkers(markers);\n  }\n\n  renderMarkers(markers) {\n    let str = '';\n    markers.forEach(m => {\n      let [, , text] = m;\n      str += text;\n    });\n    return str;\n  }\n}\n","export const MARKUP_MARKER_TYPE = 0;\nexport const ATOM_MARKER_TYPE = 1;","/**\n * runtime Text renderer\n * renders a mobiledoc to Text\n *\n * input: mobiledoc\n * output: Text (string)\n */\nimport ImageCard from '../cards/image';\nimport RENDER_TYPE from '../utils/render-type';\n\nconst LINE_BREAK = '\\n';\n\nimport {\n  MARKUP_SECTION_TYPE,\n  LIST_SECTION_TYPE,\n  CARD_SECTION_TYPE,\n  IMAGE_SECTION_TYPE\n} from '../utils/section-types';\n\nimport {\n  MARKUP_MARKER_TYPE,\n  ATOM_MARKER_TYPE\n} from '../utils/marker-types';\n\nexport const MOBILEDOC_VERSION_0_3 = '0.3.0';\nexport const MOBILEDOC_VERSION_0_3_1 = '0.3.1';\nexport const MOBILEDOC_VERSION_0_3_2 = '0.3.2';\n\nfunction validateVersion(version) {\n  if (\n    version !== MOBILEDOC_VERSION_0_3 &&\n    version !== MOBILEDOC_VERSION_0_3_1 &&\n    version !== MOBILEDOC_VERSION_0_3_2\n  ) {\n    throw new Error(`Unexpected Mobiledoc version \"${version}\"`);\n  }\n}\n\nexport default class Renderer {\n  constructor(mobiledoc, state) {\n\n    let { cards, cardOptions, atoms, unknownCardHandler, unknownAtomHandler } = state;\n    let { version, sections, atoms: atomTypes, cards: cardTypes } = mobiledoc;\n    validateVersion(version);\n\n    this.root               = [];\n    this.sections           = sections;\n    this.atomTypes          = atomTypes;\n    this.cardTypes          = cardTypes;\n    this.cards              = cards;\n    this.atoms              = atoms;\n    this.cardOptions        = cardOptions;\n    this.unknownCardHandler = unknownCardHandler || this._defaultUnknownCardHandler;\n    this.unknownAtomHandler = unknownAtomHandler || this._defaultUnknownAtomHandler;\n\n    this._teardownCallbacks  = [];\n  }\n\n  render() {\n    this.sections.forEach(section => {\n      this.root.push(this.renderSection(section));\n    });\n\n    let result = this.root.join(LINE_BREAK);\n    return { result, teardown: () => this.teardown() };\n  }\n\n  teardown() {\n    for (let i=0; i < this._teardownCallbacks.length; i++) {\n      this._teardownCallbacks[i]();\n    }\n  }\n\n  get _defaultUnknownCardHandler() {\n    return () => {\n      // for the text renderer, a missing card is a no-op\n    };\n  }\n\n  get _defaultUnknownAtomHandler() {\n    return ({ value }) => {\n      return value || '';\n    };\n  }\n\n  renderSection(section) {\n    const [type] = section;\n    switch (type) {\n      case MARKUP_SECTION_TYPE:\n        return  this.renderMarkupSection(section);\n      case IMAGE_SECTION_TYPE:\n        return this.renderImageSection(section);\n      case LIST_SECTION_TYPE:\n        return this.renderListSection(section);\n      case CARD_SECTION_TYPE:\n        return this.renderCardSection(section);\n      default:\n        throw new Error('Unimplemented renderer for type ' + type);\n    }\n  }\n\n  renderImageSection() {\n    return '';\n  }\n\n  renderListSection([type, tagName, items]) {\n    return items.map(\n      li => this.renderListItem(li)\n    ).join(LINE_BREAK);\n  }\n\n  renderListItem(markers) {\n    return this.renderMarkers(markers);\n  }\n\n  findCard(name) {\n    for (let i=0; i < this.cards.length; i++) {\n      if (this.cards[i].name === name) {\n        return this.cards[i];\n      }\n    }\n    if (name === ImageCard.name) {\n      return ImageCard;\n    }\n    return this._createUnknownCard(name);\n  }\n\n  _findCardByIndex(index) {\n    let cardType = this.cardTypes[index];\n    if (!cardType) {\n      throw new Error(`No card definition found at index ${index}`);\n    }\n\n    let [ name, payload ] = cardType;\n    let card = this.findCard(name);\n\n    return {\n      card,\n      payload\n    };\n  }\n\n  _createUnknownCard(name) {\n    return {\n      name,\n      type: RENDER_TYPE,\n      render: this.unknownCardHandler\n    };\n  }\n\n  renderCardSection([type, index]) {\n    let { card, payload } = this._findCardByIndex(index);\n\n    let cardArg = this._createCardArgument(card, payload);\n    let rendered = card.render(cardArg);\n\n    this._validateCardRender(rendered, card.name);\n\n    return rendered || '';\n  }\n\n  _validateCardRender(rendered, cardName) {\n    if (!rendered) {\n      return;\n    }\n\n    if (typeof rendered !== 'string') {\n      throw new Error(`Card \"${cardName}\" must render ${RENDER_TYPE}, but result was ${typeof rendered}\"`);\n    }\n  }\n\n  _registerTeardownCallback(callback) {\n    this._teardownCallbacks.push(callback);\n  }\n\n  _createCardArgument(card, payload={}) {\n    let env = {\n      name: card.name,\n      isInEditor: false,\n      onTeardown: (callback) => this._registerTeardownCallback(callback)\n    };\n\n    let options = this.cardOptions;\n\n    return { env, options, payload };\n  }\n\n  renderMarkupSection([type, tagName, markers]) {\n    return this.renderMarkers(markers);\n  }\n\n  findAtom(name) {\n    for (let i=0; i < this.atoms.length; i++) {\n      if (this.atoms[i].name === name) {\n        return this.atoms[i];\n      }\n    }\n    return this._createUnknownAtom(name);\n  }\n\n  _createUnknownAtom(name) {\n    return {\n      name,\n      type: RENDER_TYPE,\n      render: this.unknownAtomHandler\n    };\n  }\n\n  _createAtomArgument(atom, value, payload) {\n    let env = {\n      name: atom.name,\n      onTeardown: (callback) => this._registerTeardownCallback(callback)\n    };\n\n    let options = this.cardOptions;\n\n    return { env, options, value, payload };\n  }\n\n  _validateAtomRender(rendered, atomName) {\n    if (!rendered) {\n      return;\n    }\n\n    if (typeof rendered !== 'string') {\n      throw new Error(`Atom \"${atomName}\" must render ${RENDER_TYPE}, but result was ${typeof rendered}\"`);\n    }\n  }\n\n  _findAtomByIndex(index) {\n    let atomType = this.atomTypes[index];\n    if (!atomType) {\n      throw new Error(`No atom definition found at index ${index}`);\n    }\n\n    let [ name, value, payload ] = atomType;\n    let atom = this.findAtom(name);\n\n    return {\n      atom,\n      value,\n      payload\n    };\n  }\n\n  _renderAtom(index) {\n    let { atom, value, payload } = this._findAtomByIndex(index);\n\n    let atomArg = this._createAtomArgument(atom, value, payload);\n    let rendered = atom.render(atomArg);\n\n    this._validateAtomRender(rendered, atom.name);\n\n    return rendered || '';\n  }\n\n  renderMarkers(markers) {\n    let str = '';\n    markers.forEach(m => {\n      let [type, , , value] = m;\n      switch (type) {\n        case MARKUP_MARKER_TYPE:\n          str += value;\n          break;\n        case ATOM_MARKER_TYPE:\n          str += this._renderAtom(value);\n          break;\n        default:\n          throw new Error(`Unknown markup type (${type})`);\n      }\n    });\n    return str;\n  }\n}\n","import Renderer_0_2, {\n  MOBILEDOC_VERSION as MOBILEDOC_VERSION_0_2\n} from './renderers/0-2';\nimport Renderer_0_3, {\n  MOBILEDOC_VERSION_0_3,\n  MOBILEDOC_VERSION_0_3_1,\n  MOBILEDOC_VERSION_0_3_2\n} from './renderers/0-3';\nimport RENDER_TYPE from './utils/render-type';\n/**\n * runtime Text renderer\n * renders a mobiledoc to Text\n *\n * input: mobiledoc\n * output: Text (string)\n */\n\nfunction validateCards(cards) {\n  if (!Array.isArray(cards)) {\n    throw new Error('`cards` must be passed as an array');\n  }\n  for (let i=0; i < cards.length; i++) {\n    let card = cards[i];\n    if (card.type !== RENDER_TYPE) {\n      throw new Error(`Card \"${card.name}\" must be type \"${RENDER_TYPE}\", was \"${card.type}\"`);\n    }\n    if (!card.render) {\n      throw new Error(`Card \"${card.name}\" must define \\`render\\``);\n    }\n  }\n}\n\nfunction validateAtoms(atoms) {\n  if (!Array.isArray(atoms)) {\n    throw new Error('`atoms` must be passed as an array');\n  }\n  for (let i=0; i < atoms.length; i++) {\n    let atom = atoms[i];\n    if (atom.type !== RENDER_TYPE) {\n      throw new Error(`Atom \"${atom.name}\" must be type \"${RENDER_TYPE}\", was \"${atom.type}\"`);\n    }\n    if (!atom.render) {\n      throw new Error(`Atom \"${atom.name}\" must define \\`render\\``);\n    }\n  }\n}\n\nexport default class RendererFactory {\n  constructor({cards, atoms, cardOptions, unknownCardHandler, unknownAtomHandler}={}) {\n    cards = cards || [];\n    validateCards(cards);\n    atoms = atoms || [];\n    validateAtoms(atoms);\n    cardOptions = cardOptions || {};\n\n    this.state = {cards, atoms, cardOptions, unknownCardHandler, unknownAtomHandler};\n  }\n\n  render(mobiledoc) {\n    let { version } = mobiledoc;\n    switch (version) {\n      case MOBILEDOC_VERSION_0_2:\n        return new Renderer_0_2(mobiledoc, this.state).render();\n      case undefined:\n      case null:\n      case MOBILEDOC_VERSION_0_3:\n      case MOBILEDOC_VERSION_0_3_1:\n      case MOBILEDOC_VERSION_0_3_2:\n        return new Renderer_0_3(mobiledoc, this.state).render();\n      default:\n        throw new Error(`Unexpected Mobiledoc version \"${version}\"`);\n    }\n  }\n}\n","class Logger {\n  type: string\n  manager: LogManager\n\n  constructor(type: string, manager: LogManager) {\n    this.type = type\n    this.manager = manager\n  }\n\n  isEnabled() {\n    return this.manager.isEnabled(this.type)\n  }\n\n  log(...args: unknown[]) {\n    args.unshift(`[${this.type}]`)\n    if (this.isEnabled()) {\n      window.console.log(...args)\n    }\n  }\n}\n\nexport default class LogManager {\n  enabledTypes: string[]\n  allEnabled: boolean\n\n  constructor() {\n    this.enabledTypes = []\n    this.allEnabled = false\n  }\n\n  for(type: string) {\n    return new Logger(type, this)\n  }\n\n  enableAll() {\n    this.allEnabled = true\n  }\n\n  enableTypes(types: []) {\n    this.enabledTypes = this.enabledTypes.concat(types)\n  }\n\n  disable() {\n    this.enabledTypes = []\n    this.allEnabled = false\n  }\n\n  isEnabled(type: string) {\n    return this.allEnabled || this.enabledTypes.indexOf(type) !== -1\n  }\n}\n","import Tooltip, { DEFAULT_TOOLTIP_PLUGIN } from '../views/tooltip'\nimport PostEditor from './post'\nimport ImageCard from '../cards/image'\nimport { DIRECTION } from '../utils/key'\nimport mobiledocParsers from '../parsers/mobiledoc'\nimport HTMLParser from '../parsers/html'\nimport DOMParser from '../parsers/dom'\nimport Renderer from 'mobiledoc-kit/renderers/editor-dom'\nimport RenderTree from 'mobiledoc-kit/models/render-tree'\nimport mobiledocRenderers from '../renderers/mobiledoc'\nimport { MOBILEDOC_VERSION } from 'mobiledoc-kit/renderers/mobiledoc'\nimport { mergeWithOptions } from '../utils/merge'\nimport { normalizeTagName, clearChildNodes, serializeHTML } from '../utils/dom-utils'\nimport { forEach, filter, contains, values, detect } from '../utils/array-utils'\nimport { setData } from '../utils/element-utils'\nimport Cursor from '../utils/cursor'\nimport Range from '../utils/cursor/range'\nimport Position from '../utils/cursor/position'\nimport Environment from '../utils/environment'\nimport PostNodeBuilder from '../models/post-node-builder'\nimport { DEFAULT_TEXT_INPUT_HANDLERS } from './text-input-handlers'\nimport { DEFAULT_KEY_COMMANDS, buildKeyCommand, findKeyCommands, validateKeyCommand } from './key-commands'\nimport { CARD_MODES } from '../models/card'\nimport assert from '../utils/assert'\nimport MutationHandler from 'mobiledoc-kit/editor/mutation-handler'\nimport EditHistory from 'mobiledoc-kit/editor/edit-history'\nimport EventManager from 'mobiledoc-kit/editor/event-manager'\nimport EditState from 'mobiledoc-kit/editor/edit-state'\nimport DOMRenderer from 'mobiledoc-dom-renderer'\nimport TextRenderer from 'mobiledoc-text-renderer'\nimport LifecycleCallbacks from 'mobiledoc-kit/models/lifecycle-callbacks'\nimport LogManager from 'mobiledoc-kit/utils/log-manager'\nimport toRange from 'mobiledoc-kit/utils/to-range'\nimport MobiledocError from 'mobiledoc-kit/utils/mobiledoc-error'\n\n// This export may later be deprecated, but re-export it from the renderer here\n// for consumers that may depend on it.\nexport { EDITOR_ELEMENT_CLASS_NAME } from 'mobiledoc-kit/renderers/editor-dom'\n\nconst defaults = {\n  placeholder: 'Write here...',\n  spellcheck: true,\n  autofocus: true,\n  showLinkTooltips: true,\n  undoDepth: 5,\n  undoBlockTimeout: 5000, // ms for an undo event\n  cards: [],\n  atoms: [],\n  cardOptions: {},\n  unknownCardHandler: ({ env }) => {\n    throw new MobiledocError(`Unknown card encountered: ${env.name}`)\n  },\n  unknownAtomHandler: ({ env }) => {\n    throw new MobiledocError(`Unknown atom encountered: ${env.name}`)\n  },\n  mobiledoc: null,\n  html: null,\n  tooltipPlugin: DEFAULT_TOOLTIP_PLUGIN,\n}\n\nconst CALLBACK_QUEUES = {\n  DID_UPDATE: 'didUpdate',\n  WILL_RENDER: 'willRender',\n  DID_RENDER: 'didRender',\n  WILL_DELETE: 'willDelete',\n  DID_DELETE: 'didDelete',\n  WILL_HANDLE_NEWLINE: 'willHandleNewline',\n  CURSOR_DID_CHANGE: 'cursorDidChange',\n  DID_REPARSE: 'didReparse',\n  POST_DID_CHANGE: 'postDidChange',\n  INPUT_MODE_DID_CHANGE: 'inputModeDidChange',\n  WILL_COPY: 'willCopy',\n}\n\n/**\n * The Editor is a core component of mobiledoc-kit. After instantiating\n * an editor, use {@link Editor#render} to display the editor on the web page.\n *\n * An editor uses a {@link Post} internally to represent the displayed document.\n * The post can be serialized as mobiledoc using {@link Editor#serialize}. Mobiledoc\n * is the transportable \"over-the-wire\" format (JSON) that is suited for persisting\n * and sharing between editors and renderers (for display, e.g.), whereas the Post\n * model is better suited for programmatic editing.\n *\n * The editor will call registered callbacks for certain state changes. These are:\n *   * {@link Editor#cursorDidChange} -- The cursor position or selection changed.\n *   * {@link Editor#postDidChange} -- The contents of the post changed due to user input or\n *     programmatic editing. This hook can be used with {@link Editor#serialize}\n *     to auto-save a post as it is being edited.\n *   * {@link Editor#inputModeDidChange} -- The active section(s) or markup(s) at the current cursor\n *     position or selection have changed. This hook can be used with\n *     {@link Editor#activeMarkups} and {@link Editor#activeSections} to implement\n *     a custom toolbar.\n *   * {@link Editor#onTextInput} -- Register callbacks when the user enters text\n *     that matches a given string or regex.\n *   * {@link Editor#beforeToggleMarkup} -- Register callbacks that will be run before\n *     applying changes from {@link Editor#toggleMarkup}\n */\nclass Editor {\n  /**\n   * @param {Object} [options]\n   * @param {Object} [options.mobiledoc] The mobiledoc to load into the editor.\n   *        Supersedes `options.html`.\n   * @param {String|DOM} [options.html] The html (as a string or DOM fragment)\n   *        to parse and load into the editor.\n   *        Will be ignored if `options.mobiledoc` is also passed.\n   * @param {Array} [options.parserPlugins=[]]\n   * @param {Array} [options.cards=[]] The cards that the editor may render.\n   * @param {Array} [options.atoms=[]] The atoms that the editor may render.\n   * @param {Function} [options.unknownCardHandler] Invoked by the editor's renderer\n   *        whenever it encounters an unknown card.\n   * @param {Function} [options.unknownAtomHandler] Invoked by the editor's renderer\n   *        whenever it encounters an unknown atom.\n   * @param {String} [options.placeholder] Default text to show before user starts typing.\n   * @param {Boolean} [options.spellcheck=true] Whether to enable spellcheck\n   * @param {Boolean} [options.autofocus=true] Whether to focus the editor when it is first rendered.\n   * @param {Boolean} [options.showLinkTooltips=true] Whether to show the url tooltip for links\n   * @param {number} [options.undoDepth=5] How many undo levels will be available.\n   *        Set to 0 to disable undo/redo functionality.\n   * @return {Editor}\n   * @public\n   */\n  constructor(options = {}) {\n    assert(\n      'editor create accepts an options object. For legacy usage passing an element for the first argument, consider the `html` option for loading DOM or HTML posts. For other cases call `editor.render(domNode)` after editor creation',\n      options && !options.nodeType\n    )\n    this._views = []\n    this.isEditable = true\n    this._parserPlugins = options.parserPlugins || []\n\n    // FIXME: This should merge onto this.options\n    mergeWithOptions(this, defaults, options)\n    this.cards.push(ImageCard)\n\n    DEFAULT_KEY_COMMANDS.forEach(kc => this.registerKeyCommand(kc))\n\n    this._logManager = new LogManager()\n    this._parser = new DOMParser(this.builder)\n    let { cards, atoms, unknownCardHandler, unknownAtomHandler, cardOptions } = this\n    this._renderer = new Renderer(this, cards, atoms, unknownCardHandler, unknownAtomHandler, cardOptions)\n\n    this.post = this.loadPost()\n    this._renderTree = new RenderTree(this.post)\n\n    this._editHistory = new EditHistory(this, this.undoDepth, this.undoBlockTimeout)\n    this._eventManager = new EventManager(this)\n    this._mutationHandler = new MutationHandler(this)\n    this._editState = new EditState(this)\n    this._callbacks = new LifecycleCallbacks(values(CALLBACK_QUEUES))\n    this._beforeHooks = { toggleMarkup: [] }\n\n    this._isComposingOnBlankLine = false\n\n    DEFAULT_TEXT_INPUT_HANDLERS.forEach(handler => this.onTextInput(handler))\n\n    this.hasRendered = false\n  }\n\n  /**\n   * Turns on verbose logging for the editor.\n   * @param {Array} [logTypes=[]] If present, only the given log types will be logged.\n   * @public\n   */\n  enableLogging(logTypes = []) {\n    if (logTypes.length === 0) {\n      this._logManager.enableAll()\n    } else {\n      this._logManager.enableTypes(logTypes)\n    }\n  }\n\n  /**\n   * Disable all logging\n   * @public\n   */\n  disableLogging() {\n    this._logManager.disable()\n  }\n\n  /**\n   * @private\n   */\n  loggerFor(type) {\n    return this._logManager.for(type)\n  }\n\n  /**\n   * The editor's instance of a post node builder.\n   * @type {PostNodeBuilder}\n   */\n  get builder() {\n    if (!this._builder) {\n      this._builder = new PostNodeBuilder()\n    }\n    return this._builder\n  }\n\n  loadPost() {\n    let { mobiledoc, html } = this\n    if (mobiledoc) {\n      return mobiledocParsers.parse(this.builder, mobiledoc)\n    } else if (html) {\n      if (typeof html === 'string') {\n        let options = { plugins: this._parserPlugins }\n        return new HTMLParser(this.builder, options).parse(this.html)\n      } else {\n        let dom = html\n        return this._parser.parse(dom)\n      }\n    } else {\n      return this.builder.createPost([this.builder.createMarkupSection()])\n    }\n  }\n\n  rerender() {\n    let postRenderNode = this.post.renderNode\n\n    // if we haven't rendered this post's renderNode before, mark it dirty\n    if (!postRenderNode.element) {\n      assert('Must call `render` before `rerender` can be called', this.hasRendered)\n      postRenderNode.element = this.element\n      postRenderNode.markDirty()\n    }\n\n    this.runCallbacks(CALLBACK_QUEUES.WILL_RENDER)\n    this._mutationHandler.suspendObservation(() => {\n      this._renderer.render(this._renderTree)\n    })\n    this.runCallbacks(CALLBACK_QUEUES.DID_RENDER)\n  }\n\n  /**\n   * @param {Element} element The DOM element to render into.\n   *        Its contents will be replaced by the editor's rendered post.\n   * @public\n   */\n  render(element) {\n    assert(\n      'Cannot render an editor twice. Use `rerender` to update the ' + 'rendering of an existing editor instance.',\n      !this.hasRendered\n    )\n\n    element.spellcheck = this.spellcheck\n\n    clearChildNodes(element)\n\n    this.element = element\n\n    if (this.showLinkTooltips) {\n      this._addTooltip()\n    }\n\n    // A call to `run` will trigger the didUpdatePostCallbacks hooks with a\n    // postEditor.\n    this.run(() => {})\n\n    // Only set `hasRendered` to true after calling `run` to ensure that\n    // no cursorDidChange or other callbacks get fired before the editor is\n    // done rendering\n    this.hasRendered = true\n    this.rerender()\n\n    this._mutationHandler.init()\n    this._eventManager.init()\n\n    if (this.isEditable === false) {\n      this.disableEditing()\n    } else {\n      this.enableEditing()\n    }\n\n    if (this.autofocus) {\n      this.selectRange(this.post.headPosition())\n    }\n  }\n\n  _addTooltip() {\n    this.addView(\n      new Tooltip({\n        rootElement: this.element,\n        showForTag: 'a',\n        editor: this,\n      })\n    )\n  }\n\n  get keyCommands() {\n    if (!this._keyCommands) {\n      this._keyCommands = []\n    }\n    return this._keyCommands\n  }\n\n  /**\n   * @param {Object} keyCommand The key command to register. It must specify a\n   * modifier key (meta, ctrl, etc), a string representing the ascii key, and\n   * a `run` method that will be passed the editor instance when the key command\n   * is invoked\n   * @public\n   */\n  registerKeyCommand(rawKeyCommand) {\n    const keyCommand = buildKeyCommand(rawKeyCommand)\n    assert('Key Command is not valid', validateKeyCommand(keyCommand))\n    this.keyCommands.unshift(keyCommand)\n  }\n\n  /**\n   * @param {String} name If the keyCommand event has a name attribute it can be removed.\n   * @public\n   */\n  unregisterKeyCommands(name) {\n    for (let i = this.keyCommands.length - 1; i > -1; i--) {\n      let keyCommand = this.keyCommands[i]\n\n      if (keyCommand.name === name) {\n        this.keyCommands.splice(i, 1)\n      }\n    }\n  }\n\n  /**\n   * Convenience for {@link PostEditor#deleteAtPosition}. Deletes and puts the\n   * cursor in the new position.\n   * @public\n   */\n  deleteAtPosition(position, direction, { unit }) {\n    this.run(postEditor => {\n      let nextPosition = postEditor.deleteAtPosition(position, direction, { unit })\n      postEditor.setRange(nextPosition)\n    })\n  }\n\n  /**\n   * Convenience for {@link PostEditor#deleteRange}. Deletes and puts the\n   * cursor in the new position.\n   * @param {Range} range\n   * @public\n   */\n  deleteRange(range) {\n    this.run(postEditor => {\n      let nextPosition = postEditor.deleteRange(range)\n      postEditor.setRange(nextPosition)\n    })\n  }\n\n  /**\n   * @private\n   */\n  performDelete({ direction, unit } = { direction: DIRECTION.BACKWARD, unit: 'char' }) {\n    let { range } = this\n\n    this.runCallbacks(CALLBACK_QUEUES.WILL_DELETE, [range, direction, unit])\n    if (range.isCollapsed) {\n      this.deleteAtPosition(range.head, direction, { unit })\n    } else {\n      this.deleteRange(range)\n    }\n    this.runCallbacks(CALLBACK_QUEUES.DID_DELETE, [range, direction, unit])\n  }\n\n  handleNewline(event) {\n    if (!this.hasCursor()) {\n      return\n    }\n\n    event.preventDefault()\n\n    let { range } = this\n    this.run(postEditor => {\n      let cursorSection\n      if (!range.isCollapsed) {\n        let nextPosition = postEditor.deleteRange(range)\n        cursorSection = nextPosition.section\n        if (cursorSection && cursorSection.isBlank) {\n          postEditor.setRange(cursorSection.headPosition())\n          return\n        }\n      }\n\n      // Above logic might delete redundant range, so callback must run after it.\n      let defaultPrevented = false\n      const event = {\n        preventDefault() {\n          defaultPrevented = true\n        },\n      }\n      this.runCallbacks(CALLBACK_QUEUES.WILL_HANDLE_NEWLINE, [event])\n      if (defaultPrevented) {\n        return\n      }\n\n      cursorSection = postEditor.splitSection(range.head)[1]\n      postEditor.setRange(cursorSection.headPosition())\n    })\n  }\n\n  /**\n   * Notify the editor that the post did change, and run associated\n   * callbacks.\n   * @private\n   */\n  _postDidChange() {\n    this.runCallbacks(CALLBACK_QUEUES.POST_DID_CHANGE)\n  }\n\n  /**\n   * Selects the given range or position. If given a collapsed range or a position, this positions the cursor\n   * at the range's position. Otherwise a selection is created in the editor\n   * surface encompassing the range.\n   * @param {Range|Position} range\n   */\n  selectRange(range) {\n    range = toRange(range)\n\n    this.cursor.selectRange(range)\n    this.range = range\n  }\n\n  get cursor() {\n    return new Cursor(this)\n  }\n\n  /**\n   * Return the current range for the editor (may be cached).\n   * @return {Range}\n   */\n  get range() {\n    return this._editState.range\n  }\n\n  set range(newRange) {\n    this._editState.updateRange(newRange)\n\n    if (this._editState.rangeDidChange()) {\n      this._rangeDidChange()\n    }\n\n    if (this._editState.inputModeDidChange()) {\n      this._inputModeDidChange()\n    }\n  }\n\n  _readRangeFromDOM() {\n    this.range = this.cursor.offsets\n  }\n\n  setPlaceholder(placeholder) {\n    setData(this.element, 'placeholder', placeholder)\n  }\n\n  _reparsePost() {\n    let post = this._parser.parse(this.element)\n    this.run(postEditor => {\n      postEditor.removeAllSections()\n      postEditor.migrateSectionsFromPost(post)\n      postEditor.setRange(Range.blankRange())\n    })\n\n    this.runCallbacks(CALLBACK_QUEUES.DID_REPARSE)\n    this._postDidChange()\n  }\n\n  _reparseSections(sections = []) {\n    let currentRange\n    sections.forEach(section => {\n      this._parser.reparseSection(section, this._renderTree)\n    })\n    this._removeDetachedSections()\n\n    if (this._renderTree.isDirty) {\n      currentRange = this.range\n    }\n\n    // force the current snapshot's range to remain the same rather than\n    // rereading it from DOM after the new character is applied and the browser\n    // updates the cursor position\n    let range = this._editHistory._pendingSnapshot.range\n    this.run(() => {\n      this._editHistory._pendingSnapshot.range = range\n    })\n    this.rerender()\n    if (currentRange) {\n      this.selectRange(currentRange)\n    }\n\n    this.runCallbacks(CALLBACK_QUEUES.DID_REPARSE)\n    this._postDidChange()\n  }\n\n  // FIXME this should be able to be removed now -- if any sections are detached,\n  // it's due to a bug in the code.\n  _removeDetachedSections() {\n    forEach(\n      filter(this.post.sections, s => !s.renderNode.isAttached()),\n      s => s.renderNode.scheduleForRemoval()\n    )\n  }\n\n  /**\n   * The sections from the cursor's selection start to the selection end\n   * @type {Section[]}\n   */\n  get activeSections() {\n    return this._editState.activeSections\n  }\n\n  get activeSection() {\n    const { activeSections } = this\n    return activeSections[activeSections.length - 1]\n  }\n\n  get activeSectionAttributes() {\n    return this._editState.activeSectionAttributes\n  }\n\n  detectMarkupInRange(range, markupTagName) {\n    let markups = this.post.markupsInRange(range)\n    return detect(markups, markup => {\n      return markup.hasTag(markupTagName)\n    })\n  }\n\n  /**\n   * @type {Markup[]}\n   * @public\n   */\n  get activeMarkups() {\n    return this._editState.activeMarkups\n  }\n\n  /**\n   * @param {Markup|String} markup A markup instance, or a string (e.g. \"b\")\n   * @return {boolean}\n   */\n  hasActiveMarkup(markup) {\n    let matchesFn\n    if (typeof markup === 'string') {\n      let tagName = normalizeTagName(markup)\n      matchesFn = m => m.tagName === tagName\n    } else {\n      matchesFn = m => m === markup\n    }\n\n    return !!detect(this.activeMarkups, matchesFn)\n  }\n\n  /**\n   * @param {String} version The mobiledoc version to serialize to.\n   * @return {Mobiledoc} Serialized mobiledoc\n   * @public\n   */\n  serialize(version = MOBILEDOC_VERSION) {\n    return this.serializePost(this.post, 'mobiledoc', { version })\n  }\n\n  /**\n   * Serialize the editor's post to the requested format.\n   * Note that only mobiledoc format is lossless. If cards or atoms are present\n   * in the post, the html and text formats will omit them in output because\n   * the editor does not have access to the html and text versions of the\n   * cards/atoms.\n   * @param {string} format The format to serialize ('mobiledoc', 'text', 'html')\n   * @return {Object|String} The editor's post, serialized to {format}\n   * @public\n   */\n  serializeTo(format) {\n    let post = this.post\n    return this.serializePost(post, format)\n  }\n\n  /**\n   * @param {Post}\n   * @param {String} format Same as {serializeTo}\n   * @param {Object} [options]\n   * @param {String} [options.version=MOBILEDOC_VERSION] version to serialize to\n   * @return {Object|String}\n   * @private\n   */\n  serializePost(post, format, options = {}) {\n    const validFormats = ['mobiledoc', 'html', 'text']\n    assert(`Unrecognized serialization format ${format}`, contains(validFormats, format))\n\n    if (format === 'mobiledoc') {\n      let version = options.version || MOBILEDOC_VERSION\n      return mobiledocRenderers.render(post, version)\n    } else {\n      let rendered\n      let mobiledoc = this.serializePost(post, 'mobiledoc')\n      let unknownCardHandler = () => {}\n      let unknownAtomHandler = () => {}\n      let rendererOptions = { unknownCardHandler, unknownAtomHandler }\n\n      switch (format) {\n        case 'html': {\n          let result\n          if (Environment.hasDOM()) {\n            rendered = new DOMRenderer(rendererOptions).render(mobiledoc)\n            result = `<div>${serializeHTML(rendered.result)}</div>`\n          } else {\n            // Fallback to text serialization\n            result = this.serializePost(post, 'text', options)\n          }\n          return result\n        }\n        case 'text':\n          rendered = new TextRenderer(rendererOptions).render(mobiledoc)\n          return rendered.result\n      }\n    }\n  }\n\n  addView(view) {\n    this._views.push(view)\n  }\n\n  removeAllViews() {\n    this._views.forEach(v => v.destroy())\n    this._views = []\n  }\n\n  /**\n   * Whether the editor has a cursor (or a selected range).\n   * It is possible for the editor to be focused but not have a selection.\n   * In this case, key events will fire but the editor will not be able to\n   * determine a cursor position, so they will be ignored.\n   * @return {boolean}\n   * @public\n   */\n  hasCursor() {\n    return this.cursor.hasCursor()\n  }\n\n  /**\n   * Tears down the editor's attached event listeners and views.\n   * @public\n   */\n  destroy() {\n    this.isDestroyed = true\n    if (this._hasSelection()) {\n      this.cursor.clearSelection()\n    }\n    if (this._hasFocus()) {\n      this.element.blur() // FIXME This doesn't blur the element on IE11\n    }\n    this._mutationHandler.destroy()\n    this._eventManager.destroy()\n    this.removeAllViews()\n    this._renderer.destroy()\n    this._editState.destroy()\n  }\n\n  /**\n   * Keep the user from directly editing the post using the keyboard and mouse.\n   * Modification via the programmatic API is still permitted.\n   * @see Editor#enableEditing\n   * @public\n   */\n  disableEditing() {\n    this.isEditable = false\n    if (this.hasRendered) {\n      this._eventManager.stop()\n      this.element.setAttribute('contentEditable', false)\n      this.setPlaceholder('')\n      this.selectRange(Range.blankRange())\n    }\n  }\n\n  /**\n   * Allow the user to directly interact with editing a post via keyboard and mouse input.\n   * Editor instances are editable by default. Use this method to re-enable\n   * editing after disabling it.\n   * @see Editor#disableEditing\n   * @public\n   */\n  enableEditing() {\n    this.isEditable = true\n    if (this.hasRendered) {\n      this._eventManager.start()\n      this.element.setAttribute('contentEditable', true)\n      this.setPlaceholder(this.placeholder)\n    }\n  }\n\n  /**\n   * Change a cardSection into edit mode\n   * If called before the card has been rendered, it will be marked so that\n   * it is rendered in edit mode when it gets rendered.\n   * @param {CardSection} cardSection\n   * @public\n   */\n  editCard(cardSection) {\n    this._setCardMode(cardSection, CARD_MODES.EDIT)\n  }\n\n  /**\n   * Change a cardSection into display mode\n   * If called before the card has been rendered, it will be marked so that\n   * it is rendered in display mode when it gets rendered.\n   * @param {CardSection} cardSection\n   * @return undefined\n   * @public\n   */\n  displayCard(cardSection) {\n    this._setCardMode(cardSection, CARD_MODES.DISPLAY)\n  }\n\n  /**\n   * Run a new post editing session. Yields a block with a new {@link PostEditor}\n   * instance. This instance can be used to interact with the post abstract.\n   * Rendering will be deferred until after the callback is completed.\n   *\n   * Usage:\n   * ```\n   *   let markerRange = this.range;\n   *   editor.run((postEditor) => {\n   *     postEditor.deleteRange(markerRange);\n   *     // editing surface not updated yet\n   *     postEditor.schedule(() => {\n   *       console.log('logs during rerender flush');\n   *     });\n   *     // logging not yet flushed\n   *   });\n   *   // editing surface now updated.\n   *   // logging now flushed\n   * ```\n   *\n   * @param {Function} callback Called with an instance of\n   *        {@link PostEditor} as its argument.\n   * @return {Mixed} The return value of `callback`.\n   * @public\n   */\n  run(callback) {\n    const postEditor = new PostEditor(this)\n    postEditor.begin()\n    this._editHistory.snapshot()\n    const result = callback(postEditor)\n    this.runCallbacks(CALLBACK_QUEUES.DID_UPDATE, [postEditor])\n    postEditor.complete()\n    this._readRangeFromDOM()\n\n    if (postEditor._shouldCancelSnapshot) {\n      this._editHistory._pendingSnapshot = null\n    }\n    this._editHistory.storeSnapshot(postEditor.editActionTaken)\n\n    return result\n  }\n\n  /**\n   * @param {Function} callback Called with `postEditor` as its argument.\n   * @public\n   */\n  didUpdatePost(callback) {\n    this.addCallback(CALLBACK_QUEUES.DID_UPDATE, callback)\n  }\n\n  /**\n   * @param {Function} callback Called when the post has changed, either via\n   *        user input or programmatically. Use with {@link Editor#serialize} to\n   *        retrieve the post in portable mobiledoc format.\n   */\n  postDidChange(callback) {\n    this.addCallback(CALLBACK_QUEUES.POST_DID_CHANGE, callback)\n  }\n\n  /**\n   * Register a handler that will be invoked by the editor after the user enters\n   * matching text.\n   * @param {Object} inputHandler\n   * @param {String} inputHandler.name Required. Used by identifying handlers.\n   * @param {String} [inputHandler.text] Required if `match` is not provided\n   * @param {RegExp} [inputHandler.match] Required if `text` is not provided\n   * @param {Function} inputHandler.run This callback is invoked with the {@link Editor}\n   *                   instance and an array of matches. If `text` was provided,\n   *                   the matches array will equal [`text`], and if a `match`\n   *                   regex was provided the matches array will be the result of\n   *                   `match.exec` on the matching text. The callback is called\n   *                   after the matching text has been inserted.\n   * @public\n   */\n  onTextInput(inputHandler) {\n    this._eventManager.registerInputHandler(inputHandler)\n  }\n\n  /**\n   * Unregister all text input handlers\n   *\n   * @public\n   */\n  unregisterAllTextInputHandlers() {\n    this._eventManager.unregisterAllTextInputHandlers()\n  }\n\n  /**\n   * Unregister text input handler by name\n   * @param {String} name The name of handler to be removed\n   *\n   * @public\n   */\n  unregisterTextInputHandler(name) {\n    this._eventManager.unregisterInputHandler(name)\n  }\n\n  /**\n   * @param {Function} callback Called when the editor's state (active markups or\n   * active sections) has changed, either via user input or programmatically\n   */\n  inputModeDidChange(callback) {\n    this.addCallback(CALLBACK_QUEUES.INPUT_MODE_DID_CHANGE, callback)\n  }\n\n  /**\n   * @param {Function} callback This callback will be called before the editor\n   *        is rendered.\n   * @public\n   */\n  willRender(callback) {\n    this.addCallback(CALLBACK_QUEUES.WILL_RENDER, callback)\n  }\n\n  /**\n   * @param {Function} callback This callback will be called after the editor\n   *        is rendered.\n   * @public\n   */\n  didRender(callback) {\n    this.addCallback(CALLBACK_QUEUES.DID_RENDER, callback)\n  }\n\n  willCopy(callback) {\n    this.addCallback(CALLBACK_QUEUES.WILL_COPY, callback)\n  }\n\n  /**\n   * @param {Function} callback This callback will be called before deleting.\n   * @public\n   */\n  willDelete(callback) {\n    this.addCallback(CALLBACK_QUEUES.WILL_DELETE, callback)\n  }\n\n  /**\n   * @param {Function} callback This callback will be called after deleting.\n   * @public\n   */\n  didDelete(callback) {\n    this.addCallback(CALLBACK_QUEUES.DID_DELETE, callback)\n  }\n\n  /**\n   * @param {Function} callback This callback will be called before handling new line.\n   * @public\n   */\n  willHandleNewline(callback) {\n    this.addCallback(CALLBACK_QUEUES.WILL_HANDLE_NEWLINE, callback)\n  }\n\n  /**\n   * @param {Function} callback This callback will be called every time the cursor\n   *        position (or selection) changes.\n   * @public\n   */\n  cursorDidChange(callback) {\n    this.addCallback(CALLBACK_QUEUES.CURSOR_DID_CHANGE, callback)\n  }\n\n  _rangeDidChange() {\n    if (this.hasRendered) {\n      this.runCallbacks(CALLBACK_QUEUES.CURSOR_DID_CHANGE)\n    }\n  }\n\n  _inputModeDidChange() {\n    this.runCallbacks(CALLBACK_QUEUES.INPUT_MODE_DID_CHANGE)\n  }\n\n  _insertEmptyMarkupSectionAtCursor() {\n    this.run(postEditor => {\n      const section = postEditor.builder.createMarkupSection('p')\n      postEditor.insertSectionBefore(this.post.sections, section)\n      postEditor.setRange(section.toRange())\n    })\n  }\n\n  /**\n   * @callback editorBeforeCallback\n   * @param { Object } details\n   * @param { Markup } details.markup\n   * @param { Range } details.range\n   * @param { boolean } details.willAdd Whether the markup will be applied\n   */\n\n  /**\n   * Register a callback that will be run before {@link Editor#toggleMarkup} is applied.\n   * If any callback returns literal `false`, the toggling of markup will be canceled.\n   * Note this only applies to calling `editor#toggleMarkup`. Using `editor.run` and\n   * modifying markup with the `postEditor` will skip any `beforeToggleMarkup` callbacks.\n   * @param {editorBeforeCallback}\n   */\n  beforeToggleMarkup(callback) {\n    this._beforeHooks.toggleMarkup.push(callback)\n  }\n\n  /**\n   * Toggles the given markup at the editor's current {@link Range}.\n   * If the range is collapsed this changes the editor's state so that the\n   * next characters typed will be affected. If there is text selected\n   * (aka a non-collapsed range), the selections' markup will be toggled.\n   * If the editor is not focused and has no active range, nothing happens.\n   * Hooks added using #beforeToggleMarkup will be run before toggling,\n   * and if any of them returns literal false, toggling the markup will be canceled\n   * and no change will be applied.\n   * @param {String} markup E.g. \"b\", \"em\", \"a\"\n   * @param {Object} [attributes={}] E.g. {href: \"http://bustle.com\"}\n   * @public\n   * @see PostEditor#toggleMarkup\n   */\n  toggleMarkup(markup, attributes = {}) {\n    markup = this.builder.createMarkup(markup, attributes)\n    let { range } = this\n    let willAdd = !this.detectMarkupInRange(range, markup.tagName)\n    let shouldCancel = this._runBeforeHooks('toggleMarkup', { markup, range, willAdd })\n    if (shouldCancel) {\n      return\n    }\n\n    if (range.isCollapsed) {\n      this._editState.toggleMarkupState(markup)\n      this._inputModeDidChange()\n\n      // when clicking a button to toggle markup, the button can end up being focused,\n      // so ensure the editor is focused\n      this._ensureFocus()\n    } else {\n      this.run(postEditor => postEditor.toggleMarkup(markup, range))\n    }\n  }\n\n  // If the editor has a selection but is not focused, focus it\n  _ensureFocus() {\n    if (this._hasSelection() && !this._hasFocus()) {\n      this.focus()\n    }\n  }\n\n  focus() {\n    this.element.focus()\n  }\n\n  /**\n   * Whether there is a selection inside the editor's element.\n   * It's possible to have a selection but not have focus.\n   * @see #_hasFocus\n   * @return {Boolean}\n   */\n  _hasSelection() {\n    let { cursor } = this\n    return this.hasRendered && (cursor._hasCollapsedSelection() || cursor._hasSelection())\n  }\n\n  /**\n   * Whether the editor's element is focused\n   * It's possible to be focused but have no selection\n   * @see #_hasSelection\n   * @return {Boolean}\n   */\n  _hasFocus() {\n    return document.activeElement === this.element\n  }\n\n  /**\n   * Toggles the tagName for the current active section(s). This will skip\n   * non-markerable sections. E.g. if the editor's range includes a \"P\" MarkupSection\n   * and a CardSection, only the MarkupSection will be toggled.\n   * @param {String} tagName The new tagname to change to.\n   * @public\n   * @see PostEditor#toggleSection\n   */\n  toggleSection(tagName) {\n    this.run(postEditor => postEditor.toggleSection(tagName, this.range))\n  }\n\n  /**\n   * Sets an attribute for the current active section(s).\n   *\n   * @param {String} key The attribute. The only valid attribute is 'text-align'.\n   * @param {String} value The value of the attribute.\n   * @public\n   * @see PostEditor#setAttribute\n   */\n  setAttribute(key, value) {\n    this.run(postEditor => postEditor.setAttribute(key, value, this.range))\n  }\n\n  /**\n   * Removes an attribute from the current active section(s).\n   *\n   * @param {String} key The attribute. The only valid attribute is 'text-align'.\n   * @public\n   * @see PostEditor#removeAttribute\n   */\n  removeAttribute(key) {\n    this.run(postEditor => postEditor.removeAttribute(key, this.range))\n  }\n\n  /**\n   * Finds and runs the first matching key command for the event\n   *\n   * If multiple commands are bound to a key combination, the\n   * first matching one is run.\n   *\n   * If a command returns `false` then the next matching command\n   * is run instead.\n   *\n   * @param {Event} event The keyboard event triggered by the user\n   * @return {Boolean} true when a command was successfully run\n   * @private\n   */\n  handleKeyCommand(event) {\n    const keyCommands = findKeyCommands(this.keyCommands, event)\n    for (let i = 0; i < keyCommands.length; i++) {\n      let keyCommand = keyCommands[i]\n      if (keyCommand.run(this) !== false) {\n        event.preventDefault()\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * Inserts the text at the current cursor position. If the editor has\n   * no current cursor position, nothing will be inserted. If the editor's\n   * range is not collapsed, it will be deleted before insertion.\n   *\n   * @param {String} text\n   * @public\n   */\n  insertText(text) {\n    if (!this.hasCursor()) {\n      return\n    }\n    if (this.post.isBlank) {\n      this._insertEmptyMarkupSectionAtCursor()\n    }\n    let {\n      activeMarkups,\n      range,\n      range: { head: position },\n    } = this\n\n    this.run(postEditor => {\n      if (!range.isCollapsed) {\n        position = postEditor.deleteRange(range)\n      }\n\n      postEditor.insertTextWithMarkup(position, text, activeMarkups)\n    })\n  }\n\n  /**\n   * Inserts an atom at the current cursor position. If the editor has\n   * no current cursor position, nothing will be inserted. If the editor's\n   * range is not collapsed, it will be deleted before insertion.\n   * @param {String} atomName\n   * @param {String} [atomText='']\n   * @param {Object} [atomPayload={}]\n   * @return {Atom} The inserted atom.\n   * @public\n   */\n  insertAtom(atomName, atomText = '', atomPayload = {}) {\n    if (!this.hasCursor()) {\n      return\n    }\n    if (this.post.isBlank) {\n      this._insertEmptyMarkupSectionAtCursor()\n    }\n\n    let atom\n    let { range } = this\n    this.run(postEditor => {\n      let position = range.head\n\n      atom = postEditor.builder.createAtom(atomName, atomText, atomPayload)\n      if (!range.isCollapsed) {\n        position = postEditor.deleteRange(range)\n      }\n\n      postEditor.insertMarkers(position, [atom])\n    })\n    return atom\n  }\n\n  /**\n   * Inserts a card at the section after the current cursor position. If the editor has\n   * no current cursor position, nothing will be inserted. If the editor's\n   * range is not collapsed, it will be deleted before insertion. If the cursor is in\n   * a blank section, it will be replaced with a card section.\n   * The editor's cursor will be placed at the end of the inserted card.\n   * @param {String} cardName\n   * @param {Object} [cardPayload={}]\n   * @param {Boolean} [inEditMode=false] Whether the card should be inserted in edit mode.\n   * @return {Card} The inserted Card section.\n   * @public\n   */\n  insertCard(cardName, cardPayload = {}, inEditMode = false) {\n    if (!this.hasCursor()) {\n      return\n    }\n    if (this.post.isBlank) {\n      this._insertEmptyMarkupSectionAtCursor()\n    }\n\n    let card\n    let { range } = this\n    this.run(postEditor => {\n      let position = range.tail\n      card = postEditor.builder.createCardSection(cardName, cardPayload)\n      if (inEditMode) {\n        this.editCard(card)\n      }\n\n      if (!range.isCollapsed) {\n        position = postEditor.deleteRange(range)\n      }\n\n      let section = position.section\n      if (section.isNested) {\n        section = section.parent\n      }\n\n      if (section.isBlank) {\n        postEditor.replaceSection(section, card)\n      } else {\n        let collection = this.post.sections\n        postEditor.insertSectionBefore(collection, card, section.next)\n      }\n\n      // It is important to explicitly set the range to the end of the card.\n      // Otherwise it is possible to create an inconsistent state in the\n      // browser. For instance, if the user clicked a button that\n      // called `editor.insertCard`, the editor surface may retain\n      // the selection but lose focus, and the next keystroke by the user\n      // will cause an unexpected DOM mutation (which can wipe out the\n      // card).\n      // See: https://github.com/bustle/mobiledoc-kit/issues/286\n      postEditor.setRange(card.tailPosition())\n    })\n    return card\n  }\n\n  /**\n   * @param {integer} x x-position in viewport\n   * @param {integer} y y-position in viewport\n   * @return {Position|null}\n   */\n  positionAtPoint(x, y) {\n    return Position.atPoint(x, y, this)\n  }\n\n  /**\n   * @private\n   */\n  _setCardMode(cardSection, mode) {\n    const renderNode = cardSection.renderNode\n    if (renderNode && renderNode.isRendered) {\n      const cardNode = renderNode.cardNode\n      cardNode[mode]()\n    } else {\n      cardSection.setInitialMode(mode)\n    }\n  }\n\n  triggerEvent(context, eventName, event) {\n    this._eventManager._trigger(context, eventName, event)\n  }\n\n  addCallback(...args) {\n    this._callbacks.addCallback(...args)\n  }\n\n  addCallbackOnce(...args) {\n    this._callbacks.addCallbackOnce(...args)\n  }\n\n  runCallbacks(...args) {\n    if (this.isDestroyed) {\n      // TODO warn that callback attempted after editor was destroyed\n      return\n    }\n    this._callbacks.runCallbacks(...args)\n  }\n\n  /**\n   * Runs each callback for the given hookName.\n   * Only the hookName 'toggleMarkup' is currently supported\n   * @return {Boolean} shouldCancel Whether the action in `hookName` should be canceled\n   * @private\n   */\n  _runBeforeHooks(hookName, ...args) {\n    let hooks = this._beforeHooks[hookName] || []\n    for (let i = 0; i < hooks.length; i++) {\n      if (hooks[i](...args) === false) {\n        return true\n      }\n    }\n  }\n}\n\nexport default Editor\n","export default '##VERSION##'\n"],"names":["Markuperable","FORWARD","BACKWARD","PostInserter","MOBILEDOC_VERSION","MOBILEDOC_MARKUP_SECTION_TYPE","MOBILEDOC_IMAGE_SECTION_TYPE","MOBILEDOC_LIST_SECTION_TYPE","MOBILEDOC_CARD_SECTION_TYPE","visitor","postOpcodeCompiler","MobiledocParser","MOBILEDOC_MARKUP_MARKER_TYPE","MOBILEDOC_ATOM_MARKER_TYPE","MOBILEDOC_VERSION_0_2","MobiledocParser_0_2","MOBILEDOC_VERSION_0_3","MobiledocParser_0_3","MOBILEDOC_VERSION_0_3_1","MobiledocParser_0_3_1","MOBILEDOC_VERSION_0_3_2","MobiledocParser_0_3_2","Visitor","DEFAULT_TAG_NAME","VALID_ATTRIBUTES","MarkuperableMixin","DEFAULT_MARKUP_SECTION_TAG_NAME","DEFAULT_LIST_SECTION_TAG_NAME","ImageSection","normalizeTagName","MARKUP_SECTION_TYPE","IMAGE_SECTION_TYPE","LIST_SECTION_TYPE","MARKUP_SECTION_ELEMENT_NAMES","contains","Renderer","ImageCard","IMAGE_SECTION_TAG_NAME","validateVersion","validateCards","validateAtoms","Renderer_0_2","Renderer_0_3","CARD_SECTION_TYPE","RENDER_TYPE","MARKUP_MARKER_TYPE","ATOM_MARKER_TYPE","LINE_BREAK","RendererFactory","CALLBACK_QUEUES","DOMRenderer","TextRenderer"],"mappings":"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"}